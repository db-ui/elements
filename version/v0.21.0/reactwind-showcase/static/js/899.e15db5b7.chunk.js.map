{"version":3,"file":"static/js/899.e15db5b7.chunk.js","mappings":"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","sources":["../../../packages/db-ui-elements-stencil/dist/esm/github-version-switcher.entry.js"],"sourcesContent":["import { r as registerInstance, h, H as Host } from './index-545aea95.js';\n\nconst githubVersionSwitcherCss = \".gh-version-switcher select{max-width:196px}\";\n\nconst GithubVersionSwitcher = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this._defaultBranch = 'latest';\n    this.stripString = (value) => {\n      return value.replace(/[^a-zA-Z0-9-]/g, '');\n    };\n    this.fetchFromGitHubApi = async (url) => {\n      const response = await fetch(url);\n      return await response.json();\n    };\n    this.setCurrentBranch = (branchNames) => {\n      const currentUrl = window.location.href;\n      const foundBranch = branchNames.find((branch) => currentUrl.includes(branch));\n      if (foundBranch) {\n        this.currentBranch = foundBranch;\n      }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.setBranches = (data) => {\n      const branchNames = data\n        .map((branch) => branch.name)\n        .filter((branch) => branch !== 'gh-pages' && !branch.includes('dependabot'));\n      branchNames.forEach((branch) => {\n        const foundGroup = this.groups.find((grp) => branch.startsWith(grp.prefix));\n        if (foundGroup) {\n          foundGroup.branches.push(branch);\n        }\n        else {\n          this.groups.at(-1).branches.push(branch);\n        }\n      });\n      this.setCurrentBranch(branchNames);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.setTags = (data) => {\n      const tagNames = data.map((tag) => tag.name);\n      tagNames.forEach((tag) => {\n        this.groups[0].branches.push(tag);\n      });\n      this.setCurrentBranch(tagNames);\n    };\n    this.owner = undefined;\n    this.repo = undefined;\n    this.groups = [\n      { prefix: 'v', name: 'Versions', branches: [] },\n      { prefix: 'test', name: 'Tests', branches: [] },\n      { prefix: 'feat', name: 'Features', branches: [] },\n      { prefix: 'fix', name: 'Bugfixes', branches: [] },\n      { prefix: 'chore', name: 'Chore', branches: [] },\n      { prefix: 'docs', name: 'Docs', branches: [] },\n      { prefix: 'refactor', name: 'Refactors', branches: [] },\n      { prefix: 'style', name: 'Styles', branches: [] },\n      { prefix: 'ci', name: 'CI', branches: [] },\n      { prefix: 'perf', name: 'Perf', branches: [] },\n      { prefix: '', name: 'Other', branches: [] }\n    ];\n    this.currentBranch = this._defaultBranch;\n    this.cleanOwner = undefined;\n    this.cleanRepo = undefined;\n  }\n  get defaultBranch() {\n    return this._defaultBranch;\n  }\n  set defaultBranch(value) {\n    this._defaultBranch = value;\n  }\n  async componentWillLoad() {\n    const cOwner = this.stripString(this.owner);\n    this.cleanOwner = cOwner;\n    const cRepo = this.stripString(this.repo);\n    this.cleanRepo = cRepo;\n    const branchesData = await this.fetchFromGitHubApi(`https://api.github.com/repos/${cOwner}/${cRepo}/branches`);\n    this.setBranches(branchesData);\n    const tagsData = await this.fetchFromGitHubApi(`https://api.github.com/repos/${cOwner}/${cRepo}/tags`);\n    this.setTags(tagsData);\n  }\n  // eslint-disable-next-line @stencil-community/own-methods-must-be-private\n  handleChange(branch, localOwner, localRepo) {\n    if (localOwner && localRepo) {\n      const currentUrl = top.location.href;\n      const urlPaths = currentUrl.split('?');\n      const lastPath = urlPaths[urlPaths.length - 1];\n      const isTag = branch.split('.').length === 3 && branch.startsWith('v');\n      top.location = `https://${localOwner}.github.io/${localRepo}${this._defaultBranch === branch\n        ? ''\n        : `${isTag ? '/version' : '/review'}/${branch}`}/?${lastPath}`;\n    }\n  }\n  render() {\n    var _a;\n    return (h(Host, null, ((_a = this.groups) === null || _a === void 0 ? void 0 : _a.length) > 0 && (h(\"db-select\", { class: \"gh-version-switcher\", label: \"Version\", name: \"Theme\", onDbChange: (event) => this.handleChange(event.target.value, this.cleanOwner, this.cleanRepo) }, h(\"option\", { value: this._defaultBranch, selected: this.currentBranch === this._defaultBranch }, this._defaultBranch), this.groups\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      .filter((group) => { var _a; return ((_a = group.branches) === null || _a === void 0 ? void 0 : _a.length) > 0; })\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      .map((group) => (h(\"optgroup\", { key: group.name, label: group.name }, group.branches.map((branch, index) => (h(\"option\", { key: `${group.name}-${branch}-${index}`, value: branch, selected: this.currentBranch === branch }, branch))))))))));\n  }\n};\nGithubVersionSwitcher.style = githubVersionSwitcherCss;\n\nexport { GithubVersionSwitcher as github_version_switcher };\n"],"names":["GithubVersionSwitcher","hostRef","_this","_classCallCheck","registerInstance","this","_defaultBranch","stripString","value","replace","fetchFromGitHubApi","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","_x","apply","arguments","setCurrentBranch","branchNames","currentUrl","window","location","href","foundBranch","find","branch","includes","currentBranch","setBranches","data","map","name","filter","forEach","foundGroup","groups","grp","startsWith","prefix","branches","push","at","setTags","tagNames","tag","owner","undefined","repo","cleanOwner","cleanRepo","_createClass","key","get","set","_componentWillLoad","_callee2","cOwner","cRepo","branchesData","tagsData","_context2","concat","localOwner","localRepo","urlPaths","top","split","lastPath","length","isTag","_a","_this2","h","Host","class","label","onDbChange","event","handleChange","target","selected","group","index","style"],"sourceRoot":""}