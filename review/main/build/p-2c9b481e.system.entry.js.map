{"version":3,"names":["dbLanguageSwitcherCss","DbLanguageSwitcherStyle0","getCompDataHtml","compData","ariaSelectedIndex","map","data","index","concat","title","href","label","join","DbLanguageSwitcher","exports","Object","defineProperty","class_1","prototype","this","_children","value","componentWillLoad","_this","parseData","Array","from","host","children","find","child","tagName","toLowerCase","hasItemsWrapper","filter","forEach","setAttribute","innerHTML","render","h","Host","key","class","outerHTML"],"sources":["src/components/db-language-switcher/db-language-switcher.scss?tag=db-language-switcher","src/components/db-language-switcher/db-language-switcher.tsx"],"sourcesContent":["@import '../general';\n@import 'language-switcher';\n\n:host {\n  @extend html;\n  @extend body;\n}\n\na {\n  @extend .elm-link;\n}\n","/*  eslint-disable @stencil-community/decorators-style */\nimport { Component, Element, Host, h, Prop } from '@stencil/core';\nimport { DbLinkType } from '../db-link/db-link-type';\nimport { parseData } from '../../utils/utils';\n\nconst getCompDataHtml = (compData: DbLinkType[], ariaSelectedIndex: number) => {\n  if (!compData) return '';\n  return compData\n    .map(\n      (data, index) =>\n        `<li role=\"option\" ${\n          ariaSelectedIndex === index ? 'aria-selected' : ''\n        } ><db-link title=\"${data.title}\"  href=\"${data.href}\">${\n          data.label\n        }</db-link></li>`\n    )\n    .join('\\n');\n};\n\n@Component({\n  tag: 'db-language-switcher',\n  styleUrl: 'db-language-switcher.scss'\n})\nexport class DbLanguageSwitcher {\n  /**\n   * The aria-selected-index shows the link as selected which has the given index.\n   */\n  @Prop({ reflect: true, attribute: 'aria-selected-index' })\n  ariaSelectedIndex: number;\n  /**\n   * The data attribute can be used to generate linklist by data.\n   */\n  @Prop({ reflect: true }) data?: string;\n\n  private compData: DbLinkType[];\n\n  private hasItemsWrapper: boolean;\n\n  get children(): Element[] {\n    return this._children;\n  }\n\n  set children(value: Element[]) {\n    this._children = value;\n  }\n  private _children: Element[];\n\n  @Element() host: HTMLDbLanguageSwitcherElement;\n\n  componentWillLoad() {\n    if (this.data) {\n      this.compData = parseData(this.data);\n    } else {\n      this._children = Array.from(this.host.children);\n      if (this.children.find((child) => child.tagName.toLowerCase() === 'li')) {\n        this.hasItemsWrapper = true;\n        this._children\n          .filter((child) => child.tagName.toLowerCase() === 'li')\n          .forEach((child, index) => {\n            if (index === this.ariaSelectedIndex) {\n              child.setAttribute('aria-selected', 'true');\n            }\n            child.setAttribute('role', 'option');\n          });\n      } else {\n        this.host.innerHTML = '';\n      }\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.compData && (\n          <ul\n            class=\"cmp-language-switcher\"\n            innerHTML={getCompDataHtml(this.compData, this.ariaSelectedIndex)}\n          />\n        )}\n        {!this.compData && (\n          <ul class=\"cmp-language-switcher\">\n            {!this.hasItemsWrapper &&\n              this._children.map((child, index) => (\n                <li\n                  key={`cmp-language-switcher-item-${index}`}\n                  aria-current={index === this.ariaSelectedIndex}\n                  innerHTML={child.outerHTML}\n                />\n              ))}\n            {this.hasItemsWrapper && <slot />}\n          </ul>\n        )}\n      </Host>\n    );\n  }\n}\n"],"mappings":"wMAAA,IAAMA,EAAwB,miTAC9B,IAAAC,EAAeD,ECIf,IAAME,EAAkB,SAACC,EAAwBC,GAC/C,IAAKD,EAAU,MAAO,GACtB,OAAOA,EACJE,KACC,SAACC,EAAMC,GACL,2BAAAC,OACEJ,IAAsBG,EAAQ,gBAAkB,GAClD,sBAAAC,OAAqBF,EAAKG,MAAK,aAAAD,OAAYF,EAAKI,KAAI,MAAAF,OAClDF,EAAKK,MACP,kBAJA,IAMHC,KAAK,KACV,E,IAMaC,EAAkBC,EAAA,kC,6EAe7BC,OAAAC,eAAIC,EAAAC,UAAA,WAAQ,C,IAAZ,WACE,OAAOC,KAAKC,S,MAGd,SAAaC,GACXF,KAAKC,UAAYC,C,uCAMnBJ,EAAAC,UAAAI,kBAAA,eAAAC,EAAAJ,KACE,GAAIA,KAAKb,KAAM,CACba,KAAKhB,SAAWqB,EAAUL,KAAKb,K,KAC1B,CACLa,KAAKC,UAAYK,MAAMC,KAAKP,KAAKQ,KAAKC,UACtC,GAAIT,KAAKS,SAASC,MAAK,SAACC,GAAU,OAAAA,EAAMC,QAAQC,gBAAkB,IAAhC,IAAuC,CACvEb,KAAKc,gBAAkB,KACvBd,KAAKC,UACFc,QAAO,SAACJ,GAAU,OAAAA,EAAMC,QAAQC,gBAAkB,IAAhC,IAClBG,SAAQ,SAACL,EAAOvB,GACf,GAAIA,IAAUgB,EAAKnB,kBAAmB,CACpC0B,EAAMM,aAAa,gBAAiB,O,CAEtCN,EAAMM,aAAa,OAAQ,S,QAE1B,CACLjB,KAAKQ,KAAKU,UAAY,E,IAK5BpB,EAAAC,UAAAoB,OAAA,eAAAf,EAAAJ,KACE,OACEoB,EAACC,EAAI,CAAAC,IAAA,4CACFtB,KAAKhB,UACJoC,EAAA,MAAAE,IAAA,2CACEC,MAAM,wBACNL,UAAWnC,EAAgBiB,KAAKhB,SAAUgB,KAAKf,sBAGjDe,KAAKhB,UACLoC,EAAA,MAAAE,IAAA,2CAAIC,MAAM,0BACNvB,KAAKc,iBACLd,KAAKC,UAAUf,KAAI,SAACyB,EAAOvB,GAAK,OAC9BgC,EAAA,MACEE,IAAK,8BAAAjC,OAA8BD,GAAO,eAC5BA,IAAUgB,EAAKnB,kBAC7BiC,UAAWP,EAAMa,WAJW,IAOjCxB,KAAKc,iBAAmBM,EAAA,QAAAE,IAAA,8C,yHAlEN,I","ignoreList":[]}