/*! For license information please see main.d7ef46b7.js.LICENSE.txt */
!function(){var e={9034:function(e,t,n){var r={"./db-accordion.entry.js":[5906,906],"./db-brand.entry.js":[9941,941],"./db-breadcrumb.entry.js":[4560,560],"./db-button_2.entry.js":[7152,152],"./db-card.entry.js":[7472,472],"./db-cards.entry.js":[5542,542],"./db-checkbox.entry.js":[3304,304],"./db-chip.entry.js":[8933,789],"./db-dropdown.entry.js":[4897,897],"./db-footer.entry.js":[5341,341],"./db-header.entry.js":[1136,136],"./db-headline.entry.js":[4230,230],"./db-image.entry.js":[566,566],"./db-input.entry.js":[6988,988],"./db-language-switcher.entry.js":[2095,95],"./db-link.entry.js":[7737,737],"./db-linklist.entry.js":[8880,880],"./db-mainnavigation.entry.js":[9558,558],"./db-meta.entry.js":[2913,913],"./db-metanavigation.entry.js":[4981,981],"./db-notification.entry.js":[1201,201],"./db-notifications.entry.js":[6114,114],"./db-overflow-menu.entry.js":[6505,505],"./db-page.entry.js":[9423,423],"./db-pagination.entry.js":[5661,661],"./db-progress.entry.js":[6530,530],"./db-radio.entry.js":[9572,572],"./db-select.entry.js":[258,258],"./db-sidenavi.entry.js":[3578,578],"./db-tab-bar.entry.js":[2582,582],"./db-tab.entry.js":[658,658],"./db-table.entry.js":[3438,438],"./db-tag.entry.js":[651,651],"./db-textarea.entry.js":[5091,91],"./db-toggle.entry.js":[6061,61],"./github-version-switcher.entry.js":[6899,899]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=9034,e.exports=i},170:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var s,a,l=i(e),c=1;c<arguments.length;c++){for(var u in s=Object(arguments[c]))n.call(s,u)&&(l[u]=s[u]);if(t){a=t(s);for(var h=0;h<a.length;h++)r.call(s,a[h])&&(l[a[h]]=s[a[h]])}}return l}},984:function(e,t,n){"use strict";var r=n(170),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),s=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var b=y.prototype=new v;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var _=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return s=s(l=e),e=""===r?"."+O(l,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),E(s,t,n,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+O(a=e[c],c);l+=E(a,t,n,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=E(a=a.value,t,n,u=r+O(a,c++),s);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return E(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var $={current:null};function L(){var e=$.current;if(null===e)throw Error(f(321));return e}var R={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(f(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var o=r({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)x.call(t,u)&&!k.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="17.0.2"},1479:function(e,t,n){"use strict";e.exports=n(984)},824:function(e,t,n){"use strict";n.d(t,{F:function(){return we},H:function(){return E},b:function(){return be},c:function(){return R},g:function(){return L},h:function(){return _},p:function(){return Pe},r:function(){return Ce}});var r,i,o,s=n(5671),a=n(3144),l=n(7326),c=n(136),u=n(7277),h=n(8737),d=n(4165),f=n(5861),p=n(9439),g=n(3433),m=!1,v=!1,y=!1,b=!1,w=!1,x="{visibility:hidden}.hydrated{visibility:inherit}",k="http://www.w3.org/1999/xlink",C={},S=function(e){return"object"===(e=typeof e)||"function"===e},_=function(e,t){for(var n=null,r=null,i=null,o=!1,s=!1,a=[],l=function t(r){for(var i=0;i<r.length;i++)n=r[i],Array.isArray(n)?t(n):null!=n&&"boolean"!==typeof n&&((o="function"!==typeof e&&!S(n))&&(n=String(n)),o&&s?a[a.length-1].$text$+=n:a.push(o?O(null,n):n),s=o)},c=arguments.length,u=new Array(c>2?c-2:0),h=2;h<c;h++)u[h-2]=arguments[h];if(l(u),t){t.key&&(r=t.key),t.name&&(i=t.name);var d=t.className||t.class;d&&(t.class="object"!==typeof d?d:Object.keys(d).filter((function(e){return d[e]})).join(" "))}if("function"===typeof e)return e(null===t?{}:t,a,T);var f=O(e,null);return f.$attrs$=t,a.length>0&&(f.$children$=a),f.$key$=r,f.$name$=i,f},O=function(e,t){var n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return n},E={},T={forEach:function(e,t){return e.map(A).forEach(t)},map:function(e,t){return e.map(A).map(t).map($)}},A=function(e){return{vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}},$=function(e){if("function"===typeof e.vtag){var t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),_.apply(void 0,[e.vtag,t].concat((0,g.Z)(e.vchildren||[])))}var n=O(e.vtag,e.vtext);return n.$attrs$=e.vattrs,n.$children$=e.vchildren,n.$key$=e.vkey,n.$name$=e.vname,n},L=function(e){return ke(e).$hostElement$},R=function(e,t,n){var r=L(e);return{emit:function(e){return P(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}}},P=function(e,t,n){var r=Re.ce(t,n);return e.dispatchEvent(r),r},M=new WeakMap,D=function(e,t,n){var r=Ae.get(e);Me&&n?"string"===typeof(r=r||new CSSStyleSheet)?r=t:r.replaceSync(t):r=t,Ae.set(e,r)},j=function(e){var t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,i=(t.$tagName$,function(){}),o=function(e,t,n,r){var i=N(t),o=Ae.get(i);if(e=11===e.nodeType?e:Le,o)if("string"===typeof o){e=e.head||e;var s,a=M.get(e);a||M.set(e,a=new Set),a.has(i)||((s=Le.createElement("style")).innerHTML=o,e.insertBefore(s,e.querySelector("link")),a&&a.add(i))}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=[].concat((0,g.Z)(e.adoptedStyleSheets),[o]));return i}(n.shadowRoot?n.shadowRoot:n.getRootNode(),t);10&r&&(n["s-sc"]=o,n.classList.add(o+"-h"),2&r&&n.classList.add(o+"-s")),i()},N=function(e,t){return"sc-"+e.$tagName$},I=function(e,t,n,r,i,o){if(n!==r){var s=_e(e,t),a=t.toLowerCase();if("class"===t){var l=e.classList,c=B(n),u=B(r);l.remove.apply(l,(0,g.Z)(c.filter((function(e){return e&&!u.includes(e)})))),l.add.apply(l,(0,g.Z)(u.filter((function(e){return e&&!c.includes(e)}))))}else if("style"===t){for(var h in n)r&&null!=r[h]||(h.includes("-")?e.style.removeProperty(h):e.style[h]="");for(var d in r)n&&r[d]===n[d]||(d.includes("-")?e.style.setProperty(d,r[d]):e.style[d]=r[d])}else if("key"===t);else if("ref"===t)r&&r(e);else if(s||"o"!==t[0]||"n"!==t[1]){var f=S(r);if((s||f&&null!==r)&&!i)try{if(e.tagName.includes("-"))e[t]=r;else{var p=null==r?"":r;"list"===t?s=!1:null!=n&&e[t]==p||(e[t]=p)}}catch(v){}var m=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,m=!0),null==r||!1===r?!1===r&&""!==e.getAttribute(t)||(m?e.removeAttributeNS(k,t):e.removeAttribute(t)):(!s||4&o||i)&&!f&&(r=!0===r?"":r,m?e.setAttributeNS(k,t,r):e.setAttribute(t,r))}else t="-"===t[2]?t.slice(3):_e($e,a)?a.slice(2):a[2]+t.slice(3),n&&Re.rel(e,t,n,!1),r&&Re.ael(e,t,r,!1)}},F=/\s/,B=function(e){return e?e.split(F):[]},H=function(e,t,n,r){var i=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,o=e&&e.$attrs$||C,s=t.$attrs$||C;for(r in o)r in s||I(i,r,o[r],void 0,n,t.$flags$);for(r in s)I(i,r,o[r],s[r],n,t.$flags$)},Z=function e(t,n,s,a){var l,c,u,h=n.$children$[s],d=0;if(m||(y=!0,"slot"===h.$tag$&&(r&&a.classList.add(r+"-s"),h.$flags$|=h.$children$?2:1)),null!==h.$text$)l=h.$elm$=Le.createTextNode(h.$text$);else if(1&h.$flags$)l=h.$elm$=Le.createTextNode("");else{if(b||(b="svg"===h.$tag$),l=h.$elm$=Le.createElementNS(b?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&h.$flags$?"slot-fb":h.$tag$),b&&"foreignObject"===h.$tag$&&(b=!1),H(null,h,b),null!=r&&l["s-si"]!==r&&l.classList.add(l["s-si"]=r),h.$children$)for(d=0;d<h.$children$.length;++d)(c=e(t,h,d,l))&&l.appendChild(c);"svg"===h.$tag$?b=!1:"foreignObject"===l.tagName&&(b=!0)}return l["s-hn"]=o,3&h.$flags$&&(l["s-sr"]=!0,l["s-cr"]=i,l["s-sn"]=h.$name$||"",(u=t&&t.$children$&&t.$children$[s])&&u.$tag$===h.$tag$&&t.$elm$&&z(t.$elm$,!1)),l},z=function e(t,n){Re.$flags$|=1;for(var r=t.childNodes,i=r.length-1;i>=0;i--){var s=r[i];s["s-hn"]!==o&&s["s-ol"]&&(K(s).insertBefore(s,q(s)),s["s-ol"].remove(),s["s-ol"]=void 0,y=!0),n&&e(s,n)}Re.$flags$&=-2},V=function(e,t,n,r,i,s){var a,l=e["s-cr"]&&e["s-cr"].parentNode||e;for(l.shadowRoot&&l.tagName===o&&(l=l.shadowRoot);i<=s;++i)r[i]&&(a=Z(null,n,i,e))&&(r[i].$elm$=a,l.insertBefore(a,q(t)))},W=function(e,t,n,r,i){for(;t<=n;++t)(r=e[t])&&(i=r.$elm$,te(r),v=!0,i["s-ol"]?i["s-ol"].remove():z(i,!0),i.remove())},U=function(e,t,n,r){for(var i,o,s=0,a=0,l=0,c=0,u=t.length-1,h=t[0],d=t[u],f=r.length-1,p=r[0],g=r[f];s<=u&&a<=f;)if(null==h)h=t[++s];else if(null==d)d=t[--u];else if(null==p)p=r[++a];else if(null==g)g=r[--f];else if(G(h,p))Y(h,p),h=t[++s],p=r[++a];else if(G(d,g))Y(d,g),d=t[--u],g=r[--f];else if(G(h,g))"slot"!==h.$tag$&&"slot"!==g.$tag$||z(h.$elm$.parentNode,!1),Y(h,g),e.insertBefore(h.$elm$,d.$elm$.nextSibling),h=t[++s],g=r[--f];else if(G(d,p))"slot"!==h.$tag$&&"slot"!==g.$tag$||z(d.$elm$.parentNode,!1),Y(d,p),e.insertBefore(d.$elm$,h.$elm$),d=t[--u],p=r[++a];else{for(l=-1,c=s;c<=u;++c)if(t[c]&&null!==t[c].$key$&&t[c].$key$===p.$key$){l=c;break}l>=0?((o=t[l]).$tag$!==p.$tag$?i=Z(t&&t[a],n,l,e):(Y(o,p),t[l]=void 0,i=o.$elm$),p=r[++a]):(i=Z(t&&t[a],n,a,e),p=r[++a]),i&&K(h.$elm$).insertBefore(i,q(h.$elm$))}s>u?V(e,null==r[f+1]?null:r[f+1].$elm$,n,r,a,f):a>f&&W(t,s,u)},G=function(e,t){return e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:e.$key$===t.$key$)},q=function(e){return e&&e["s-ol"]||e},K=function(e){return(e["s-ol"]?e["s-ol"]:e).parentNode},Y=function(e,t){var n,r=t.$elm$=e.$elm$,i=e.$children$,o=t.$children$,s=t.$tag$,a=t.$text$;null===a?(b="svg"===s||"foreignObject"!==s&&b,"slot"===s||H(e,t,b),null!==i&&null!==o?U(r,i,t,o):null!==o?(null!==e.$text$&&(r.textContent=""),V(r,null,t,o,0,o.length-1)):null!==i&&W(i,0,i.length-1),b&&"svg"===s&&(b=!1)):(n=r["s-cr"])?n.parentNode.textContent=a:e.$text$!==a&&(r.data=a)},X=function e(t){var n,r,i,o,s,a,l=t.childNodes;for(r=0,i=l.length;r<i;r++)if(1===(n=l[r]).nodeType){if(n["s-sr"])for(s=n["s-sn"],n.hidden=!1,o=0;o<i;o++)if(a=l[o].nodeType,l[o]["s-hn"]!==n["s-hn"]||""!==s){if(1===a&&s===l[o].getAttribute("slot")){n.hidden=!0;break}}else if(1===a||3===a&&""!==l[o].textContent.trim()){n.hidden=!0;break}e(n)}},J=[],Q=function e(t){for(var n,r,i,o,s,a,l=0,c=t.childNodes,u=c.length;l<u;l++){if((n=c[l])["s-sr"]&&(r=n["s-cr"])&&r.parentNode)for(i=r.parentNode.childNodes,o=n["s-sn"],a=i.length-1;a>=0;a--)(r=i[a])["s-cn"]||r["s-nr"]||r["s-hn"]===n["s-hn"]||(ee(r,o)?(s=J.find((function(e){return e.$nodeToRelocate$===r})),v=!0,r["s-sn"]=r["s-sn"]||o,s?s.$slotRefNode$=n:J.push({$slotRefNode$:n,$nodeToRelocate$:r}),r["s-sr"]&&J.map((function(e){ee(e.$nodeToRelocate$,r["s-sn"])&&(s=J.find((function(e){return e.$nodeToRelocate$===r})))&&!e.$slotRefNode$&&(e.$slotRefNode$=s.$slotRefNode$)}))):J.some((function(e){return e.$nodeToRelocate$===r}))||J.push({$nodeToRelocate$:r}));1===n.nodeType&&e(n)}},ee=function(e,t){return 1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t},te=function e(t){t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(e)},ne=function(e,t){var n,s=e.$hostElement$,a=e.$cmpMeta$,l=e.$vnode$||O(null,null),c=(n=t)&&n.$tag$===E?t:_(null,null,t);if(o=s.tagName,a.$attrsToReflect$&&(c.$attrs$=c.$attrs$||{},a.$attrsToReflect$.map((function(e){var t=(0,p.Z)(e,2),n=t[0],r=t[1];return c.$attrs$[r]=s[n]}))),c.$tag$=null,c.$flags$|=4,e.$vnode$=c,c.$elm$=l.$elm$=s.shadowRoot||s,r=s["s-sc"],i=s["s-cr"],m=0!==(1&a.$flags$),v=!1,Y(l,c),Re.$flags$|=1,y){var u,h,d,f,g,b;Q(c.$elm$);for(var w=0;w<J.length;w++)(h=(u=J[w]).$nodeToRelocate$)["s-ol"]||((d=Le.createTextNode(""))["s-nr"]=h,h.parentNode.insertBefore(h["s-ol"]=d,h));for(w=0;w<J.length;w++)if(h=(u=J[w]).$nodeToRelocate$,u.$slotRefNode$){for(f=u.$slotRefNode$.parentNode,g=u.$slotRefNode$.nextSibling,d=h["s-ol"];d=d.previousSibling;)if((b=d["s-nr"])&&b["s-sn"]===h["s-sn"]&&f===b.parentNode&&(!(b=b.nextSibling)||!b["s-nr"])){g=b;break}(!g&&f!==h.parentNode||h.nextSibling!==g)&&h!==g&&(!h["s-hn"]&&h["s-ol"]&&(h["s-hn"]=h["s-ol"].parentNode.nodeName),f.insertBefore(h,g))}else 1===h.nodeType&&(h.hidden=!0)}v&&X(c.$elm$),Re.$flags$&=-2,J.length=0},re=function(e,t){t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((function(t){return e.$onRenderResolve$=t})))},ie=function(e,t){if(e.$flags$|=16,!(4&e.$flags$)){re(e,e.$ancestorComponent$);return He((function(){return oe(e,t)}))}e.$flags$|=512},oe=function(e,t){var n,r=(e.$cmpMeta$.$tagName$,function(){}),i=e.$lazyInstance$;return t&&(n=ue(i,"componentWillLoad")),r(),he(n,(function(){return se(e,i,t)}))},se=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t,n,r){var i,o,s,a,l,c;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.$hostElement$,t.$cmpMeta$.$tagName$,o=function(){},s=i["s-rc"],r&&j(t),t.$cmpMeta$.$tagName$,a=function(){},ae(t,n),s&&(s.map((function(e){return e()})),i["s-rc"]=void 0),a(),o(),l=i["s-p"],c=function(){return le(t)},0===l.length?c():(Promise.all(l).then(c),t.$flags$|=4,l.length=0);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ae=function(e,t,n){try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,ne(e,t)}catch(r){Oe(r,e.$hostElement$)}return null},le=function(e){e.$cmpMeta$.$tagName$;var t=e.$hostElement$,n=function(){},r=e.$ancestorComponent$;64&e.$flags$?n():(e.$flags$|=64,de(t),n(),e.$onReadyResolve$(t),r||ce()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&Be((function(){return ie(e,!1)})),e.$flags$&=-517},ce=function(e){de(Le.documentElement),Be((function(){return P($e,"appload",{detail:{namespace:"db-ui-elements"}})}))},ue=function(e,t,n){if(e&&e[t])try{return e[t](n)}catch(r){Oe(r)}},he=function(e,t){return e&&e.then?e.then(t):t()},de=function(e){return e.classList.add("hydrated")},fe=function(e,t,n,r){var i,o,s=ke(e),a=s.$hostElement$,l=s.$instanceValues$.get(t),c=s.$flags$,u=s.$lazyInstance$;i=n,o=r.$members$[t][0],n=null==i||S(i)?i:4&o?"false"!==i&&(""===i||!!i):2&o?parseFloat(i):1&o?String(i):i;var h=Number.isNaN(l)&&Number.isNaN(n);if((!(8&c)||void 0===l)&&(n!==l&&!h)&&(s.$instanceValues$.set(t,n),u)){if(r.$watchers$&&128&c){var d=r.$watchers$[t];d&&d.map((function(e){try{u[e](n,l,t)}catch(r){Oe(r,a)}}))}2===(18&c)&&ie(s,!1)}},pe=function(e,t,n){if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);var r=Object.entries(t.$members$),i=e.prototype;if(r.map((function(e){var r=(0,p.Z)(e,2),o=r[0],s=(0,p.Z)(r[1],1)[0];31&s||2&n&&32&s?Object.defineProperty(i,o,{get:function(){return e=o,ke(this).$instanceValues$.get(e);var e},set:function(e){fe(this,o,e,t)},configurable:!0,enumerable:!0}):1&n&&64&s&&Object.defineProperty(i,o,{value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ke(this);return r.$onInstancePromise$.then((function(){var e;return(e=r.$lazyInstance$)[o].apply(e,t)}))}})})),1&n){var o=new Map;i.attributeChangedCallback=function(e,t,n){var r=this;Re.jmp((function(){var t=o.get(e);if(r.hasOwnProperty(t))n=r[t],delete r[t];else if(i.hasOwnProperty(t)&&"number"===typeof r[t]&&r[t]==n)return;r[t]=(null!==n||"boolean"!==typeof r[t])&&n}))},e.observedAttributes=r.filter((function(e){var t=(0,p.Z)(e,2);t[0];return 15&t[1][0]})).map((function(e){var n=(0,p.Z)(e,2),r=n[0],i=n[1],s=i[1]||r;return o.set(s,r),512&i[0]&&t.$attrsToReflect$.push([r,s]),s}))}}return e},ge=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t,n,r,i,o){var s,a,l,c,u,h,f;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(32&n.$flags$)){e.next=17;break}if(n.$flags$|=32,!(o=Te(r)).then){e.next=9;break}return s=function(){},e.next=7,o;case 7:o=e.sent,s();case 9:o.isProxied||(r.$watchers$=o.watchers,pe(o,r,2),o.isProxied=!0),r.$tagName$,a=function(){},n.$flags$|=8;try{new o(n)}catch(t){Oe(t)}n.$flags$&=-9,n.$flags$|=128,a(),o.style&&(l=o.style,c=N(r),Ae.has(c)||(r.$tagName$,u=function(){},D(c,l,!!(1&r.$flags$)),u()));case 17:h=n.$ancestorComponent$,f=function(){return ie(n,!0)},h&&h["s-rc"]?h["s-rc"].push(f):f();case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),me=function(e){if(0===(1&Re.$flags$)){var t=ke(e),n=t.$cmpMeta$,r=(n.$tagName$,function(){});if(!(1&t.$flags$)){t.$flags$|=1,12&n.$flags$&&ve(e);for(var i=e;i=i.parentNode||i.host;)if(i["s-p"]){re(t,t.$ancestorComponent$=i);break}n.$members$&&Object.entries(n.$members$).map((function(t){var n=(0,p.Z)(t,2),r=n[0];if(31&(0,p.Z)(n[1],1)[0]&&e.hasOwnProperty(r)){var i=e[r];delete e[r],e[r]=i}})),ge(e,t,n)}r()}},ve=function(e){var t=e["s-cr"]=Le.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},ye=function(e){0===(1&Re.$flags$)&&ke(e)},be=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(){},i=[],o=n.exclude||[],d=$e.customElements,f=Le.head,p=f.querySelector("meta[charset]"),g=Le.createElement("style"),m=[],v=!0;Object.assign(Re,n),Re.$resourcesUrl$=new URL(n.resourcesUrl||"./",Le.baseURI).href,e.map((function(e){e[1].map((function(n){var r={$flags$:n[0],$tagName$:n[1],$members$:n[2],$listeners$:n[3]};r.$members$=n[2],r.$attrsToReflect$=[],r.$watchers$={};var f=r.$tagName$,p=function(e){(0,c.Z)(i,e);var n=(0,u.Z)(i);function i(e){var t;return(0,s.Z)(this,i),t=n.call(this,e),e=(0,l.Z)(t),Se(e,r),1&r.$flags$&&e.attachShadow({mode:"open"}),t}return(0,a.Z)(i,[{key:"connectedCallback",value:function(){var e=this;t&&(clearTimeout(t),t=null),v?m.push(this):Re.jmp((function(){return me(e)}))}},{key:"disconnectedCallback",value:function(){var e=this;Re.jmp((function(){return ye(e)}))}},{key:"componentOnReady",value:function(){return ke(this).$onReadyPromise$}}]),i}((0,h.Z)(HTMLElement));r.$lazyBundleId$=e[0],o.includes(f)||d.get(f)||(i.push(f),d.define(f,pe(p,r,1)))}))})),g.innerHTML=i+x,g.setAttribute("data-styles",""),f.insertBefore(g,p?p.nextSibling:f.firstChild),v=!1,m.length?m.map((function(e){return e.connectedCallback()})):Re.jmp((function(){return t=setTimeout(ce,30)})),r()},we=function(e,t){return t},xe=new WeakMap,ke=function(e){return xe.get(e)},Ce=function(e,t){return xe.set(t.$lazyInstance$=e,t)},Se=function(e,t){var n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise((function(e){return n.$onInstanceResolve$=e})),n.$onReadyPromise$=new Promise((function(e){return n.$onReadyResolve$=e})),e["s-p"]=[],e["s-rc"]=[],xe.set(e,n)},_e=function(e,t){return t in e},Oe=function(e,t){return(0,console.error)(e,t)},Ee=new Map,Te=function(e,t,r){var i=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleId$,s=Ee.get(o);if(s)return s[i];if(!r||!BUILD.hotModuleReplacement){var a=function(e){return Ee.set(o,e),e[i]};switch(o){case"db-button_2":return n.e(152).then(n.bind(n,7152)).then(a,Oe);case"db-accordion":return n.e(906).then(n.bind(n,5906)).then(a,Oe);case"db-brand":return n.e(941).then(n.bind(n,9941)).then(a,Oe);case"db-breadcrumb":return n.e(560).then(n.bind(n,4560)).then(a,Oe);case"db-card":return n.e(472).then(n.bind(n,7472)).then(a,Oe);case"db-cards":return n.e(542).then(n.bind(n,5542)).then(a,Oe);case"db-checkbox":return n.e(304).then(n.bind(n,3304)).then(a,Oe);case"db-chip":return n.e(789).then(n.bind(n,8933)).then(a,Oe);case"db-dropdown":return n.e(897).then(n.bind(n,4897)).then(a,Oe);case"db-footer":return n.e(341).then(n.bind(n,5341)).then(a,Oe);case"db-header":return n.e(136).then(n.bind(n,1136)).then(a,Oe);case"db-image":return n.e(566).then(n.bind(n,566)).then(a,Oe);case"db-input":return n.e(988).then(n.bind(n,6988)).then(a,Oe);case"db-language-switcher":return n.e(95).then(n.bind(n,2095)).then(a,Oe);case"db-link":return n.e(737).then(n.bind(n,7737)).then(a,Oe);case"db-linklist":return n.e(880).then(n.bind(n,8880)).then(a,Oe);case"db-mainnavigation":return n.e(558).then(n.bind(n,9558)).then(a,Oe);case"db-meta":return n.e(913).then(n.bind(n,2913)).then(a,Oe);case"db-metanavigation":return n.e(981).then(n.bind(n,4981)).then(a,Oe);case"db-notification":return n.e(201).then(n.bind(n,1201)).then(a,Oe);case"db-notifications":return n.e(114).then(n.bind(n,6114)).then(a,Oe);case"db-overflow-menu":return n.e(505).then(n.bind(n,6505)).then(a,Oe);case"db-page":return n.e(423).then(n.bind(n,9423)).then(a,Oe);case"db-pagination":return n.e(661).then(n.bind(n,5661)).then(a,Oe);case"db-progress":return n.e(530).then(n.bind(n,6530)).then(a,Oe);case"db-radio":return n.e(572).then(n.bind(n,9572)).then(a,Oe);case"db-sidenavi":return n.e(578).then(n.bind(n,3578)).then(a,Oe);case"db-tab":return n.e(658).then(n.bind(n,658)).then(a,Oe);case"db-tab-bar":return n.e(582).then(n.bind(n,2582)).then(a,Oe);case"db-table":return n.e(438).then(n.bind(n,3438)).then(a,Oe);case"db-tag":return n.e(651).then(n.bind(n,651)).then(a,Oe);case"db-textarea":return n.e(91).then(n.bind(n,5091)).then(a,Oe);case"db-toggle":return n.e(61).then(n.bind(n,6061)).then(a,Oe);case"github-version-switcher":return n.e(899).then(n.bind(n,6899)).then(a,Oe);case"db-headline":return n.e(230).then(n.bind(n,4230)).then(a,Oe);case"db-select":return n.e(258).then(n.bind(n,258)).then(a,Oe)}}return n(9034)("./".concat(o,".entry.js")).then((function(e){return Ee.set(o,e),e[i]}),Oe)},Ae=new Map,$e="undefined"!==typeof window?window:{},Le=$e.document||{head:{}},Re={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,n,r){return e.addEventListener(t,n,r)},rel:function(e,t,n,r){return e.removeEventListener(t,n,r)},ce:function(e,t){return new CustomEvent(e,t)}},Pe=function(e){return Promise.resolve(e)},Me=function(){try{return new CSSStyleSheet,"function"===typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1}(),De=[],je=[],Ne=function(e,t){return function(n){e.push(n),w||(w=!0,t&&4&Re.$flags$?Be(Fe):Re.raf(Fe))}},Ie=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){Oe(n)}e.length=0},Fe=function e(){Ie(De),Ie(je),(w=De.length>0)&&Re.raf(e)},Be=function(e){return Pe().then(e)},He=Ne(je,!0)},5675:function(e,t,n){e=n.nmd(e),function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function e(t,n,r){"string"===typeof t?(2==arguments.length&&(r=n),e.modules[t]||(e.payloads[t]=r,e.modules[t]=null)):e.original?e.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n=function(e,t,n){if("string"===typeof t){var i=o(e,t);if(void 0!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(t)){for(var s=[],a=0,l=t.length;a<l;++a){var c=o(e,t[a]);if(void 0==c&&r.original)return;s.push(c)}return n&&n.apply(null,s)||!0}},r=function e(t,r){var i=n("",t,r);return void 0==i&&e.original?e.original.apply(this,arguments):i},i=function e(t,n){if(-1!==n.indexOf("!")){var r=n.split("!");return e(t,r[0])+"!"+e(t,r[1])}if("."==n.charAt(0))for(n=t.split("/").slice(0,-1).join("/")+"/"+n;-1!==n.indexOf(".")&&i!=n;){var i=n;n=n.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return n},o=function(e,r){r=i(e,r);var o=t.modules[r];if(!o){if("function"===typeof(o=t.payloads[r])){var s={},a={id:r,uri:"",exports:s,packaged:!0};s=o((function(e,t){return n(r,e,t)}),s,a)||a.exports,t.modules[r]=s,delete t.payloads[r]}o=t.modules[r]=s||o}return o};!function(n){var i=e;n&&(e[n]||(e[n]={}),i=e[n]),i.define&&i.define.packaged||(t.original=i.define,i.define=t,i.define.packaged=!0),i.require&&i.require.packaged||(r.original=i.require,i.require=r,i.require.packaged=!0)}("ace")}(),ace.define("ace/lib/es6-shim",["require","exports","module"],(function(e,t,n){function r(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||r(String.prototype,"startsWith",(function(e,t){return t=t||0,this.lastIndexOf(e,t)===t})),String.prototype.endsWith||r(String.prototype,"endsWith",(function(e,t){var n=this;(void 0===t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t})),String.prototype.repeat||r(String.prototype,"repeat",(function(e){for(var t="",n=this;e>0;)1&e&&(t+=n),(e>>=1)&&(n+=n);return t})),String.prototype.includes||r(String.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Object.assign||(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];void 0!==r&&null!==r&&Object.keys(r).forEach((function(e){t[e]=r[e]}))}return t}),Object.values||(Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}),Array.prototype.find||r(Array.prototype,"find",(function(e){for(var t=this.length,n=arguments[1],r=0;r<t;r++){var i=this[r];if(e.call(n,i,r,this))return i}})),Array.prototype.findIndex||r(Array.prototype,"findIndex",(function(e){for(var t=this.length,n=arguments[1],r=0;r<t;r++){var i=this[r];if(e.call(n,i,r,this))return r}})),Array.prototype.includes||r(Array.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Array.prototype.fill||r(Array.prototype,"fill",(function(e){for(var t=this,n=t.length>>>0,r=arguments[1],i=r>>0,o=i<0?Math.max(n+i,0):Math.min(i,n),s=arguments[2],a=void 0===s?n:s>>0,l=a<0?Math.max(n+a,0):Math.min(a,n);o<l;)t[o]=e,o++;return t})),Array.of||r(Array,"of",(function(){return Array.prototype.slice.call(arguments)}))})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],(function(e,t,n){"use strict";e("./es6-shim")})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var r=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!==typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var r=0;r<t.length;r++)n[r]=e(t[r]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var r in n={},t)n[r]=e(t[r]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function e(r){return e.cancel(),t=setTimeout(n,r||0),e};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){null==n&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var r="object"==typeof navigator?navigator:{},i=(/mac|win|linux/i.exec(r.platform)||["other"])[0].toLowerCase(),o=r.userAgent||"",s=r.appName||"";t.isWin="win"==i,t.isMac="mac"==i,t.isLinux="linux"==i,t.isIE="Microsoft Internet Explorer"==s||s.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=o.indexOf("AdobeAIR")>=0,t.isAndroid=o.indexOf("Android")>=0,t.isChromeOS=o.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var r,i=e("./useragent");t.buildDom=function e(t,n,r){if("string"==typeof t&&t){var i=document.createTextNode(t);return n&&n.appendChild(i),i}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],s=0;s<t.length;s++){var a=e(t[s],n,r);a&&o.push(a)}return o}var l=document.createElement(t[0]),c=t[1],u=1;c&&"object"==typeof c&&!Array.isArray(c)&&(u=2);for(s=u;s<t.length;s++)e(t[s],l,r);return 2==u&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?r&&(r[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var r=n.indexOf(t);if(-1==r)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),r=!0;;){var i=n.indexOf(t);if(-1==i)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if(n=(t=t||document).querySelectorAll("style"))for(;r<n.length;)if(n[r++].id===e)return!0},t.removeElementById=function(e,t){(t=t||document).getElementById(e)&&t.getElementById(e).remove()};var o=[];function s(){var e=o;o=null,e&&e.forEach((function(e){a(e[0],e[1])}))}function a(e,n,i){if("undefined"!=typeof document){if(o)if(i)s();else if(!1===i)return o.push([e,n]);if(!r){var a=i;i&&i.getRootNode&&(a=i.getRootNode())&&a!=i||(a=document);var l=a.ownerDocument||a;if(n&&t.hasCssString(n,a))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var c=t.createElement("style");c.appendChild(l.createTextNode(e)),n&&(c.id=n),a==l&&(a=t.getDocumentHead(l)),a.insertBefore(c,a.firstChild)}}}if(t.useStrictCSP=function(e){r=e,0==e?s():o||(o=[])},t.importCssString=a,t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",r.appendChild(n);var o=e.documentElement;o.appendChild(r);var s=n.offsetWidth;i.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=r.clientWidth),o.removeChild(r),s-a},t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!i.isWin||"undefined"!==typeof window&&window.devicePixelRatio>=1.5,i.isChromeOS&&(t.HI_DPI=!1),"undefined"!==typeof document){var l=document.createElement("div");t.HI_DPI&&void 0!==l.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),i.isEdge||"undefined"===typeof l.style.animationName||(t.HAS_CSS_ANIMATION=!0),l=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),i=document.createElement("script");i.src=e,n.appendChild(i),i.onload=i.onreadystatechange=function(e,n){!n&&i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(i=i.onload=i.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";var r={},i=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(n.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},r.once=function(e,t){var n=this;if(this.on(e,(function r(){n.off(e,r),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var o=i.indexOf(t);-1!=o&&i.splice(o,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t)r&&this.setDefaultHandler(e,r.pop());else if(r){var i=r.indexOf(t);-1!=i&&r.splice(i,1)}}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),-1==r.indexOf(t)&&r[n?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},r.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=r})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var r=e("./oop"),i=e("./event_emitter").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return s('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:s('misspelled option "'+e+'"')}};function s(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var l=function(){this.$defaultOptions={}};(function(){r.implement(this,i),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)})),r.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=s,this.reportError=a}).call(l.prototype),t.AppConfig=l})),ace.define("ace/theme/textmate.css",["require","exports","module"],(function(e,t,n){n.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=e("./textmate.css"),t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],(function(e,t,n){var r=e("./lib/lang"),i=(e("./lib/oop"),e("./lib/net")),o=e("./lib/dom"),s=e("./lib/app_config").AppConfig;n.exports=t=new s;var a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},t.set=function(e,t){if(a.hasOwnProperty(e))a[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&o.useStrictCSP(t)},t.all=function(){return r.copyObject(a)},t.$modes={},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var n=e.split("/"),r="snippets"==(t=t||n[n.length-2]||"")?"/":"-",i=n[n.length-1];if("worker"==t&&"-"==r){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(o,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var s=a[t+"Path"];return null==s?s=a.basePath:"/"==r&&(t=r=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+r+i+this.get("suffix")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t};var l=function(t,n){return"ace/theme/textmate"==t?n(null,e("./theme/textmate")):console.error("loader is not configured")};t.setLoader=function(e){l=e},t.$loading={},t.loadModule=function(n,r){var o,s;Array.isArray(n)&&(s=n[0],n=n[1]);try{o=e(n)}catch(u){}if(o&&!t.$loading[n])return r&&r(o);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r),!(t.$loading[n].length>1)){var a=function(){l(n,(function(e,r){t._emit("load.module",{name:n,module:r});var i=t.$loading[n];t.$loading[n]=null,i.forEach((function(e){e&&e(r)}))}))};if(!t.get("packaged"))return a();i.loadScript(t.moduleUrl(n,s),a),c()}};var c=function(){a.basePath||a.workerPath||a.modePath||a.themePath||Object.keys(a.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};t.version="1.11.2"})),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],(function(e,t,r){"use strict";e("./lib/fixoldbrowsers");var i=e("./config");i.setLoader((function(t,n){e([t],(function(e){n(null,e)}))}));var o=function(){return this||"undefined"!=typeof window&&window}();function s(t){if(o&&o.document){i.set("packaged",t||e.packaged||r.packaged||o.define&&n.amdD.packaged);for(var s,a={},l="",c=document.currentScript||document._currentScript,u=(c&&c.ownerDocument||document).getElementsByTagName("script"),h=0;h<u.length;h++){var d=u[h],f=d.src||d.getAttribute("src");if(f){for(var p=d.attributes,g=0,m=p.length;g<m;g++){var v=p[g];0===v.name.indexOf("data-ace-")&&(a[(s=v.name.replace(/^data-ace-/,""),s.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=v.value)}var y=f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);y&&(l=y[1])}}for(var b in l&&(a.base=a.base||l,a.packaged=!0),a.basePath=a.base,a.workerPath=a.workerPath||a.base,a.modePath=a.modePath||a.base,a.themePath=a.themePath||a.base,delete a.base,a)"undefined"!==typeof a[b]&&i.set(b,a[b])}}r.exports=function(t){i.init=s,t.require=e,t.define=n.amdD},s(!0)})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){"use strict";var r=e("./oop"),i=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return r.mixin(n,n.MODIFIER_KEYS),r.mixin(n,n.PRINTABLE_KEYS),r.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();r.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var r,i=e("./keys"),o=e("./useragent"),s=null,a=0;function l(){return void 0==r&&function(){r=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){r={passive:!1}}})}catch(e){}}(),r}function c(e,t,n){this.elem=e,this.type=t,this.callback=n}c.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var u=t.addListener=function(e,t,n,r){e.addEventListener(t,n,l()),r&&r.$toDestroy.push(new c(e,t,n))},h=t.removeListener=function(e,t,n){e.removeEventListener(t,n,l())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){var r=e&&e.ownerDocument||document;function i(e){t&&t(e),n&&n(e),h(r,"mousemove",t),h(r,"mouseup",i),h(r,"dragstart",i)}return u(r,"mousemove",t),u(r,"mouseup",i),u(r,"dragstart",i),i},t.addMouseWheelListener=function(e,t,n){u(e,"wheel",(function(e){var n=e.deltaX||0,r=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*n,e.wheelY=.15*r;break;case e.DOM_DELTA_LINE:e.wheelX=15*n,e.wheelY=15*r;break;case e.DOM_DELTA_PAGE:e.wheelX=150*n,e.wheelY=150*r}t(e)}),n)},t.addMultiMouseDownListener=function(e,n,r,i,s){var a,l,c,h=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};function f(e){if(0!==t.getButton(e)?h=0:e.detail>1?++h>4&&(h=1):h=1,o.isIE){var s=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;c&&!s||(h=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[h-1]||600),1==h&&(a=e.clientX,l=e.clientY)}if(e._clicks=h,r[i]("mousedown",e),h>4)h=0;else if(h>1)return r[i](d[h],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){u(e,"mousedown",f,s)}))};var d=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function f(e,t,n){var r=d(t);if(!o.isMac&&s){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(r|=8),s.altGr){if(3==(3&r))return;s.altGr=0}if(18===n||17===n){var l="location"in t?t.location:t.keyLocation;if(17===n&&1===l)1==s[n]&&(a=t.timeStamp);else if(18===n&&3===r&&2===l){t.timeStamp-a<50&&(s.altGr=!0)}}}if((n in i.MODIFIER_KEYS&&(n=-1),!r&&13===n)&&(3===(l="location"in t?t.location:t.keyLocation)&&(e(t,r,-n),t.defaultPrevented)))return;if(o.isChromeOS&&8&r){if(e(t,r,n),t.defaultPrevented)return;r&=-9}return!!(r||n in i.FUNCTION_KEYS||n in i.PRINTABLE_KEYS)&&e(t,r,n)}function p(){s=Object.create(null)}if(t.getModifierString=function(e){return i.KEY_MODS[d(e)]},t.addCommandKeyListener=function(e,n,r){if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var i=null;u(e,"keydown",(function(e){i=e.keyCode}),r),u(e,"keypress",(function(e){return f(n,e,i)}),r)}else{var a=null;u(e,"keydown",(function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=f(n,e,e.keyCode);return a=e.defaultPrevented,t}),r),u(e,"keypress",(function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),r),u(e,"keyup",(function(e){s[e.keyCode]=null}),r),s||(p(),u(window,"focus",p))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var g=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+g++;u(n,"message",(function i(o){o.data==r&&(t.stopPropagation(o),h(n,"message",i),e())})),n.postMessage(r,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";var r=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,r=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(r.row,r.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(r.row,r.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)n={row:e,column:0};if(this.start.row>t)var i={row:t+1,column:0};else if(this.start.row<e)i={row:e,column:0};return r.fromPoints(i||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var i={row:e,column:t};else var o={row:e,column:t};return r.fromPoints(i||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return r.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new r(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new r(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new r(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(r.prototype),r.fromPoints=function(e,t){return new r(e.row,e.column,t.row,t.column)},r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=r})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var r;n.exports={lineMode:!1,pasteCancelled:function(){return!!(r&&r>Date.now()-50)||(r=!1)},cancel:function(){r=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("../lib/dom"),s=e("../lib/lang"),a=e("../clipboard"),l=i.isChrome<18,c=i.isIE,u=i.isChrome>63,h=400,d=e("../lib/keys"),f=d.KEY_MODS,p=i.isIOS,g=p?/\s/:/\n/,m=i.isMobile;t.TextInput=function(e,t){var n=o.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",e.insertBefore(n,e.firstChild);var v=!1,y=!1,b=!1,w=!1,x="";m||(n.style.fontSize="1px");var k=!1,C=!1,S="",_=0,O=0,E=0;try{var T=document.activeElement===n}catch(U){}r.addListener(n,"blur",(function(e){C||(t.onBlur(e),T=!1)}),t),r.addListener(n,"focus",(function(e){if(!C){if(T=!0,i.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),i.isEdge?setTimeout(A):A()}}),t),this.$focusScroll=!1,this.focus=function(){if(x||u||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var t=0!=n.getBoundingClientRect().top}catch(U){return}var r=[];if(t)for(var i=n.parentElement;i&&1==i.nodeType;)r.push(i),i.setAttribute("ace_nocontext",!0),i=!i.parentElement&&i.getRootNode?i.getRootNode().host:i.parentElement;n.focus({preventScroll:!0}),t&&r.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return T},t.on("beforeEndOperation",(function(){var e=t.curOp,r=e&&e.command&&e.command.name;if("insertstring"!=r){var i=r&&(e.docChanged||e.selectionChanged);b&&i&&(S=n.value="",B()),A()}}));var A=p?function(e){if(T&&(!v||e)&&!w){e||(e="");var r="\n ab"+e+"cde fg\n";r!=n.value&&(n.value=S=r);var i=4+(e.length||(t.selection.isEmpty()?0:1));4==_&&O==i||n.setSelectionRange(4,i),_=4,O=i}}:function(){if(!b&&!w&&(T||L)){b=!0;var e=0,r=0,i="";if(t.session){var o=t.selection,s=o.getRange(),a=o.cursor.row;if(e=s.start.column,r=s.end.column,i=t.session.getLine(a),s.start.row!=a){var l=t.session.getLine(a-1);e=s.start.row<a-1?0:e,r+=l.length+1,i=l+"\n"+i}else if(s.end.row!=a){var c=t.session.getLine(a+1);r=s.end.row>a+1?c.length:r,r+=i.length+1,i=i+"\n"+c}else m&&a>0&&(i="\n"+i,r+=1,e+=1);i.length>h&&(e<h&&r<h?i=i.slice(0,h):(i="\n",e==r?e=r=0:(e=0,r=1)))}var u=i+"\n\n";if(u!=S&&(n.value=S=u,_=O=u.length),L&&(_=n.selectionStart,O=n.selectionEnd),O!=r||_!=e||n.selectionEnd!=O)try{n.setSelectionRange(e,r),_=e,O=r}catch(U){}b=!1}};this.resetSelection=A,T&&t.onFocus();var $=null;this.setInputHandler=function(e){$=e},this.getInputHandler=function(){return $};var L=!1,R=function(e,r){if(L&&(L=!1),y)return A(),e&&t.onPaste(e),y=!1,"";for(var o=n.selectionStart,s=n.selectionEnd,a=_,l=S.length-O,c=e,u=e.length-o,h=e.length-s,d=0;a>0&&S[d]==e[d];)d++,a--;for(c=c.slice(d),d=1;l>0&&S.length-d>_-1&&S[S.length-d]==e[e.length-d];)d++,l--;u-=d-1,h-=d-1;var f=c.length-d+1;if(f<0&&(a=-f,f=0),c=c.slice(0,f),!r&&!c&&!u&&!a&&!l&&!h)return"";w=!0;var p=!1;return i.isAndroid&&". "==c&&(c="  ",p=!0),c&&!a&&!l&&!u&&!h||k?t.onTextInput(c):t.onTextInput(c,{extendLeft:a,extendRight:l,restoreStart:u,restoreEnd:h}),w=!1,S=e,_=o,O=s,E=h,p?"\n":c},P=function(e){if(b)return F();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var r=n.value,i=R(r,!0);(r.length>500||g.test(i)||m&&_<1&&_==O)&&A()},M=function e(t,n,r){var i=t.clipboardData||window.clipboardData;if(i&&!l){var o=c||r?"Text":"text/plain";try{return n?!1!==i.setData(o,n):i.getData(o)}catch(t){if(!r)return e(t,n,!0)}}},D=function(e,i){var o=t.getCopyText();if(!o)return r.preventDefault(e);M(e,o)?(p&&(A(o),v=o,setTimeout((function(){v=!1}),10)),i?t.onCut():t.onCopy(),r.preventDefault(e)):(v=!0,n.value=o,n.select(),setTimeout((function(){v=!1,A(),i?t.onCut():t.onCopy()})))},j=function(e){D(e,!0)},N=function(e){D(e,!1)},I=function(e){var o=M(e);a.pasteCancelled()||("string"==typeof o?(o&&t.onPaste(o,e),i.isIE&&setTimeout(A),r.preventDefault(e)):(n.value="",y=!0))};r.addCommandKeyListener(n,t.onCommandKey.bind(t),t),r.addListener(n,"select",(function(e){b||(v?v=!1:!function(e){return 0===e.selectionStart&&e.selectionEnd>=S.length&&e.value===S&&S&&e.selectionEnd!==O}(n)?m&&n.selectionStart!=_&&A():(t.selectAll(),A()))}),t),r.addListener(n,"input",P,t),r.addListener(n,"cut",j,t),r.addListener(n,"copy",N,t),r.addListener(n,"paste",I,t),"oncut"in n&&"oncopy"in n&&"onpaste"in n||r.addListener(e,"keydown",(function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:N(e);break;case 86:I(e);break;case 88:j(e)}}),t);var F=function(){if(b&&t.onCompositionUpdate&&!t.$readOnly){if(k)return H();if(b.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;R(e),b.markerRange&&(b.context&&(b.markerRange.start.column=b.selectionStart=b.context.compositionStartOffset),b.markerRange.end.column=b.markerRange.start.column+O-b.selectionStart+E)}}},B=function(e){t.onCompositionEnd&&!t.$readOnly&&(b=!1,t.onCompositionEnd(),t.off("mousedown",H),e&&P())};function H(){C=!0,n.blur(),n.focus(),C=!1}var Z,z=s.delayedCall(F,50).schedule.bind(null,null);function V(){clearTimeout(Z),Z=setTimeout((function(){x&&(n.style.cssText=x,x=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}r.addListener(n,"compositionstart",(function(e){if(!b&&t.onCompositionStart&&!t.$readOnly&&(b={},!k)){e.data&&(b.useTextareaForIME=!1),setTimeout(F,0),t._signal("compositionStart"),t.on("mousedown",H);var r=t.getSelectionRange();r.end.row=r.start.row,r.end.column=r.start.column,b.markerRange=r,b.selectionStart=_,t.onCompositionStart(b),b.useTextareaForIME?(S=n.value="",_=0,O=0):(n.msGetInputContext&&(b.context=n.msGetInputContext()),n.getInputContext&&(b.context=n.getInputContext()))}}),t),r.addListener(n,"compositionupdate",F,t),r.addListener(n,"keyup",(function(e){27==e.keyCode&&n.value.length<n.selectionStart&&(b||(S=n.value),_=O=-1,A()),z()}),t),r.addListener(n,"keydown",z,t),r.addListener(n,"compositionend",B,t),this.getElement=function(){return n},this.setCommandMode=function(e){k=e,n.readOnly=!1},this.setReadOnly=function(e){k||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){L=!0,A(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,s){x||(x=n.style.cssText),n.style.cssText=(s?"z-index:100000;":"")+(i.isIE?"opacity:0.1;":"")+"text-indent: -"+(_+O)*t.renderer.characterWidth*.5+"px;";var a=t.container.getBoundingClientRect(),l=o.computedStyle(t.container),c=a.top+(parseInt(l.borderTopWidth)||0),u=a.left+(parseInt(a.borderLeftWidth)||0),h=a.bottom-c-n.clientHeight-2,d=function(e){o.translate(n,e.clientX-u-2,Math.min(e.clientY-c-2,h))};d(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(Z),i.isWin&&r.capture(t.container,d,V))},this.onContextMenuClose=V;var W=function(e){t.textInput.onContextMenu(e),V()};r.addListener(n,"mouseup",W,t),r.addListener(n,"mousedown",(function(e){e.preventDefault(),V()}),t),r.addListener(t.renderer.scroller,"contextmenu",W,t),r.addListener(n,"contextmenu",W,t),p&&function(e,t,n){var r=null,i=!1;n.addEventListener("keydown",(function(e){r&&clearTimeout(r),i=!0}),!0),n.addEventListener("keyup",(function(e){r=setTimeout((function(){i=!1}),100)}),!0);var o=function(e){if(document.activeElement===n&&!(i||b||t.$mouseHandler.isMousePressed)&&!v){var r=n.selectionStart,o=n.selectionEnd,s=null,a=0;if(0==r?s=d.up:1==r?s=d.home:o>O&&"\n"==S[o]?s=d.end:r<_&&" "==S[r-1]?(s=d.left,a=f.option):r<_||r==_&&O!=_&&r==o?s=d.left:o>O&&S.slice(0,o).split("\n").length>2?s=d.down:o>O&&" "==S[o-1]?(s=d.right,a=f.option):(o>O||o==O&&O!=_&&r==o)&&(s=d.right),r!==o&&(a|=f.shift),s){if(!t.onCommandKey({},a,s)&&t.commands){s=d.keyCodeToString(s);var l=t.commands.findKeyCommand(a,s);l&&t.execCommand(l)}_=r,O=o,A("")}}};document.addEventListener("selectionchange",o),t.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,t,n),this.destroy=function(){n.parentElement&&n.parentElement.removeChild(n)}},t.$setUserAgentForTests=function(e,t){m=e,p=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/useragent");function i(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,o=e.getButton();return 0!==o?((i.getSelectionRange().isEmpty()||1==o)&&i.selection.moveToPosition(n),void(2==o&&(i.textInput.onContextMenu(e.domEvent),r.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimeout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(-1==r)e=this.$clickSelection.end;else if(1==r)e=this.$clickSelection.start;else{var i=o(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(i.start),a=this.$clickSelection.comparePoint(i.end);if(-1==s&&a<=0)t=this.$clickSelection.end,i.end.row==r.row&&i.end.column==r.column||(r=i.start);else if(1==a&&s>=0)t=this.$clickSelection.start,i.start.row==r.row&&i.start.column==r.column||(r=i.end);else if(-1==s&&1==a)r=i.end,t=i.start;else{var l=o(this.$clickSelection,r);r=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,n,r,i=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,n=this.x,r=this.y,Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))),o=Date.now();(i>0||o-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session.getBracketRange(t);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,r=e.domEvent.timeStamp,i=r-n.t,o=i?e.wheelX/i:n.vx,s=i?e.wheelY/i:n.vy;i<550&&(o=(o+n.vx)/2,s=(s+n.vy)/2);var a=Math.abs(o/s),l=!1;if(a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l)n.allowed=r;else if(r-n.allowed<550){Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(s)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=r):n.allowed=0}return n.t=r,n.vx=o,n.vy=s,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(i.prototype),t.DefaultHandlers=i})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){"use strict";e("./lib/oop");var r=e("./lib/dom"),i="ace_tooltip";function o(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className=i,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){r.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=i,this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(o.prototype),t.Tooltip=o})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/event"),s=e("../tooltip").Tooltip;function a(e){s.call(this,e)}i.inherits(a,s),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),o=this.getHeight();(e+=15)+i>n&&(e-=e+i-n),(t+=15)+o>r&&(t-=20+o),s.prototype.setPosition.call(this,e,t)}}.call(a.prototype),t.GutterHandler=function(e){var t,n,i,s=e.editor,l=s.renderer.$gutterLayer,c=new a(s.container);function u(){t&&(t=clearTimeout(t)),i&&(c.hide(),i=null,s._signal("hideGutterTooltip",c),s.off("mousewheel",u))}function h(e){c.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(s.isFocused()&&0==t.getButton()&&"foldWidgets"!=l.getRegion(t)){var n=t.getDocumentPosition().row,r=s.session.selection;if(t.getShiftKey())r.selectTo(n,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(o){var a=o.domEvent.target||o.domEvent.srcElement;if(r.hasCssClass(a,"ace_fold-widget"))return u();i&&e.$tooltipFollowsMouse&&h(o),n=o,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?function(){var t=n.getDocumentPosition().row,r=l.$annotations[t];if(!r)return u();if(t==s.session.getLength()){var o=s.renderer.pixelToScreenCoordinates(0,n.y).row,a=n.$pos;if(o>s.session.documentToScreenRow(a.row,a.column))return u()}if(i!=r){i=r.text.join("<br/>"),c.setHtml(i);var d=r.className;if(d&&c.setClassName(d.trim()),c.show(),s._signal("showGutterTooltip",c),s.on("mousewheel",u),e.$tooltipFollowsMouse)h(n);else{var f=n.domEvent.target.getBoundingClientRect(),p=c.getElement().style;p.left=f.right+"px",p.top=f.bottom+"px"}}}():u()}),50))})),o.addListener(s.renderer.$gutter,"mouseout",(function(e){n=null,i&&!t&&(t=setTimeout((function(){t=null,u()}),50))}),s),s.on("changeSession",u)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/event"),o=e("../lib/useragent");function s(e){var t=e.editor,n=r.createElement("div");n.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",n.textContent="\xa0";["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var s,l,c,u,h,d,f,p,g,m,v,y=t.container,b=0;function w(){var e=d;(function(e,n){var r=Date.now(),i=!n||e.row!=n.row,o=!n||e.column!=n.column;!m||i||o?(t.moveCursorToPosition(e),m=r,v={x:l,y:c}):a(v.x,v.y,l,c)>5?m=null:r-m>=200&&(t.renderer.scrollCursorIntoView(),m=null)})(d=t.renderer.screenToTextCoordinates(l,c),e),function(e,n){var r=Date.now(),i=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,s=t.renderer.scroller.getBoundingClientRect(),a={x:{left:l-s.left,right:s.right-l},y:{top:c-s.top,bottom:s.bottom-c}},u=Math.min(a.x.left,a.x.right),h=Math.min(a.y.top,a.y.bottom),d={row:e.row,column:e.column};u/o<=2&&(d.column+=a.x.left<a.x.right?-3:2),h/i<=1&&(d.row+=a.y.top<a.y.bottom?-1:1);var f=e.row!=d.row,p=e.column!=d.column,m=!n||e.row!=n.row;f||p&&!m?g?r-g>=200&&t.renderer.scrollCursorIntoView(d):g=r:g=null}(d,e)}function x(){h=t.selection.toOrientedRange(),s=t.session.addMarker(h,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(u),w(),u=setInterval(w,20),b=0,i.addListener(document,"mousemove",S)}function k(){clearInterval(u),t.session.removeMarker(s),s=null,t.selection.fromOrientedRange(h),t.isFocused()&&!p&&t.$resetCursorStyle(),h=null,d=null,b=0,g=null,m=null,i.removeListener(document,"mousemove",S)}this.onDragStart=function(e){if(this.cancelDrag||!y.draggable){var r=this;return setTimeout((function(){r.startSelect(),r.captureMouse(e)}),0),e.preventDefault()}h=t.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=t.getReadOnly()?"copy":"copyMove",t.container.appendChild(n),i.setDragImage&&i.setDragImage(n,0,0),setTimeout((function(){t.container.removeChild(n)})),i.clearData(),i.setData("Text",t.session.getTextRange()),p=!0,this.setState("drag")},this.onDragEnd=function(e){if(y.draggable=!1,p=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;f||"move"!=n||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&_(e.dataTransfer))return l=e.clientX,c=e.clientY,s||x(),b++,e.dataTransfer.dropEffect=f=O(e),i.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&_(e.dataTransfer))return l=e.clientX,c=e.clientY,s||(x(),b++),null!==C&&(C=null),e.dataTransfer.dropEffect=f=O(e),i.preventDefault(e)},this.onDragLeave=function(e){if(--b<=0&&s)return k(),f=null,i.preventDefault(e)},this.onDrop=function(e){if(d){var n=e.dataTransfer;if(p)switch(f){case"move":h=h.contains(d.row,d.column)?{start:d,end:d}:t.moveText(h,d);break;case"copy":h=t.moveText(h,d,!0)}else{var r=n.getData("Text");h={start:d,end:t.session.insert(d,r)},t.focus(),f=null}return k(),i.preventDefault(e)}},i.addListener(y,"dragstart",this.onDragStart.bind(e),t),i.addListener(y,"dragend",this.onDragEnd.bind(e),t),i.addListener(y,"dragenter",this.onDragEnter.bind(e),t),i.addListener(y,"dragover",this.onDragOver.bind(e),t),i.addListener(y,"dragleave",this.onDragLeave.bind(e),t),i.addListener(y,"drop",this.onDrop.bind(e),t);var C=null;function S(){null==C&&(C=setTimeout((function(){null!=C&&s&&k()}),20))}function _(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function O(e){var t=["copy","copymove","all","uninitialized"],n=o.isMac?e.altKey:e.ctrlKey,r="uninitialized";try{r=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var i="none";return n&&t.indexOf(r)>=0?i="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(r)>=0?i="move":t.indexOf(r)>=0&&(i="copy"),i}}function a(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=o.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop());"dragWait"===this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton();if(1===(e.domEvent.detail||1)&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var i=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in i&&(i.unselectable="on"),t.getDragDelay()){if(o.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(s.prototype),t.DragdropHandler=s})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("./mouse_event").MouseEvent,i=e("../lib/event"),o=e("../lib/dom");t.addTouchListeners=function(e,t){var n,s,a,l,c,u,h,d,f,p="scroll",g=0,m=0,v=0,y=0;function b(){var e=window.navigator&&window.navigator.clipboard,n=!1,r=function(r){var i=r.target.getAttribute("action");if("more"==i||!n)return n=!n,function(){var r=t.getCopyText(),i=t.session.getUndoManager().hasUndo();f.replaceChild(o.buildDom(n?["span",!r&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],i&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),f.firstChild)}();"paste"==i?e.readText().then((function(e){t.execCommand(i,e)})):i&&("cut"!=i&&"copy"!=i||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(i)),f.firstChild.style.display="none",n=!1,"openCommandPallete"!=i&&t.focus()};f=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){p="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),r(e)},onclick:r},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}function w(){f||b();var e=t.selection.cursor,n=t.renderer.textToScreenCoordinates(e.row,e.column),r=t.renderer.textToScreenCoordinates(0,0).pageX,i=t.renderer.scrollLeft,o=t.container.getBoundingClientRect();f.style.top=n.pageY-o.top-3+"px",n.pageX-o.left<o.width-70?(f.style.left="",f.style.right="10px"):(f.style.right="",f.style.left=r+i-o.left+"px"),f.style.display="",f.firstChild.style.display="none",t.on("input",x)}function x(e){f&&(f.style.display="none"),t.off("input",x)}function k(){c=null,clearTimeout(c);var e=t.selection.getRange(),n=e.contains(h.row,h.column);!e.isEmpty()&&n||(t.selection.moveToPosition(h),t.selection.selectWord()),p="wait",w()}i.addListener(e,"contextmenu",(function(e){d&&t.textInput.getElement().focus()}),t),i.addListener(e,"touchstart",(function(e){var i=e.touches;if(c||i.length>1)return clearTimeout(c),c=null,a=-1,void(p="zoom");d=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,u=t.renderer.layerConfig.lineHeight,f=e.timeStamp;l=f;var b=i[0],w=b.clientX,x=b.clientY;Math.abs(n-w)+Math.abs(s-x)>o&&(a=-1),n=e.clientX=w,s=e.clientY=x,v=y=0;var C=new r(e,t);if(h=C.getDocumentPosition(),f-a<500&&1==i.length&&!g)m++,e.preventDefault(),e.button=0,function(){c=null,clearTimeout(c),t.selection.moveToPosition(h);var e=m>=2?t.selection.getLineRange(h.row):t.session.getBracketRange(h);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),p="wait"}();else{m=0;var S=t.selection.cursor,_=t.selection.isEmpty()?S:t.selection.anchor,O=t.renderer.$cursorLayer.getPixelPosition(S,!0),E=t.renderer.$cursorLayer.getPixelPosition(_,!0),T=t.renderer.scroller.getBoundingClientRect(),A=t.renderer.layerConfig.offset,$=t.renderer.scrollLeft,L=function(e,t){return(e/=u)*e+(t=t/o-.75)*t};if(e.clientX<T.left)return void(p="zoom");var R=L(e.clientX-T.left-O.left+$,e.clientY-T.top-O.top+A),P=L(e.clientX-T.left-E.left+$,e.clientY-T.top-E.top+A);R<3.5&&P<3.5&&(p=R>P?"cursor":"anchor"),p=P<3.5?"anchor":R<3.5?"cursor":"scroll",c=setTimeout(k,450)}a=f}),t),i.addListener(e,"touchend",(function(e){d=t.$mouseHandler.isMousePressed=!1,u&&clearInterval(u),"zoom"==p?(p="",g=0):c?(t.selection.moveToPosition(h),g=0,w()):"scroll"==p?(g+=60,u=setInterval((function(){g--<=0&&(clearInterval(u),u=null),Math.abs(v)<.01&&(v=0),Math.abs(y)<.01&&(y=0),g<20&&(v*=.9),g<20&&(y*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*v,10*y),e==t.session.getScrollTop()&&(g=0)}),10),x()):w(),clearTimeout(c),c=null}),t),i.addListener(e,"touchmove",(function(e){c&&(clearTimeout(c),c=null);var i=e.touches;if(!(i.length>1||"zoom"==p)){var o=i[0],a=n-o.clientX,u=s-o.clientY;if("wait"==p){if(!(a*a+u*u>4))return e.preventDefault();p="cursor"}n=o.clientX,s=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var h=e.timeStamp,d=h-l;if(l=h,"scroll"==p){var f=new r(e,t);f.speed=1,f.wheelX=a,f.wheelY=u,10*Math.abs(a)<Math.abs(u)&&(a=0),10*Math.abs(u)<Math.abs(a)&&(u=0),0!=d&&(v=a/d,y=u/d),t._emit("mousewheel",f),f.propagationStopped||(v=y=0)}else{var g=new r(e,t).getDocumentPosition();"cursor"==p?t.selection.moveCursorToPosition(g):"anchor"==p&&t.selection.setSelectionAnchor(g.row,g.column),t.renderer.scrollCursorIntoView(g),e.preventDefault()}}}),t)}})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,u=e("../config"),h=function(e){var t=this;this.editor=e,new o(this),new s(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus(),setTimeout((function(){e.isFocused()||e.focus()}))},a=e.renderer.getMouseEventTarget();r.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),r.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),r.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var u=e.renderer.$gutter;r.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),r.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick"),e),r.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),r.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),r.addListener(a,"mousedown",n,e),r.addListener(u,"mousedown",n,e),i.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),r.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),o=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),e)};(function(){this.onMouseEvent=function(e,t){this.editor.session&&this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var s=this,l=function(e){if(e){if(i.isWebKit&&!e.which&&s.releaseMouse)return s.releaseMouse();s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new a(e,s.editor),s.$mouseMoved=!0}},c=function(e){n.off("beforeEndOperation",h),clearInterval(d),n.session&&u(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",s.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e),n.endOperation()},u=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(i.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var h=function(e){s.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(s[s.state+"End"]&&s[s.state+"End"](),s.state="",s.releaseMouse())};n.on("beforeEndOperation",h),n.startOperation({command:{name:"mouse"}}),s.$onCaptureMouseMove=l,s.releaseMouse=r.capture(this.editor.container,l,c);var d=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(h.prototype),u.defineOptions(h.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=h})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),i=e.session,o=i.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?i.removeFold(o):i.expandFold(o),t.stop());var s=t.domEvent&&t.domEvent.target;s&&r.hasCssClass(s,"ace_inline_button")&&r.hasCssClass(s,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session;r.foldWidgets&&r.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session,i=r.getParentFoldRangeData(n,!0),o=i.range||i.firstRange;if(o){n=o.start.row;var s=r.getFoldAt(n,r.getLine(n).length,1);s?r.removeFold(s):(r.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";var r=e("../lib/keys"),i=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,r))&&o.command&&((s="null"==o.command||a.exec(o.command,this.$editor,o.args,r))&&r&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&i.stopEvent(r),s)););return s||-1!=e||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);return this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){"use strict";var r=0,i=0,o=!1,s=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=11,h=18,d=[h,h,h,h,h,h,h,h,h,6,5,6,8,5,h,h,h,h,h,h,h,h,h,h,h,h,h,h,5,5,5,6,8,4,4,u,u,u,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,h,h,h,h,h,h,5,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,9,4,u,u,u,u,4,4,4,4,0,4,4,h,4,4,u,u,2,2,4,0,4,4,4,2,0,4,4,4,4,4],f=[8,8,8,8,8,8,8,8,8,8,8,h,h,h,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,u,u,u,u,u,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function p(e,t,n){if(!(i<e))if(1!=e||1!=r||s)for(var o,a,l,c,u=n.length,h=0;h<u;){if(t[h]>=e){for(o=h+1;o<u&&t[o]>=e;)o++;for(a=h,l=o-1;a<l;a++,l--)c=n[a],n[a]=n[l],n[l]=c;h=o}h++}else n.reverse()}function g(e,t,n,i){var l,c,d,f,p=t[i];switch(p){case 0:case 1:o=!1;case 4:case 3:return p;case 2:return o?3:2;case 7:return o=!0,!0,1;case 8:return 4;case 9:return i<1||i+1>=t.length||2!=(l=n[i-1])&&3!=l||2!=(c=t[i+1])&&3!=c?4:(o&&(c=3),c==l?c:4);case 10:return 2==(l=i>0?n[i-1]:5)&&i+1<t.length&&2==t[i+1]?2:4;case u:if(i>0&&2==n[i-1])return 2;if(o)return 4;for(f=i+1,d=t.length;f<d&&t[f]==u;)f++;return f<d&&2==t[f]?2:4;case 12:for(d=t.length,f=i+1;f<d&&12==t[f];)f++;if(f<d){var g=e[i],m=g>=1425&&g<=2303||64286==g;if(l=t[f],m&&(1==l||7==l))return 1}return i<1||5==(l=t[i-1])?4:n[i-1];case 5:return o=!1,s=!0,r;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:o=!1;case h:return 4}}function m(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?0:d[t]:5==n?/[\u0591-\u05f4]/.test(e)?1:0:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?12:/[\u0660-\u0669\u066b-\u066c]/.test(e)?3:1642==t?u:/[\u06f0-\u06f9]/.test(e)?2:7:32==n&&t<=8287?f[255&t]:254==n&&t>=65136?7:4}t.L=0,t.R=1,t.EN=2,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="\xb7",t.doBidiReorder=function(e,n,u){if(e.length<2)return{};var d=e.split(""),f=new Array(d.length),v=new Array(d.length),y=[];r=u?1:0,function(e,t,n,u){var h=r?c:l,d=null,f=null,p=null,v=0,y=null,b=-1,w=null,x=null,k=[];if(!u)for(w=0,u=[];w<n;w++)u[w]=m(e[w]);for(i=r,o=!1,!1,s=!1,a=!1,x=0;x<n;x++){if(d=v,k[x]=f=g(e,u,k,x),y=240&(v=h[d][f]),v&=15,t[x]=p=h[v][5],y>0)if(16==y){for(w=b;w<x;w++)t[w]=1;b=-1}else b=-1;if(h[v][6])-1==b&&(b=x);else if(b>-1){for(w=b;w<x;w++)t[w]=p;b=-1}5==u[x]&&(t[x]=0),i|=p}if(a)for(w=0;w<n;w++)if(6==u[w]){t[w]=r;for(var C=w-1;C>=0&&8==u[C];C--)t[C]=r}}(d,y,d.length,n);for(var b=0;b<f.length;f[b]=b,b++);p(2,y,f),p(1,y,f);for(b=0;b<f.length-1;b++)3===n[b]?y[b]=t.AN:1===y[b]&&(n[b]>7&&n[b]<13||4===n[b]||n[b]===h)?y[b]=t.ON_R:b>0&&"\u0644"===d[b-1]&&/\u0622|\u0623|\u0625|\u0627/.test(d[b])&&(y[b-1]=y[b]=t.R_H,b++);d[d.length-1]===t.DOT&&(y[d.length-1]=t.B),"\u202b"===d[0]&&(y[0]=t.RLE);for(b=0;b<f.length;b++)v[b]=y[f[b]];return{logicalFromVisual:f,bidiLevels:v}},t.hasBidiCharacters=function(e,t){for(var n=!1,r=0;r<e.length;r++)t[r]=m(e.charAt(r)),n||1!=t[r]&&7!=t[r]&&3!=t[r]||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){"use strict";var r=e("./lib/bidiutil"),i=e("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=r,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,r=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===r;)r=n,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(void 0===t&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[r.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t]),t==o.length&&(this.line+=this.showInvisibles?n:r.DOT))}else this.line+=this.showInvisibles?n:r.DOT;var s,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(s="\t"===e?a.getScreenTabSize(t+l):2,l+=s-1,i.stringRepeat(r.DOT,s)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==r.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];r.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=r.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("\u05d4");this.charWidths[r.L]=this.charWidths[r.EN]=this.charWidths[r.ON_R]=t,this.charWidths[r.R]=this.charWidths[r.AN]=n,this.charWidths[r.R_H]=.45*n,this.charWidths[r.B]=this.charWidths[r.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(void 0!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),r=e.selection.getSelectionAnchor().row;r<=n.row;r++)t||e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:r},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(r,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,i=r.getVisualFromLogicalIdx(n,this.bidiMap),o=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&e<=t&&o[i]%2!==0&&i++;for(var a=0;a<i;a++)s+=this.charWidths[o[a]];return!this.session.getOverwrite()&&e>t&&o[i]%2===0&&(s+=this.charWidths[o[i]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},this.getSelections=function(e,t){var n,r=this.bidiMap,i=r.bidiLevels,o=[],s=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,u=!1,h=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,f=0;f<i.length;f++)d=r.logicalFromVisual[f],n=i[f],(c=d>=a&&d<l)&&!u?h=s:!c&&u&&o.push({left:h,width:s-h}),s+=this.charWidths[n],u=c;if(c&&f===i.length&&o.push({left:h,width:s-h}),this.isRtlDir)for(var p=0;p<o.length;p++)o[p].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),r=0,i=this.bidiMap.bidiLevels,o=this.charWidths[i[r]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+o/2;){if(n+=o,r===i.length-1){o=0;break}o=this.charWidths[i[++r]]}return r>0&&i[r-1]%2!==0&&i[r]%2===0?(e<n&&r--,t=this.bidiMap.logicalFromVisual[r]):r>0&&i[r-1]%2===0&&i[r]%2!==0?t=1+(e>n?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===i.length-1&&0===o&&i[r-1]%2===0||!this.isRtlDir&&0===r&&i[r]%2!==0?t=1+this.bidiMap.logicalFromVisual[r]:(r>0&&i[r-1]%2!==0&&0!==o&&r--,t=this.bidiMap.logicalFromVisual[r]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(s.prototype),t.BidiHandler=s})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))};(function(){r.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,r=t?e.start:e.end;this.$setSelection(n.row,n.column,r.row,r.column)},this.$setSelection=function(e,t,n,r){if(!this.$silent){var i=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,r),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||i!=this.$isEmpty||o)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,i=this.session.getFoldLine(r);return i?(r=i.start.row,n=i.end.row):n=r,!0===t?new s(r,0,n,this.session.getLine(n).length):new s(r,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var r=e.column,i=e.column+t;return n<0&&(r=e.column-t,i=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(r,i).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column).match(/^\s*/);i[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=i[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(e,t,1);if(i)this.moveCursorTo(i.end.row,i.end.column);else{if(this.session.nonTokenRe.exec(r)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(r)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var o=i.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,r=/\s/,i=this.session.tokenRe;if(i.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&r.test(t);)n++;if(n<1)for(i.lastIndex=0;(t=e[n])&&!i.test(t);)if(i.lastIndex=0,n++,r.test(t)){if(n>2){n--;break}for(;(t=e[n])&&r.test(t);)n++;if(n>2)break}}return i.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,r=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var s=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do{t--,r=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var o=i.stringReverse(r),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,r=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var i=this.session.lineWidgets[this.lead.row];e<0?e-=i.rowsAbove||0:e>0&&(e+=i.rowCount-(i.rowsAbove||0))}var o=this.session.screenToDocumentPosition(r.row+e,r.column,n);0!==e&&0===t&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(i.charAt(t))&&i.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return s.fromPoints(t,n)}catch(r){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=s.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){"use strict";var r=e("./config"),i=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],r=[],i=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&-1===s.indexOf("i")&&(s+="i"),c.unicode&&-1===s.indexOf("u")&&(s+="u"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==h?c.token=c.token[0]:h-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:h-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=h>1?this.$applyToken:c.token),h>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+i+1)})):(h=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[i]=l,i+=h,r.push(u),c.onMatch||(c.onMatch=null)}}r.length||(o[0]=0,r.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)}),this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){i=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"===typeof n)return[{type:n,value:e}];for(var r=[],i=0,o=n.length;i<o;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,i=0,o=r.length;i<o;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,s,a,l){return r?r="]"!=a:a?r=!0:s?(n==i.stack&&(i.end=l+1,i.stack=-1),n--):o&&(n++,1!=o.length&&(i.stack=n,i.start=l)),e})),null!=i.end&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var r=t||"start",o=this.states[r];o||(r="start",o=this.states[r]);var s=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;for(var l,c=[],u=0,h=0,d={type:null,value:""};l=a.exec(e);){var f=s.defaultToken,p=null,g=l[0],m=a.lastIndex;if(m-g.length>u){var v=e.substring(u,m-g.length);d.type==f?d.value+=v:(d.type&&c.push(d),d={type:f,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){f=(p=o[s[y]]).onMatch?p.onMatch(g,r,n,e):p.token,p.next&&(r="string"==typeof p.next?p.next:p.next(r,n),(o=this.states[r])||(this.reportError("state doesn't exist",r),r="start",o=this.states[r]),s=this.matchMappings[r],u=m,(a=this.regExps[r]).lastIndex=m),p.consumeLineEnd&&(u=m);break}if(g)if("string"===typeof f)p&&!1===p.merge||d.type!==f?(d.type&&c.push(d),d={type:f,value:g}):d.value+=g;else if(f){d.type&&c.push(d),d={type:null,value:""};for(y=0;y<f.length;y++)c.push(f[y])}if(u==e.length)break;if(u=m,h++>i){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)d.type&&c.push(d),d={value:e.substring(u,u+=500),type:"overflow"};r="start",n=[];break}}return d.type&&c.push(d),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:c,state:n.length?n:r}},this.reportError=r.reportError}).call(o.prototype),t.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){"use strict";var r=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],i=0;i<r.length;i++){var o=r[i];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,o){var s="function"==typeof e?(new e).getRules():e;if(i)for(var a=0;a<i.length;a++)i[a]=t+i[a];else for(var l in i=[],s)i.push(t+l);if(this.addRules(s,t),n){var c=Array.prototype[o?"push":"unshift"];for(a=0;a<i.length;a++)c.apply(this.$rules[i[a]],r.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,r=this.$rules;Object.keys(r).forEach((function i(o){var s=r[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var h=l.stateName;h||("string"!=typeof(h=l.token)&&(h=h[0]||""),r[h]&&(h+=n++)),r[h]=u,l.next=h,i(h)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)r[d]?r[d].push&&r[d].push.apply(r[d],l.rules[d]):r[d]=l.rules[d];var f="string"==typeof l?l:l.include;if(f&&(c=Array.isArray(f)?f.map((function(e){return r[e]})):r[f]),c){var p=[a,1].concat(c);l.noEscape&&(p=p.filter((function(e){return!e.next}))),s.splice.apply(s,p),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(r||"|"),s=o.length;s--;){var a=o[s];this.$keywordList.push(a),n&&(a=a.toLowerCase()),i[a]=t}}),this),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"===typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(r.prototype),t.Behaviour=r})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("./range").Range,i=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new r(this.$row,t,this.$row,t+e.value.length)}}).call(i.prototype),t.TokenIterator=i})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var r,i=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u={},h={'"':'"',"'":"'"},d=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return r=u[t];r=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},p=function e(t){this.add("braces","insertion",(function(n,i,o,s,l){var c=o.getCursorPosition(),u=s.doc.getLine(c.row);if("{"==l){d(o);var h=o.getSelectionRange(),p=s.doc.getTextRange(h);if(""!==p&&"{"!==p&&o.getWrapBehavioursEnabled())return f(h,p,"{","}");if(e.isSaneInsertion(o,s))return/[\]\}\)]/.test(u[c.column])||o.inMultiSelectMode||t&&t.braces?(e.recordAutoInsert(o,s,"}"),{text:"{}",selection:[1,1]}):(e.recordMaybeInsert(o,s,"{"),{text:"{",selection:[1,1]})}else if("}"==l){if(d(o),"}"==u.substring(c.column,c.column+1))if(null!==s.$findOpeningBracket("}",{column:c.column+1,row:c.row})&&e.isAutoInsertedClosing(c,u,l))return e.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==l||"\r\n"==l){d(o);var g="";if(e.isMaybeInsertedClosing(c,u)&&(g=a.stringRepeat("}",r.maybeInsertedBrackets),e.clearMaybeInsertedClosing()),"}"===u.substring(c.column,c.column+1)){var m=s.findMatchingBracket({row:c.row,column:c.column+1},"}");if(!m)return null;var v=this.$getIndent(s.getLine(m.row))}else{if(!g)return void e.clearMaybeInsertedClosing();v=this.$getIndent(u)}var y=v+s.getTabString();return{text:"\n"+y+"\n"+v+g,selection:[1,y.length,1,y.length]}}e.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,i,o){var s=i.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){if(d(n),"}"==i.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;r.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(t,n,r,i,o){if("("==o){d(r);var s=r.getSelectionRange(),a=i.doc.getTextRange(s);if(""!==a&&r.getWrapBehavioursEnabled())return f(s,a,"(",")");if(e.isSaneInsertion(r,i))return e.recordAutoInsert(r,i,")"),{text:"()",selection:[1,1]}}else if(")"==o){d(r);var l=r.getCursorPosition(),c=i.doc.getLine(l.row);if(")"==c.substring(l.column,l.column+1))if(null!==i.$findOpeningBracket(")",{column:l.column+1,row:l.row})&&e.isAutoInsertedClosing(l,c,o))return e.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"("==o&&(d(n),")"==r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("brackets","insertion",(function(t,n,r,i,o){if("["==o){d(r);var s=r.getSelectionRange(),a=i.doc.getTextRange(s);if(""!==a&&r.getWrapBehavioursEnabled())return f(s,a,"[","]");if(e.isSaneInsertion(r,i))return e.recordAutoInsert(r,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==o){d(r);var l=r.getCursorPosition(),c=i.doc.getLine(l.row);if("]"==c.substring(l.column,l.column+1))if(null!==i.$findOpeningBracket("]",{column:l.column+1,row:l.row})&&e.isAutoInsertedClosing(l,c,o))return e.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"["==o&&(d(n),"]"==r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("string_dquotes","insertion",(function(e,t,n,r,i){var o=r.$mode.$quotes||h;if(1==i.length&&o[i]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(i))return;d(n);var s=i,a=n.getSelectionRange(),l=r.doc.getTextRange(a);if(!(""===l||1==l.length&&o[l])&&n.getWrapBehavioursEnabled())return f(a,l,s,s);if(!l){var c=n.getCursorPosition(),u=r.doc.getLine(c.row),p=u.substring(c.column-1,c.column),g=u.substring(c.column,c.column+1),m=r.getTokenAt(c.row,c.column),v=r.getTokenAt(c.row,c.column+1);if("\\"==p&&m&&/escape/.test(m.type))return null;var y,b=m&&/string|escape/.test(m.type),w=!v||/string|escape/.test(v.type);if(g==s)(y=b!==w)&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!w)return null;if(b&&w)return null;var x=r.$mode.tokenRe;x.lastIndex=0;var k=x.test(p);x.lastIndex=0;var C=x.test(p);if(k||C)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var S=u[c.column-2];if(p==s&&(S==s||x.test(S)))return null;y=!0}return{text:y?s+s:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,r,i){var o=r.$mode.$quotes||h,s=r.doc.getTextRange(i);if(!i.isMultiLine()&&o.hasOwnProperty(s)&&(d(n),r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)==s))return i.end.column++,i}))};p.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new s(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",l)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var i=new s(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",l))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",c)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,o,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=i.row,r.autoInsertedLineEnd=n+o.substr(i.column),r.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,o)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=i.row,r.maybeInsertedLineStart=o.substr(0,i.column)+n,r.maybeInsertedLineEnd=o.substr(i.column),r.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,n){return r.autoInsertedBrackets>0&&e.row===r.autoInsertedRow&&n===r.autoInsertedLineEnd[0]&&t.substr(e.column)===r.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return r.maybeInsertedBrackets>0&&e.row===r.maybeInsertedRow&&t.substr(e.column)===r.maybeInsertedLineEnd&&t.substr(0,e.column)==r.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},i.inherits(p,o),t.CstyleBehaviour=p})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";for(var r=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],i=0,o=[],s=0;s<r.length;s+=2)o.push(i+=r[s]),r[s+1]&&o.push(45,i+=r[s+1]);t.wordChars=String.fromCharCode.apply(null,o)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var r=e("../config"),i=e("../tokenizer").Tokenizer,o=e("./text_highlight_rules").TextHighlightRules,s=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),l=e("../lib/lang"),c=e("../token_iterator").TokenIterator,u=e("../range").Range,h=function(){this.HighlightRules=o};(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){var i=t.doc,o=!0,s=!0,a=1/0,c=t.getTabSize(),u=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))g=this.lineCommentStart.map(l.escapeRegExp).join("|"),f=this.lineCommentStart[0];else g=l.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart;g=new RegExp("^(\\s*)(?:"+g+") ?"),u=t.getUseSoftTabs();y=function(e,t){var n=e.match(g);if(n){var r=n[1].length,o=n[0].length;d(e,r,o)||" "!=n[0][o-1]||o--,i.removeInLine(t,r,o)}};var h=f+" ",d=(v=function(e,t){o&&!/\S/.test(e)||(d(e,a,a)?i.insertInLine({row:t,column:a},h):i.insertInLine({row:t,column:a},f))},b=function(e,t){return g.test(e)},function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%c!=0)return!1;for(r=0;" "==e.charAt(n++);)r++;return c>2?r%c!=c-1:r%c==0})}else{if(!this.blockComment)return!1;var f=this.blockComment.start,p=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+l.escapeRegExp(f)+")"),m=new RegExp("(?:"+l.escapeRegExp(p)+")\\s*$"),v=function(e,t){b(e,t)||o&&!/\S/.test(e)||(i.insertInLine({row:t,column:e.length},p),i.insertInLine({row:t,column:a},f))},y=function(e,t){var n;(n=e.match(m))&&i.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(g))&&i.removeInLine(t,n[1].length,n[0].length)},b=function(e,n){if(g.test(e))return!0;for(var r=t.getTokens(n),i=0;i<r.length;i++)if("comment"===r[i].type)return!0}}function w(e){for(var t=n;t<=r;t++)e(i.getLine(t),t)}var x=1/0;w((function(e,t){var n=e.search(/\S/);-1!==n?(n<a&&(a=n),s&&!b(e,t)&&(s=!1)):x>e.length&&(x=e.length)})),a==1/0&&(a=x,o=!1,s=!1),u&&a%c!=0&&(a=Math.floor(a/c)*c),w(s?y:v)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(i){!i.start&&i[0]&&(i=i[0]);var o,s,a=(g=new c(t,r.row,r.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var h,d;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(i.start))){var f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m;h=new u(f,p,f,p+i.start.length);break}a=g.stepBackward()}var g;for(a=(g=new c(t,r.row,r.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(i.end))){f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m;d=new u(f,p,f,p+i.end.length);break}a=g.stepForward()}d&&t.remove(d),h&&(t.remove(h),o=h.start.row,s=-i.start.length)}else s=i.start.length,o=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);l.start.row==o&&(l.start.column+=s),l.end.row==o&&(l.end.column+=s),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],i=n.prototype.$id,o=r.$modes[i];o||(r.$modes[i]=o=new n),r.$modes[t]||(r.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<s.length;t++)!function(e){var n=s[t],r=e[n];e[s[t]]=function(){return this.$delegator(n,arguments,r)}}(this)},this.$delegator=function(e,t,n){var r=t[0]||"start";if("string"!=typeof r){if(Array.isArray(r[2])){var i=r[2][r[2].length-1];if(s=this.$modes[i])return s[e].apply(s,[r[1]].concat([].slice.call(t,1)))}r=r[0]||"start"}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var s,a=r.split(this.$embeds[o]);if(!a[0]&&a[1])return t[0]=a[1],(s=this.$modes[this.$embeds[o]])[e].apply(s,t)}var l=n.apply(this,t);return n?l:void 0},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][t]){var a=o[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t)for(var i=t[r],o=0,s=i.length;o<s;o++)if("string"===typeof i[o].token)/keyword|support|storage/.test(i[o].token)&&n.push(i[o].regex);else if("object"===typeof i[o].token)for(var a=0,l=i[o].token.length;a<l;a++)if(/keyword|support|storage/.test(i[o].token[a])){r=i[o].regex.match(/\(.+?\)/g)[a];n.push(r.substr(1,r.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(h.prototype),t.Mode=h})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var r=t.start.row,i=t.start.column,o=e[r]||"";switch(t.action){case"insert":if(1===t.lines.length)e[r]=o.substring(0,i)+t.lines[0]+o.substring(i);else{var s=[r,1].concat(t.lines);e.splice.apply(e,s),e[r]=o.substring(0,i)+e[r],e[r+t.lines.length-1]+=o.substring(i)}break;case"remove":var a=t.end.column,l=t.end.row;r===l?e[r]=o.substring(0,i)+o.substring(a):e.splice(r,l-r+1,o.substring(0,i)+e[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if((t.start.row!=t.end.row||t.start.row==this.row)&&!(t.start.row>this.row)){var n=function(t,n,r){var i="insert"==t.action,o=(i?1:-1)*(t.end.row-t.start.row),s=(i?1:-1)*(t.end.column-t.start.column),a=t.start,l=i?a:t.end;if(e(n,a,r))return{row:n.row,column:n.column};if(e(l,n,!r))return{row:n.row+o,column:n.column+(n.row==l.row?s:0)};return{row:a.row,column:a.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){r.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||"")},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var r=this.getLine(e);return void 0==t&&(t=r.length),{row:e,column:t=Math.min(Math.max(t,0),r.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:"remove",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,o=n?this.getLine(i).length:0,a=r?t+1:t,l=r?0:this.getLine(a).length,c=new s(i,o,a,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof s||(e=s.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(i(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length-t+1,i=e.start.row,o=e.start.column,s=0,a=0;s<r;s=a){a+=t-1;var l=n.slice(s,a);l.push(""),this.applyDelta({start:this.pos(i+s,o),end:this.pos(i+a,o=0),action:e.action,lines:l},!0)}e.lines=n.slice(s),e.start.row=i+s,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=t||0,o=n.length;i<o;i++)if((e-=n[i].length+r)<0)return{row:i,column:e+n[i].length+r};return{row:o-1,column:e+n[o-1].length+r}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,o=Math.min(e.row,n.length),s=t||0;s<o;++s)i+=n[s].length+r;return i+e.column}}).call(l.prototype),t.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,r=-1,i=n.doc,o=t;n.lines[t];)t++;var s=i.getLength(),a=0;for(n.running=!1;t<s;){n.$tokenizeRow(t),r=t;do{t++}while(n.lines[t]);if(++a%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==r&&(r=t),o<=r&&n.fireUpdateEvent(o,r)}}};(function(){r.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!==r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens},this.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}).call(o.prototype),t.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/lang"),i=(e("./lib/oop"),e("./range").Range),o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l={},c=s;c<=a;c++){var u=this.cache[c];null==u&&((u=r.getMatchOffsets(n.getLine(c),this.regExp)).length>this.MAX_RANGES&&(u=u.slice(0,this.MAX_RANGES)),u=u.map((function(e){return new i(c,e.offset,c,e.offset+e.length)})),this.cache[c]=u.length?u:"");for(var h=u.length;h--;){var d=u[h].toScreenRange(n),f=d.toString();l[f]||(l[f]=!0,t.drawSingleLineMarker(e,d,this.clazz,o))}}}}).call(o.prototype),t.SearchHighlight=o})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../range").Range;function i(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r,i,o=0,s=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<s.length;l++){if(-1==(i=(r=s[l]).range.compareStart(t,n)))return void e(null,t,n,o,a);if(!e(null,r.start.row,r.start.column,o,a)&&e(r.placeholder,r.start.row,r.start.column,o)||0===i)return;a=!r.sameRow,o=r.end.column}e(null,t,n,o,a)},this.getNextFoldTo=function(e,t){for(var n,r,i=0;i<this.folds.length;i++){if(-1==(r=(n=this.folds[i]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r,i,o=this.getNextFoldTo(e,t);if(o)if(r=o.fold,"inside"==o.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){var s=(i=this.folds).indexOf(r);for(0===s&&(this.start.column+=n);s<i.length;s++){if((r=i[s]).start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var r=n.fold,o=this.folds,s=this.foldData,a=o.indexOf(r),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new i(s,o=o.splice(a,o.length-a));return s.splice(s.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if((e-=r.start.column-t)<0)return{row:r.start.row,column:r.start.column+e};if((e-=r.placeholder.length)<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(i.prototype),t.FoldLine=i})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("./range").Range.comparePoints,i=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=r,this.pointIndex=function(e,t,n){for(var i=this.ranges,o=n||0;o<i.length;o++){var s=i[o],a=r(e,s.end);if(!(a>0)){var l=r(e,s.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],n=this.ranges,i=(n=n.sort((function(e,t){return r(e.start,t.start)})))[0],o=1;o<n.length;o++){e=i,i=n[o];var s=r(e.end,i.start);s<0||(0!=s||e.isEmpty()||i.isEmpty())&&(r(e.end,i.end)<0&&(e.end.row=i.end.row,e.end.column=i.end.column),n.splice(o,1),t.push(i),i=e,o--)}return this.ranges=n,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);for(var o=[],s=r;s<i;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,n=e.end,r=t.row,i=n.row,o=this.ranges,s=0,a=o.length;s<a;s++){if((u=o[s]).end.row>=r)break}if("insert"==e.action)for(var l=i-r,c=-t.column+n.column;s<a;s++){if((u=o[s]).start.row>r)break;if(u.start.row==r&&u.start.column>=t.column&&(u.start.column==t.column&&this.$bias<=0||(u.start.column+=c,u.start.row+=l)),u.end.row==r&&u.end.column>=t.column){if(u.end.column==t.column&&this.$bias<0)continue;u.end.column==t.column&&c>0&&s<a-1&&u.end.column>u.start.column&&u.end.column==o[s+1].start.column&&(u.end.column-=c),u.end.column+=c,u.end.row+=l}}else for(l=r-i,c=t.column-n.column;s<a;s++){if((u=o[s]).start.row>i)break;u.end.row<i&&(r<u.end.row||r==u.end.row&&t.column<u.end.column)?(u.end.row=r,u.end.column=t.column):u.end.row==i?u.end.column<=n.column?(l||u.end.column>t.column)&&(u.end.column=t.column,u.end.row=t.row):(u.end.column+=c,u.end.row+=l):u.end.row>i&&(u.end.row+=l),u.start.row<i&&(r<u.start.row||r==u.start.row&&t.column<u.start.column)?(u.start.row=r,u.start.column=t.column):u.start.row==i?u.start.column<=n.column?(l||u.start.column>t.column)&&(u.start.column=t.column,u.start.row=t.row):(u.start.column+=c,u.start.row+=l):u.start.row>i&&(u.start.row+=l)}if(0!=l&&s<a)for(;s<a;s++){var u;(u=o[s]).start.row+=l,u.end.row+=l}}}).call(i.prototype),t.RangeList=i})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(e,t,n){"use strict";var r=e("../range_list").RangeList,i=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function s(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}i.inherits(o,r),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){var t,n;t=e,n=this.start,s(t.start,n),s(t.end,n);for(var r=e.start.row,i=e.start.column,o=0,a=-1;o<this.subFolds.length&&1==(a=this.subFolds[o].range.compare(r,i));o++);var l=this.subFolds[o],c=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);c=1}r=e.range.end.row,i=e.range.end.column;var u=o;for(a=-1;u<this.subFolds.length&&1==(a=this.subFolds[u].range.compare(r,i));u++);0==a&&u++;for(var h=this.subFolds.splice(o,u-o,e),d=0==a?h.length-1:h.length,f=c;f<d;f++)e.addSubFold(h[f]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){a(e.start,t),a(e.end,t)}(e,this.start)}}.call(o.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){"use strict";var r=e("../range").Range,i=e("./fold_line").FoldLine,o=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var i=r.folds,o=0;o<i.length;o++){var s=i[o].range;if(s.contains(e,t)){if(1==n&&s.isEnd(e,t)&&!s.isEmpty())continue;if(-1==n&&s.isStart(e,t)&&!s.isEmpty())continue;return i[o]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var o=0;o<r.length;o++){var s=r[o].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=r[o].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(s=c.range.compareRange(e)))break;if(2!=s){if(42==s)break;i.push(c)}}}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(!(r=r||this.getFoldLine(e)))return null;for(var i,o,s={end:{column:0}},a=0;a<r.folds.length;a++){var l=(o=r.folds[a]).range.compareEnd(e,t);if(-1==l){i=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return i||(i=this.getLine(o.start.row).substring(s.end.column)),-1==n?i.substring(0,t-s.end.column):1==n?i.substring(t-s.end.column):i},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,i=0;i<n.length;i++){var o=n[i],s=o.end.row,a=o.start.row;if(s>=t){a<t&&(a>=e?r-=t-a:r=0);break}s>=e&&(r-=a>=e?s-a:s-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,r=this.$foldData,s=!1;e instanceof o?n=e:(n=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column,h=this.getFoldAt(a,l,1),d=this.getFoldAt(c,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(c,u)&&this.removeFold(d);var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),n.collapseChildren||f.forEach((function(e){n.addSubFold(e)})));for(var p=0;p<r.length;p++){var g=r[p];if(c==g.start.row){g.addFold(n),s=!0;break}if(a==g.end.row){if(g.addFold(n),s=!0,!n.sameRow){var m=r[p+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return s||(g=this.$addFoldLine(new i(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,o=t.folds;if(1==o.length)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);(o=s.folds).shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,i;if(null==e)n=new r(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)n=new r(e,0,e,this.getLine(e).length);else if("row"in e)n=r.fromPoints(e,e);else{if(Array.isArray(e))return i=[],e.forEach((function(e){i=i.concat(this.unfold(e))}),this),i;n=e}for(var o=i=this.getFoldsInRangeList(n);1==i.length&&r.comparePoints(i[0].start,n.start)<0&&r.comparePoints(i[0].end,n.end)>0;)this.expandFolds(i),i=this.getFoldsInRangeList(n);if(0!=t?this.removeFolds(i):this.expandFolds(i),o.length)return o},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){null==r&&(r=e.start.row),null==i&&(i=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk((function(e,t,n,a){if(!(t<r)){if(t==r){if(n<i)return;a=Math.max(i,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}}),t,n),s},this.getDisplayLine=function(e,t,n,r){var i,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,n,r):(i=this.doc.getLine(e)).substring(r||0,t||i.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new i(e,n)}))},this.toggleFold=function(e){var t,n,r=this.selection.getRange();if(r.isEmpty()){var i=r.start;if(t=this.getFoldAt(i.row,i.column))return void this.expandFold(t);(n=this.findMatchingBracket(i))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:i.row,column:i.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(i.row,i.column)||r}else{var o=this.getFoldsInRange(r);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(r.start.row,r.start.column)),t&&t.range.toString()==r.toString())this.expandFold(t);else{var s="...";if(!r.isMultiLine()){if((s=this.getTextRange(r)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,r)}},this.getCommentFoldRange=function(e,t,n){var i=new s(this,e,t),o=i.getCurrentToken(),a=o&&o.type;if(o&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new r;if(1!=n){do{o=i.stepBackward()}while(o&&l.test(o.type));i.stepForward()}if(c.start.row=i.getCurrentTokenRow(),c.start.column=i.getCurrentTokenColumn()+2,i=new s(this,e,t),-1!=n){var u=-1;do{if(o=i.stepForward(),-1==u){var h=this.getState(i.$row);l.test(h)||(u=i.$row)}else if(i.$row>u)break}while(o&&l.test(o.type));o=i.stepBackward()}else o=i.getCurrentToken();return c.end.row=i.getCurrentTokenRow(),c.end.column=i.getCurrentTokenColumn()+o.value.length-2,c}},this.foldAll=function(e,t,n,r){void 0==n&&(n=1e5);var i=this.foldWidgets;if(i){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==i[o]&&(i[o]=this.getFoldWidget(o)),"start"==i[o]&&(!r||r(o))){var s=this.getFoldWidgetRange(o);s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e&&(o=s.end.row,s.collapseChildren=n,this.addFold("...",s))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),r=0;r<n.length;r++){var i=n[r];if("text"!=i.type||!/^\s+$/.test(i.value))return!!/comment/.test(i.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var r,i=e-1;i>=0;){var o=n[i];if(null==o&&(o=n[i]=this.getFoldWidget(i)),"start"==o){var s=this.getFoldWidgetRange(i);if(r||(r=s),s&&s.end.row>=e)break}i--}return{range:-1!==i&&s,firstRange:r}},this.onFoldWidgetClick=function(e,t){var n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var r=t.target||t.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),i="end"===n?-1:1,o=this.getFoldAt(e,-1===i?0:r.length,i);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var r=this.getParentFoldRangeData(t,!0);if(n=r.range||r.firstRange){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var r=e("../token_iterator").TokenIterator,i=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),r=!0,o=n.charAt(e.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),r=!1),!s)return null;if(s[1]){if(!(a=this.$findClosingBracket(s[1],e)))return null;t=i.fromPoints(e,a),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(s[2],e)))return null;t=i.fromPoints(a,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),n=t.charAt(e.column-1),r=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(r||(n=t.charAt(e.column),e={row:e.row,column:e.column+1},r=n&&n.match(/([\(\[\{])|([\)\]\}])/)),!r)return null;var o=new i(e.row,e.column-1,e.row,e.column),s=r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e);return s?[o,new i(s.row,s.column,s.row,s.column+1)]:[o]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var i=this.$brackets[e],o=1,s=new r(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==i){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(o+=1);l-=1}do{a=s.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var i=this.$brackets[e],o=1,s=new r(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var h=c.charAt(l);if(h==i){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==e&&(o+=1);l+=1}do{a=s.stepForward()}while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./bidihandler").BidiHandler,s=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,u=e("./range").Range,h=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,f=e("./search_highlight").SearchHighlight,p=function e(t,n){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++e.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new d((new c).getTokenizer(),this);var r=this;this.bgTokenizer.on("update",(function(e){r._signal("tokenizerUpdate",e)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new h(t)),this.setDocument(t),this.selection=new l(this),this.$bidiHandler=new o(this),s.resetOptions(this),this.setMode(n),s._signal("session",this),this.destroyed=!1};p.$uid=0,function(){r.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>1,o=e[i];if(t>o)n=i+1;else{if(!(t<o))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),i=0;if(null==t){var o=r.length-1;i=this.getLine(e).length}else for(o=0;o<r.length&&!((i+=r[o].value.length)>=t);o++);return(n=r[o])?(n.index=o,n.start=i-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=o,this._signal("changeFrontMarker")):(this.$backMarkers[i]=o,this._signal("changeBackMarker")),i},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var i=new u(e,0,t,1/0);return i.id=this.addMarker(i,n,"fullLine",r),i},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))i=/\s/;else i=this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(i));o++}for(var s=t;s<n.length&&n.charAt(s).match(i);)s++;return new u(e,o,e,s)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),r=this.getLine(n.end.row);r.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=s.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"===typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[r]&&!n)return this.$onChangeMode(this.$modes[r]),void(t&&t());this.$modeId=r,s.loadModule(["mode",r],function(e){if(this.$modeId!==r)return t&&t();this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var r=e.getTokenizer();if(void 0!==r.on){var i=this.onReloadTokenizer.bind(this);r.on("update",i)}this.bgTokenizer.setTokenizer(r),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,o=this.$foldData[i],s=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>s){if((l=o.end.row+1)>=a)break;s=(o=this.$foldData[i++])?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>r&&(r=n[l])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var r=e[n];"insert"==r.action||"remove"==r.action?this.doc.revertDelta(r):r.folds&&this.addFolds(r.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var r=e[n];"insert"!=r.action&&"remove"!=r.action||this.doc.$safeApplyDelta(r)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var r,i,o=0;o<e.length;o++){var s=e[o];s.start&&(r?n(s)?(i=s.start,-1==r.compare(i.row,i.column)&&r.setStart(i),i=s.end,1==r.compare(i.row,i.column)&&r.setEnd(i)):(i=s.start,-1==r.compare(i.row,i.column)&&(r=u.fromPoints(s.start,s.start))):r=n(s)?u.fromPoints(s.start,s.end):u.fromPoints(s.start,s.start))}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),o=u.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row;(c=s?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=c),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=c)),s&&o.start.row>=e.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,r),i.length){var a=e.start,l=o.start,c=(s=l.row-a.row,l.column-a.column);this.addFolds(i.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=c),e.end.row==a.row&&(e.end.column+=c),e.start.row+=s,e.end.row+=s,e})))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new u(0,0,0,0),r=this.getTabSize(),i=t.start.row;i<=t.end.row;++i){var o=this.getLine(i);n.start.row=i,n.end.row=i;for(var s=0;s<r&&" "==o.charAt(s);++s);s<r&&"\t"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((i=this.getRowFoldStart(e+n))<0)return 0;var r=i-e}else if(n>0){var i;if((i=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;r=i-t}else{e=this.$clipRowToDocument(e);r=(t=this.$clipRowToDocument(t))-e+1}var o=new u(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=r,e.end.row+=r,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+r,a),s.length&&this.addFolds(s),r},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1&&(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,o=r.row,s=i.row,a=s-o,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=0;if(g=this.getFoldLine(i.row)){g.addRemoveChars(i.row,i.column,r.column-i.column),g.shiftRow(-a);var h=this.getFoldLine(o);h&&h!==g&&(h.merge(g),g=h),u=c.indexOf(g)+1}for(;u<c.length;u++){(g=c[u]).start.row>=i.row&&g.shiftRow(-a)}s=o}else{var d=Array(a);d.unshift(o,0);var f=t?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,d);c=this.$foldData,u=0;if(g=this.getFoldLine(o)){var p=g.range.compareInside(r.row,r.column);0==p?(g=g.split(r.row,r.column))&&(g.shiftRow(a),g.addRemoveChars(s,0,i.column-r.column)):-1==p&&(g.addRemoveChars(o,0,i.column-r.column),g.shiftRow(a)),u=c.indexOf(g)+1}for(;u<c.length;u++){var g;(g=c[u]).start.row>=o&&g.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(g=this.getFoldLine(o))&&g.addRemoveChars(o,r.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(n,r){var i,o,s=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,u=n;for(r=Math.min(r,s.length-1);u<=r;)(o=this.getFoldLine(u,o))?(i=[],o.walk(function(n,r,o,a){var l;if(null!=n){(l=this.$getDisplayTokens(n,i.length))[0]=e;for(var c=1;c<l.length;c++)l[c]=t}else l=this.$getDisplayTokens(s[r].substring(a,o),i.length);i=i.concat(l)}.bind(this),o.end.row,s[o.end.row].length+1),l[o.start.row]=this.$computeWrapSplits(i,c,a),u=o.end.row+1):(i=this.$getDisplayTokens(s[u]),l[u]=this.$computeWrapSplits(i,c,a),u++)};var e=3,t=4;function n(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(n,r,i){if(0==n.length)return[];var o=[],s=n.length,a=0,l=0,c=this.$wrapAsCode,u=this.$indentedSoftWrap,h=r<=Math.max(2*i,8)||!1===u?0:Math.floor(r/2);function d(e){for(var t=e-a,r=a;r<e;r++){var s=n[r];12!==s&&2!==s||(t-=1)}o.length||(f=function(){var e=0;if(0===h)return e;if(u)for(var t=0;t<n.length;t++){var r=n[t];if(10==r)e+=1;else{if(11!=r){if(12==r)continue;break}e+=i}}return c&&!1!==u&&(e+=i),Math.min(e,h)}(),o.indent=f),l+=t,o.push(l),a=e}for(var f=0;s-a>r-f;){var p=a+r-f;if(n[p-1]>=10&&n[p]>=10)d(p);else if(n[p]!=e&&n[p]!=t){for(var g=Math.max(p-(r-(r>>2)),a-1);p>g&&n[p]<e;)p--;if(c){for(;p>g&&n[p]<e;)p--;for(;p>g&&9==n[p];)p--}else for(;p>g&&n[p]<10;)p--;p>g?d(++p):(2==n[p=a+r]&&p--,d(p-f))}else{for(;p!=a-1&&n[p]!=e;p--);if(p>a){d(p);continue}for(p=a+r;p<n.length&&n[p]==t;p++);if(p==n.length)break;d(p)}}return o},this.$getDisplayTokens=function(e,t){var r,i=[];t=t||0;for(var o=0;o<e.length;o++){var s=e.charCodeAt(o);if(9==s){r=this.getScreenTabSize(i.length+t),i.push(11);for(var a=1;a<r;a++)i.push(12)}else 32==s?i.push(10):s>39&&s<48||s>57&&s<64?i.push(9):s>=4352&&n(s)?i.push(1,2):i.push(1)}return i},this.$getStringScreenWidth=function(e,t,r){if(0==t)return[0,0];var i,o;for(null==t&&(t=1/0),r=r||0,o=0;o<e.length&&(9==(i=e.charCodeAt(o))?r+=this.getScreenTabSize(r):i>=4352&&n(i)?r+=2:r+=1,!(r>t));o++);return[r,o]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var r,i,o=0,s=0,a=0,l=0,c=this.$screenRowCache,u=this.$getRowCacheIndex(c,e),h=c.length;if(h&&u>=0){a=c[u],o=this.$docRowCache[u];var d=e>c[h-1]}else d=!h;for(var f=this.getLength()-1,p=this.getNextFoldLine(o),g=p?p.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(o))>e||o>=f);)a+=l,++o>g&&(o=p.end.row+1,g=(p=this.getNextFoldLine(o,p))?p.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(p&&p.start.row<=o)r=this.getFoldDisplayLine(p),o=p.start.row;else{if(a+l<=e||o>f)return{row:f,column:this.getLine(f).length};r=this.getLine(o),p=null}var m=0,v=Math.floor(e-a);if(this.$useWrapMode){var y=this.$wrapData[o];y&&(i=y[v],v>0&&y.length&&(m=y.indent,s=y[v-1]||y[y.length-1],r=r.substring(s)))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+v,o,v)&&(t=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(r,t-m)[1],this.$useWrapMode&&s>=i&&(s=i-1),p?p.idxToPosition(s):{row:o,column:s}},this.documentToScreenPosition=function(e,t){if("undefined"===typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r,i=0,o=null;(r=this.getFoldAt(e,t,1))&&(e=r.start.row,t=r.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0){a=l[c],i=this.$screenRowCache[c];var h=e>l[u-1]}else h=!u;for(var d=this.getNextFoldLine(a),f=d?d.start.row:1/0;a<e;){if(a>=f){if((s=d.end.row+1)>e)break;f=(d=this.getNextFoldLine(s,d))?d.start.row:1/0}else s=a+1;i+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var p="";d&&a>=f?(p=this.getFoldDisplayLine(d,e,t),o=d.start.row):(p=this.getLine(e).substring(0,t),o=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[o];if(m){for(var v=0;p.length>=m[v];)i++,v++;p=p.substring(m[v-1]||0,p.length),g=v>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(i+=this.lineWidgets[a].rowsAbove),{row:i,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,r=0,i=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);r<n;){var o=this.$wrapData[r];e+=o?o.length+1:1,++r>i&&(r=t.end.row+1,i=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var s=this.$foldData,a=0;a<s.length;a++)e-=(t=s[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,r){if(0===n)return[0,0];var i,o;for(n||(n=1/0),r=r||0,o=0;o<t.length&&!((r+="\t"===(i=t.charAt(o))?this.getScreenTabSize(r):e.getCharacterWidth(i))>n);o++);return[r,o]})},this.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=n}.call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),s.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=p})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/lang"),i=e("./lib/oop"),o=e("./range").Range,s=function(){this.$options={}};(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach((function(e,n,i,s){return r=new o(e,n,i,s),!(n==s&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))||(r=null,!1)})),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=i.length-c;e:for(var h=a.offset||0;h<=u;h++){for(var d=0;d<c;d++)if(-1==i[h+d].search(a[d]))continue e;var f=i[h],p=i[h+c-1],g=f.length-f.match(a[0])[0].length,m=p.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>g||(s.push(l=new o(h,g,h+c-1,m)),c>2&&(h=h+c-2))}}else for(var v=0;v<i.length;v++){var y=r.getMatchOffsets(i[v],a);for(d=0;d<y.length;d++){var b=y[d];s.push(new o(v,b.offset,v,b.offset+b.length))}}if(n){var w=n.start.column,x=n.start.column;for(v=0,d=s.length-1;v<d&&s[v].start.column<w&&s[v].start.row==n.start.row;)v++;for(;v<d&&s[d].end.column>x&&s[d].end.row==n.end.row;)d--;for(s=s.slice(v,d+1),v=0,d=s.length;v<d;v++)s[v].start.row+=n.start.row,s[v].end.row+=n.start.row}return s},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var i=r.exec(e);if(!i||i[0].length!=e.length)return null;if(t=e.replace(r,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];s&&s.toLowerCase()!=s?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n)),e.wholeWord&&(n=function(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var i=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,i);try{var o=new RegExp(n,i)}catch(s){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(o){return!1}return r},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r=1==t.backwards,i=0!=t.skipCurrent,o=t.range,s=t.start;s||(s=o?o[r?"end":"start"]:e.selection.getRange()),s.start&&(s=s[i!=r?"end":"start"]);var a=o?o.start.row:0,l=o?o.end.row:e.getLength()-1;if(r)var c=function(e){var n=s.row;if(!h(n,s.column,e)){for(n--;n>=a;n--)if(h(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=l,a=s.row;n>=a;n--)if(h(n,Number.MAX_VALUE,e))return}};else c=function(e){var n=s.row;if(!h(n,s.column,e)){for(n+=1;n<=l;n++)if(h(n,0,e))return;if(0!=t.wrap)for(n=a,l=s.row;n<=l;n++)if(h(n,0,e))return}};if(t.$isMultiLine)var u=n.length,h=function(t,i,o){var s=r?t-u+1:t;if(!(s<0||s+u>e.getLength())){var a=e.getLine(s),l=a.search(n[0]);if(!(!r&&l<i||-1===l)){for(var c=1;c<u;c++)if(-1==(a=e.getLine(s+c)).search(n[c]))return;var h=a.match(n[u-1])[0].length;if(!(r&&h>i))return!!o(s,l,s+u-1,h)||void 0}}};else if(r)h=function(t,r,i){var o,s=e.getLine(t),a=[],l=0;for(n.lastIndex=0;o=n.exec(s);){var c=o[0].length;if(l=o.index,!c){if(l>=s.length)break;n.lastIndex=l+=1}if(o.index+c>r)break;a.push(o.index,c)}for(var u=a.length-1;u>=0;u-=2){var h=a[u-1];if(i(t,h,t,h+(c=a[u])))return!0}};else h=function(t,r,i){var o,s,a=e.getLine(t);for(n.lastIndex=r;s=n.exec(a);){var l=s[0].length;if(i(t,o=s.index,t,o+l))return!0;if(!l&&(n.lastIndex=o+=1,o>=a.length))return!1}};return{forEach:c}}}).call(s.prototype),t.Search=s})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/keys"),i=e("../lib/useragent"),o=r.KEY_MODS;function s(e,t){this.platform=t||(i.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function a(e,t){s.call(this,e,t),this.$singleCommand=!1}a.prototype=s.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"===typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var o=r[i];if(o==e)delete r[i];else if(Array.isArray(o)){var s=o.indexOf(e);-1!=s&&(o.splice(s,1),1==o.length&&(r[i]=o[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(void 0==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var r="";if(-1!=e.indexOf(" ")){var i=e.split(/\s+/);e=i.pop(),i.forEach((function(e){var t=this.parseKeys(e),n=o[t.hashId]+t.key;r+=(r?" ":"")+n,this._addCommandToBinding(r,"chainKeys")}),this),r+=" "}var s=this.parseKeys(e),a=o[s.hashId]+s.key;this._addCommandToBinding(r+a,t,n)}),this)},this._addCommandToBinding=function(t,n,r){var i,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{Array.isArray(o[t])?-1!=(i=o[t].indexOf(n))&&o[t].splice(i,1):o[t]=[o[t]],"number"!=typeof r&&(r=e(n));var s=o[t];for(i=0;i<s.length;i++){if(e(s[i])>r)break}s.splice(i,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"===typeof n)return this.bindKey(n,t);"function"===typeof n&&(n={exec:n}),"object"===typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),i=r[n];if(r.FUNCTION_KEYS[i])n=r.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,s=t.length;s--;){var a=r.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;o|=a}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=o[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,r){if(!(r<0)){var i=o[t]+n,s=this.commandKeyBinding[i];return e.$keyChain&&(e.$keyChain+=" "+i,s=this.commandKeyBinding[e.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-i.length-1)),{command:s}):(e.$keyChain=e.$keyChain||i,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(s.prototype),t.HashHandler=s,t.MultiHashHandler=a})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,s=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)}))};r.inherits(s,i),function(){r.implement(this,o),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}if("string"===typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),!1!==i.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(s.prototype),t.CommandManager=s})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";var r=e("../lib/lang"),i=e("../config"),o=e("../range").Range;function s(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(e){i.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(e){i.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(e){i.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(e,t){"number"!==typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(e){i.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(e){i.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=i.row+1;c++){var u=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(c)));0!==u.length&&(u=" "+u),l+=u}i.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,i.row+2,0),l),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var s=0;s<r.length;s++)s==r.length-1&&(r[s].end.row===t&&r[s].end.column===n||i.push(new o(r[s].end.row,r[s].end.column,t,n))),0===s?0===r[s].start.row&&0===r[s].start.column||i.push(new o(0,0,r[s].start.row,r[s].start.column)):i.push(new o(r[s-1].end.row,r[s-1].end.column,r[s].start.row,r[s].start.column));e.exitMultiSelectMode(),e.clearSelection();for(s=0;s<i.length;s++)e.selection.addRange(i[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:s("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/lang"),s=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,d=e("./search").Search,f=e("./range").Range,p=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=e("./clipboard"),w=function e(t,n,r){this.$toDestroy=[];var i=t.getContainerElement();this.container=i,this.renderer=t,this.id="editor"+ ++e.$uid,this.commands=new g(s.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new a(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new u(this),this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(n||r&&r.session||new h("")),v.resetOptions(this),r&&this.setOptions(r),v._signal("editor",this)};w.$uid=0,function(){r.implement(this,p),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var i=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"===typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],(function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&!t.destroyed){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=t.getMatchingBracketRanges(e.getCursorPosition());if(!n&&t.$mode.getMatching&&(n=t.$mode.getMatching(e.session)),n){var r="ace_bracket";Array.isArray(n)?1==n.length&&(r="ace_error_bracket"):n=[n],2==n.length&&(0==f.comparePoints(n[0].end,n[1].start)?n=[f.fromPoints(n[0].start,n[1].end)]:0==f.comparePoints(n[0].start,n[1].end)&&(n=[f.fromPoints(n[1].start,n[0].end)])),t.$bracketHighlight={ranges:n,markerIds:n.map((function(e){return t.addMarker(e,r,"text")}))},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}else e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout((function(){e.$highlightTagPending=!1;var t=e.session;if(t&&!t.destroyed){var n=e.getCursorPosition(),r=new y(e.session,n.row,n.column),i=r.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1===i.type.indexOf("tag-open")||(i=r.stepForward())){var o=i.value,s=i.value,a=0,l=r.stepBackward();if("<"===l.value)do{l=i,(i=r.stepForward())&&(-1!==i.type.indexOf("tag-name")?o===(s=i.value)&&("<"===l.value?a++:"</"===l.value&&a--):o===s&&"/>"===i.value&&a--)}while(i&&a>=0);else{do{if(i=l,l=r.stepBackward(),i)if(-1!==i.type.indexOf("tag-name"))o===i.value&&("<"===l.value?a++:"</"===l.value&&a--);else if("/>"===i.value){for(var c=0,u=l;u;){if(-1!==u.type.indexOf("tag-name")&&u.value===o){a--;break}if("<"===u.value)break;u=r.stepBackward(),c++}for(var h=0;h<c;h++)r.stepForward()}}while(l&&a<=0);r.stepForward()}if(!i)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var d=r.getCurrentTokenRow(),p=r.getCurrentTokenColumn(),g=new f(d,p,d,p+i.value.length),m=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&void 0!=m&&0!==g.compareRange(m.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(g,"ace_bracket","text"))}}}),50)}},this.focus=function(){this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new f(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,r=t.end.column,i=e.getLine(t.start.row),o=i.substring(n,r);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=i.substring(n-1,r+1);if(s.test(a))return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var r=this.selection.getAllRanges(),i=0;i<r.length;i++){var o=r[i];i&&r[i-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var s={text:e};return this._signal("copy",s),b.lineMode=!!n&&s.text,s.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t===b.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){r.insert({row:e.start.row,column:0},t)}));else{var i=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges,s=2==i.length&&(!i[0]||!i[1]);if(i.length!=o.length||s)return this.commands.exec("insertstring",this,t);for(var a=o.length;a--;){var l=o[a];l.isEmpty()||r.remove(l),r.insert(l.start,i[a])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=r.transformAction(n.getState(i.row),"insertion",this,n,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){(s=new f.fromPoints(i,i)).end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();i=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(i.row);if(i.column>a.search(/\S|$/)){var l=a.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+l)}}this.clearSelection();var c=i.column,u=n.getState(i.row),h=(a=n.getLine(i.row),r.checkOutdent(u,a,e));if(n.insert(i,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new f(i.row,c+o.selection[0],i.row,c+o.selection[1])):this.selection.setSelectionRange(new f(i.row+o.selection[0],o.selection[1],i.row+o.selection[2],o.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var d=r.getNextLineIndent(u,a.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},d)}h&&r.autoOutdent(u,n,i.row)}},this.autoIndent=function(){var e,t,n=this.session,r=n.getMode();if(this.selection.isEmpty())e=0,t=n.doc.getLength()-1;else{var i=this.getSelectionRange();e=i.start.row,t=i.end.row}for(var o,s,a,l="",c="",u="",h=n.getTabString(),d=e;d<=t;d++)d>0&&(l=n.getState(d-1),c=n.getLine(d-1),u=r.getNextLineIndent(l,c,h)),o=n.getLine(d),u!==(s=r.$getIndent(o))&&(s.length>0&&(a=new f(d,0,d,s.length),n.remove(a)),u.length>0&&n.insert({row:d,column:0},u)),r.autoOutdent(l,n,d)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove());(!e&&this.selection.isEmpty()||this.insert(e,!0),t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setHighlightIndentGuides=function(e){this.renderer.setHighlightIndentGuides(e)},this.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,i=this.session.getLine(e.row);t<i.length?(n=i.charAt(t)+i.charAt(t-1),r=new f(e.row,t-1,e.row,t+1)):(n=i.charAt(t-1)+i.charAt(t-2),r=new f(e.row,t-2,e.row,t)),this.session.replace(r,n),this.session.selection.moveToPosition(r.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){u=this.$getSelectedRows();return void e.indentRows(u.first,u.last,"\t")}}var r=e.getLine(t.start.row),i=t.start,s=e.getTabSize(),a=e.documentToScreenColumn(i.row,i.column);if(this.session.getUseSoftTabs())var l=s-a%s,c=o.stringRepeat(" ",l);else{for(l=a%s;" "==r[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var u=this.$getSelectedRows();e.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var i=new f(0,0,0,0);for(r=e.first;r<=e.last;r++){var o=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=o.length,t.replace(i,n[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var r=this.session.getLine(e);n.lastIndex<t;){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t)return{value:i[0],start:i.index,end:i.index+i[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new f(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var o=this.getNumberAt(t,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),s!==o.end&&n<s?e*=Math.pow(10,o.end-n-1):e*=Math.pow(10,o.end-n),l+=e;var c=(l/=Math.pow(10,a)).toFixed(a),u=new f(t,o.start,t,o.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),r=this.selection.getWordRange().start.column,i=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=t-r-1;s<0&&(s=0);var a=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&i.forEach((function(t,i){l=a+t.length,s>=a&&s<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,a+r),c.selection.selectTo(e,l+r)),a=l}));for(var u,h=this.$toggleWordPairs,d=0;d<h.length;d++)for(var f=h[d],p=0;p<=1;p++){var g=+!p,m=n.match(new RegExp("^\\s?_?("+o.escapeRegExp(f[p])+")\\s?$","i"));if(m)n.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(m[1])+")($|\\s)","g"))&&(u=n.replace(new RegExp(o.escapeRegExp(f[p]),"i"),(function(e){var t=f[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+f[g].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(u),u="")}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var o=r?n.start:n.end,s=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=s,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var o=i.toOrientedRange();n=this.$getSelectedRows(o),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(r=0),o.moveBy(r,0),i.fromOrientedRange(o)}else{var s=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,u=0;u<c;u++){var h=u;s[u].moveBy(a,0);for(var d=(n=this.$getSelectedRows(s[u])).first,f=n.last;++u<c;){l&&s[u].moveBy(l,0);var p=this.$getSelectedRows(s[u]);if(t&&p.first!=f)break;if(!t&&p.first>f+1)break;f=p.last}for(u--,a=this.session.$moveLines(d,f,t?0:e),t&&-1==e&&(h=u+1);h<=u;)s[h].moveBy(a,0),h++;t||(a=0),l+=a}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(i,0)})):!1===t&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,i*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new y(this.session,n.row,n.column),i=r.getCurrentToken(),o=i||r.stepForward();if(o){var s,a,l=!1,c={},u=n.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!l;u++)if(h[o.value[u]])switch(a=h[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),o.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(s="bracket",l=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===i.value?c[o.value]++:"</"===i.value&&c[o.value]--,-1===c[o.value]&&(s="tag",l=!0));l||(i=o,o=r.stepForward(),u=0)}while(o&&!l);if(s){var d,p;if("bracket"===s)(d=this.session.getBracketRange(n))||(p=(d=new f(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1)).start,(t||p.row===n.row&&Math.abs(p.column-n.column)<2)&&(d=this.session.getBracketRange(p)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var g=o.value;if(0===(d=new f(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2)).compare(n.row,n.column)){l=!1;do{o=i,(i=r.stepBackward())&&(-1!==i.type.indexOf("tag-close")&&d.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),o.value===g&&-1!==o.type.indexOf("tag-name")&&("<"===i.value?c[g]++:"</"===i.value&&c[g]--,0===c[g]&&(l=!0)))}while(i&&!l)}o&&o.type.indexOf("tag-name")&&(p=d.start).row==n.row&&Math.abs(p.column-n.column)<2&&(p=d.end)}(p=d&&d.cursor||p)&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&r++;return this.selection.setSelectionRange(i),r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var i=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(i)||this.$search.$options.needle)||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var o=this.on("changeSelection",(function(){r=!0})),s=this.renderer.on("beforeRender",(function(){r&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;null!=(r=o.top>=0&&a+t.top<0||!(o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight)&&null)&&(i.style.top=a+"px",i.style.left=o.left+"px",i.style.height=s.lineHeight+"px",i.scrollIntoView(r)),r=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,n){var r=this;v.loadModule("./ext/prompt",(function(i){i.prompt(r,e,t,n)}))}}.call(w.prototype),v.defineOptions(w.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?x.attach(this):x.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?x.attach(this):x.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),i.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),i.addCssClass(this.container,"ace_hasPlaceholder");var t=i.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var x={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"\xb7":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=w})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=function(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){if(!this.$fromUndo&&e!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===t||!this.lastDeltas){this.lastDeltas=[];var r=this.$undoStack.length;r>this.$undoDepth-1&&this.$undoStack.splice(0,r-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e)}},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=n.length;r--;){var i=n[r][0];if(i.id<=e)break;i.id<t&&(i.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var n=this.selections,r=n.length;r--;){var i=n[r];if(i.rev<e)return t&&(i=n[r+1]),i}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=null,i=0,o=n.length;o--;){var s=n[o][0];if(s.id<t&&!r&&(r=o+1),s.id<=e){i=o+1;break}}return n.slice(i,r)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var r=e[n];if(r&&!r[0].ignore){for(;n<t-1;){var i=u(e[n],e[n+1]);e[n]=i[0],e[n+1]=i[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var r=n.pop(),i=null;return r&&(i=e.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,i}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)g(e,r[i])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var r=this.$redoStack.pop(),i=null;return r&&(i=e.redoChanges(r,t),this.$undoStack.push(r),this.$syncRev()),this.$fromUndo=!1,i},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){void 0==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?a(e):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)}}).call(r.prototype);var i=e("./range").Range,o=i.comparePoints;i.comparePoints;function s(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join("\n"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function l(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function c(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(n&&!r)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}else if(!n&&r)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(!n&&!r)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}return[t,e]}function u(e,t){for(var n=e.length;n--;)for(var r=0;r<t.length;r++)if(!c(e[n],t[r])){for(;n<e.length;){for(;r--;)c(t[r],e[n]);r=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function h(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)o(e.start,t.start)<0?d(t,e,1):d(e,t,1);else if(n&&!r)o(e.start,t.end)>=0?d(e,t,-1):(o(e.start,t.start)<=0||d(e,i.fromPoints(t.start,e.start),-1),d(t,e,1));else if(!n&&r)o(t.start,e.end)>=0?d(t,e,-1):(o(t.start,e.start)<=0||d(t,i.fromPoints(e.start,t.start),-1),d(e,t,1));else if(!n&&!r)if(o(t.start,e.end)>=0)d(t,e,-1);else{var s,a;if(!(o(t.end,e.start)<=0))return o(e.start,t.start)<0&&(s=e,e=p(e,t.start)),o(e.end,t.end)>0&&(a=p(e,t.end)),f(t.end,e.start,e.end,-1),a&&!s&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,s,a].filter(Boolean);d(e,t,-1)}return[t,e]}function d(e,t,n){f(e.start,t.start,t.end,n),f(e.end,t.start,t.end,n)}function f(e,t,n,r){e.row==(1==r?t:n).row&&(e.column+=r*(n.column-t.column)),e.row+=r*(n.row-t.row)}function p(e,t){var n=e.lines,r=e.end;e.end=s(t);var i=e.end.row-e.start.row,o=n.splice(i,n.length),a=i?t.column:t.column-e.start.column;return n.push(o[0].substring(0,a)),o[0]=o[0].substr(a),{start:s(t),end:r,lines:o,action:e.action}}function g(e,t){t=function(e){return{start:s(e.start),end:s(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var r=e[n],i=0;i<r.length;i++){var o=h(r[i],t);t=o[0],2!=o.length&&(o[2]?(r.splice(i+1,1,o[1],o[2]),i++):o[1]||(r.splice(i,1),i--))}r.length||e.splice(n,1)}return e}t.UndoManager=r})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){r.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var r=t.firstRowScreen*t.lineHeight,i=Math.floor(r/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-i*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=r.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=r.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,n,i){var o=this.cellCache.pop();if(!o){var s=r.createElement("div");i&&i(s),this.element.appendChild(s),o={element:s,text:"",row:e}}return o.row=e,o}}).call(i.prototype),t.Lines=i})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,l=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function c(e){var t=document.createTextNode("");e.appendChild(t);var n=r.createElement("span");return e.appendChild(n),e}(function(){i.implement(this,s),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[]});var s=n.text;s=s?o.escapeHTML(s):n.html||"",-1===i.text.indexOf(s)&&i.text.push(s);var a=n.type,l=n.className;l?i.className=l:"error"==a?i.className=" ace_error":"warning"==a&&" ace_error"!=i.className?i.className=" ace_warning":"info"!=a||i.className||(i.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=r,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var i=t.getNextFoldLine(n),o=i?i.start.row:1/0,s=null,a=-1,l=n;;){if(l>o&&(l=i.end.row+1,o=(i=t.getNextFoldLine(l,i))?i.start.row:1/0),l>r){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(s=this.$lines.get(++a))?s.row=l:(s=this.$lines.createCell(l,e,this.session,c),this.$lines.push(s)),this.$renderCell(s,e,i,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,r=t.$firstLineNumber,i=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(i=t.getLength()+r-1);var o=n?n.getWidth(t,i,e):i.toString().length*e.characterWidth,s=this.$padding||this.$computePadding();(o+=s.left+s.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var r=t[n];if(r.row>=this.$cursorRow){if(r.row>this.$cursorRow){var i=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&i&&i.start.row==t[n-1].row))break;r=t[n-1]}r.element.className="ace_gutter-active-line "+r.element.className,this.$cursorCell=r;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),r=this.oldLastRow;if(this.oldLastRow=n,!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(r>n)for(i=this.session.getFoldedRowCount(n+1,r);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>r&&this.$lines.push(this.$renderLines(e,r+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var r=[],i=t,o=this.session.getNextFoldLine(i),s=o?o.start.row:1/0;i>s&&(i=o.end.row+1,s=(o=this.session.getNextFoldLine(i,o))?o.start.row:1/0),!(i>n);){var a=this.$lines.createCell(i,e,this.session,c);this.$renderCell(a,e,o,i),r.push(a),i++}return r},this.$renderCell=function(e,t,n,i){var o=e.element,s=this.session,a=o.childNodes[0],l=o.childNodes[1],c=s.$firstLineNumber,u=s.$breakpoints,h=s.$decorations,d=s.gutterRenderer||this.$renderer,f=this.$showFoldWidgets&&s.foldWidgets,p=n?n.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(i==this.$cursorRow||n&&i<this.$cursorRow&&i>=p&&this.$cursorRow<=n.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),u[i]&&(g+=u[i]),h[i]&&(g+=h[i]),this.$annotations[i]&&(g+=this.$annotations[i].className),o.className!=g&&(o.className=g),f){var m=f[i];null==m&&(m=f[i]=s.getFoldWidget(i))}if(m){g="ace_fold-widget ace_"+m;"start"==m&&i==p&&i<n.end.row?g+=" ace_closed":g+=" ace_open",l.className!=g&&(l.className=g);var v=t.lineHeight+"px";r.setStyle(l.style,"height",v),r.setStyle(l.style,"display","inline-block")}else l&&r.setStyle(l.style,"display","none");var y=(d?d.getText(s,i):i+c).toString();return y!==a.data&&(a.data=y),r.setStyle(e.element.style,"height",this.$lines.computeLineHeight(i,t,s)+"px"),r.setStyle(e.element.style,"top",this.$lines.computeLineTop(i,t,s)+"px"),e.text=y,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(l.prototype),t.Gutter=l})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../range").Range,i=e("../lib/dom"),o=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var r=this.markers[n];if(r.range){var i=r.range.clipRows(e.firstRow,e.lastRow);if(!i.isEmpty())if(i=i.toScreenRange(this.session),r.renderer){var o=this.$getTop(i.start.row,e),s=this.$padding+i.start.column*e.characterWidth;r.renderer(t,i,s,o,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,i,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?"text"==r.type?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,i,o){for(var s=this.session,a=t.start.row,l=t.end.row,c=a,u=0,h=0,d=s.getScreenLastRowColumn(c),f=new r(c,t.start.column,c,h);c<=l;c++)f.start.row=f.end.row=c,f.start.column=c==a?t.start.column:s.getRowWrapIndent(c),f.end.column=d,u=h,h=d,d=c+1<l?s.getScreenLastRowColumn(c+1):c==l?0:t.end.column,this.drawSingleLineMarker(e,f,n+(c==a?" ace_start":"")+" ace_br"+((c==a||c==a+1&&t.start.column?1:0)|(u<h?2:0)|(h>d?4:0)|(c==l?8:0)),i,c==l?0:1,o)},this.drawMultiLineMarker=function(e,t,n,r,i){var o=this.$padding,s=r.lineHeight,a=this.$getTop(t.start.row,r),l=o+t.start.column*r.characterWidth;(i=i||"",this.session.$bidiHandler.isBidiRow(t.start.row))?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",r,null,i)):this.elt(n+" ace_br1 ace_start","height:"+s+"px;right:0;top:"+a+"px;left:"+l+"px;"+(i||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,n+" ace_br12",r,null,i)}else{a=this.$getTop(t.end.row,r);var u=t.end.column*r.characterWidth;this.elt(n+" ace_br12","height:"+s+"px;width:"+u+"px;top:"+a+"px;left:"+o+"px;"+(i||""))}if(!((s=(t.end.row-t.start.row-1)*r.lineHeight)<=0)){a=this.$getTop(t.start.row+1,r);var h=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(h?" ace_br"+h:""),"height:"+s+"px;right:0;top:"+a+"px;left:"+o+"px;"+(i||""))}},this.drawSingleLineMarker=function(e,t,n,r,i,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,r,i,o);var s=r.lineHeight,a=(t.end.column+(i||0)-t.start.column)*r.characterWidth,l=this.$getTop(t.start.row,r),c=this.$padding+t.start.column*r.characterWidth;this.elt(n,"height:"+s+"px;width:"+a+"px;top:"+l+"px;left:"+c+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,n,r,i,o){var s=r.lineHeight,a=this.$getTop(t.start.row,r),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+s+"px;width:"+e.width+(i||0)+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(o||""))}),this)},this.drawFullLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),s=r.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,r)-o),this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(i||""))},this.drawScreenLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),s=r.lineHeight;this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(i||""))}}).call(o.prototype),t.Marker=o})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),s=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,l=function(e){this.dom=i,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)};(function(){r.implement(this,a),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$highlightIndentGuides=!0,this.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides!==e&&(this.$highlightIndentGuides=e,e)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++){if(this.showTabs)(r=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",r.textContent=o.stringRepeat(this.TAB_CHAR,n),t.push(r);else t.push(this.dom.createTextNode(o.stringRepeat(" ",n),this.element))}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r,i="ace_indent-guide",s=this.showSpaces?" ace_invisible ace_invisible_space":"",a=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):a;(r=this.dom.createElement("span")).className=i+s,r.textContent=a,this.$tabStrings[" "]=r,(r=this.dom.createElement("span")).className=i+l,r.textContent=c,this.$tabStrings["\t"]=r}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;a<r;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(r)){r=l.start.row;break}a=l.end.row}s++}for(var l,c=!1,u=(a=r,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);a>u&&(a=l.end.row+1,u=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>i);){var h=o[s++];if(h){this.dom.removeChildren(h),this.$renderLine(h,a,a==u&&l),c&&(h.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var d=e.lineHeight*this.session.getRowLength(a)+"px";h.style.height!=d&&(c=!0,h.style.height=d)}a++}if(c)for(;s<this.$lines.cells.length;){var f=this.$lines.cells[s++];f.element.style.top=this.$lines.computeLineTop(f.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,r=t?t.lastRow:-1;if(!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(t.lastRow>e.lastRow)for(i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},this.$renderLinesFragment=function(e,t,n){for(var r=[],o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;o>a&&(o=s.end.row+1,a=(s=this.session.getNextFoldLine(o,s))?s.start.row:1/0),!(o>n);){var l=this.$lines.createCell(o,e,this.session),c=l.element;this.dom.removeChildren(c),i.setStyle(c.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),i.setStyle(c.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(c,o,o==a&&s),this.$useLineGroups()?c.className="ace_line_group":c.className="ace_line",r.push(l),o++}return r},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,r=this.$lines;r.getLength();)r.pop();r.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){for(var i,s=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,l=this.dom.createFragment(this.element),c=0;i=a.exec(r);){var u=i[1],h=i[2],d=i[3],f=i[4],p=i[5];if(s.showSpaces||!h){var g=c!=i.index?r.slice(c,i.index):"";if(c=i.index+i[0].length,g&&l.appendChild(this.dom.createTextNode(g,this.element)),u){var m=s.session.getScreenTabSize(t+i.index);l.appendChild(s.$tabStrings[m].cloneNode(!0)),t+=m-1}else if(h){if(s.showSpaces)(y=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",y.textContent=o.stringRepeat(s.SPACE_CHAR,h.length),l.appendChild(y);else l.appendChild(this.com.createTextNode(h,this.element))}else if(d){(y=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",y.textContent=o.stringRepeat(s.SPACE_CHAR,d.length),l.appendChild(y)}else if(f){t+=1,(y=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",y.className=s.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",y.textContent=s.showSpaces?s.SPACE_CHAR:f,l.appendChild(y)}else if(p){t+=1,(y=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",y.className="ace_cjk",y.textContent=p,l.appendChild(y)}}}if(l.appendChild(this.dom.createTextNode(c?r.slice(c):r,this.element)),this.$textToken[n.type])e.appendChild(l);else{var v="ace_"+n.type.replace(/\./g," ace_"),y=this.dom.createElement("span");"fold"==n.type&&(y.style.width=n.value.length*this.config.characterWidth+"px"),y.className=v,y.appendChild(l),e.appendChild(y)}return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);if(r<=0||r>=n)return t;if(" "==t[0]){for(var i=(r-=r%this.tabSize)/this.tabSize,o=0;o<i;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(r)}if("\t"==t[0]){for(o=0;o<r;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(r)}return this.$highlightIndentGuide(),t},this.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var t=this.session.selection.getCursor(),n=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,r=Math.floor(n/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:r,start:t.row},this.session.$bracketHighlight)for(var i=this.session.$bracketHighlight.ranges,o=0;o<i.length;o++)if(t.row!==i[o].start.row){this.$highlightIndentGuideMarker.end=i[o].start.row,t.row>i[o].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}if(!this.$highlightIndentGuideMarker.end&&""!==e[t.row]&&t.column===e[t.row].length){this.$highlightIndentGuideMarker.dir=1;for(o=t.row+1;o<e.length;o++){var s=e[o],a=/^\s*/.exec(s)[0].length;if(""!==s&&(this.$highlightIndentGuideMarker.end=o,a<=n))break}}this.$renderHighlightIndentGuide()}}},this.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,t=0;t<e.length;t++){var n=e[t].element.childNodes;if(n.length>0)for(var r=0;r<n.length;r++)if(n[r].classList&&n[r].classList.contains("ace_indent-guide-active")){n[r].classList.remove("ace_indent-guide-active");break}}},this.$setIndentGuideActive=function(e,t){if(""!==this.session.doc.getLine(e.row)){var n=e.element.childNodes;n&&n[t-1]&&n[t-1].classList&&n[t-1].classList.add("ace_indent-guide-active")}},this.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(0!==t)if(1===this.$highlightIndentGuideMarker.dir)for(var n=0;n<e.length;n++){var r=e[n];if(this.$highlightIndentGuideMarker.end&&r.row>=this.$highlightIndentGuideMarker.start+1){if(r.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(r,t)}}else for(n=e.length-1;n>=0;n--){r=e[n];if(this.$highlightIndentGuideMarker.end&&r.row<this.$highlightIndentGuideMarker.start){if(r.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(r,t)}}}},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var r=0,i=0,s=n[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var u=t[c],h=u.value;if(0==c&&this.displayIndentGuides){if(r=h.length,!(h=this.renderIndentGuide(l,h,s)))continue;r-=h.length}if(r+h.length<s)a=this.$renderToken(l,a,u,h),r+=h.length;else{for(;r+h.length>=s;)a=this.$renderToken(l,a,u,h.substring(0,s-r)),h=h.substring(s-r),r=s,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(o.stringRepeat("\xa0",n.indent),this.element)),a=0,s=n[++i]||Number.MAX_VALUE;0!=h.length&&(r+=h.length,a=this.$renderToken(l,a,u,h))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},this.$renderSimpleLine=function(e,t){for(var n=0,r=0;r<t.length;r++){var i=t[r],o=i.value;if(0!=r||!this.displayIndentGuides||(o=this.renderIndentGuide(e,o))){if(n+o.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,i,o);n=this.$renderToken(e,n,i,o)}}},this.$renderOverflowMessage=function(e,t,n,r,i){n&&this.$renderToken(e,t,n,r.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=i?"<hide>":"<click to see more...>",e.appendChild(o)},this.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var r=this.$getFoldLineTokens(t,n);else r=this.session.getTokens(t);var i=e;if(r.length){var o=this.session.getRowSplitData(t);if(o&&o.length){this.$renderWrappedLine(e,r,o);i=e.lastChild}else{i=e;this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i)),this.$renderSimpleLine(i,r)}}else this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i));if(this.showEOL&&i){n&&(t=n.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,i.appendChild(s)}},this.$getFoldLineTokens=function(e,t){var n=this.session,r=[];var i=n.getTokens(e);return t.walk((function(e,t,o,s,a){null!=e?r.push({type:"fold",value:e}):(a&&(i=n.getTokens(t)),i.length&&function(e,t,n){for(var i=0,o=0;o+e[i].value.length<t;)if(o+=e[i].value.length,++i==e.length)return;for(o!=t&&((s=e[i].value.substring(t-o)).length>n-t&&(s=s.substring(0,n-t)),r.push({type:e[i].type,value:s}),o=t+s.length,i+=1);o<n&&i<e.length;){var s;(s=e[i].value).length+o>n?r.push({type:e[i].type,value:s.substring(0,n-o)}):r.push(e[i]),o+=s.length,i+=1}}(i,s,o))}),t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),t.Text=l})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)r.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&r.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,r.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,r.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),r.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);n=0;for(var o=t.length;n<o;n++){var s=this.getPixelPosition(t[n].cursor,!0);if(!((s.top>e.height+e.offset||s.top<0)&&n>1)){var a=this.cursors[i++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,s,e,t[n],this.session):this.isCursorInView(s,e)?(r.setStyle(l,"display","block"),r.translate(a,s.left,s.top),r.setStyle(l,"width",Math.round(e.characterWidth)+"px"),r.setStyle(l,"height",e.lineHeight+"px")):r.setStyle(l,"display","none")}}for(;this.cursors.length>i;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(i.prototype),t.Cursor=i})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/event"),s=e("./lib/event_emitter").EventEmitter,a=32768,l=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){r.implement(this,s),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(l.prototype);var c=function(e,t){l.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};r.inherits(c,l),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(c.prototype);var u=function(e,t){l.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(u,l),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(u.prototype),t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=u,t.VScrollBar=c,t.HScrollBar=u})),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/event"),s=e("./lib/event_emitter").EventEmitter;i.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}");var a=function(e){this.element=i.createElement("div"),this.element.className="ace_sb"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")};(function(){r.implement(this,s),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,this.parent=e,this.width=this.VScrollWidth,this.renderer=t,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0};r.inherits(l,a),function(){this.classSuffix="-v",r.implement(this,s),this.onMouseDown=function(e,t){if("mousedown"===e&&0===o.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,r=t.clientY,i=t.clientY,s=this.thumbTop;o.capture(this.inner,(function(e){r=e.clientY}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==r){var e=n.scrollTopFromThumbTop(s+r-i);e!==n.scrollTop&&n._emit("scroll",{data:e})}}),20);return o.preventDefault(t)}var l=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(l)}),o.preventDefault(t)}},this.getHeight=function(){return this.height},this.scrollTopFromThumbTop=function(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(t>>=0)<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},this.setInnerHeight=this.setScrollHeight=function(e,t){(this.pageHeight!==e||t)&&(this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},this.setScrollTop=function(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}.call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=t};r.inherits(c,a),function(){this.classSuffix="-h",r.implement(this,s),this.onMouseDown=function(e,t){if("mousedown"===e&&0===o.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,r=t.clientX,i=t.clientX,s=this.thumbLeft;o.capture(this.inner,(function(e){r=e.clientX}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==r){var e=n.scrollLeftFromThumbLeft(s+r-i);e!==n.scrollLeft&&n._emit("scroll",{data:e})}}),20);return o.preventDefault(t)}var l=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(l)}),o.preventDefault(t)}},this.getHeight=function(){return this.isVisible?this.height:0},this.scrollLeftFromThumbLeft=function(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(t>>=0)<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t},this.setWidth=function(e){this.width=Math.max(0,e),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},this.setInnerWidth=this.setScrollWidth=function(e,t){(this.pageWidth!==e||t)&&(this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},this.setScrollLeft=function(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";var r=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(r.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(r.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(i.prototype),t.RenderLoop=i})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),s=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c=256,u="function"==typeof ResizeObserver,h=200,d=t.FontMetrics=function(e){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",c),this.$characterSize={width:0,height:0},u?this.$addObserver():this.checkForSizeChanges()};(function(){r.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=s.onIdle((function t(){e.checkForSizeChanges(),s.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/c};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,c),this.$main.getBoundingClientRect().width/c},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=i.buildDom([e(0,0),e(h,0),e(0,h),e(h,h)],this.el)},this.transformCoordinates=function(e,t){e&&(e=o(1/this.$getZoom(this.el),e));function n(e,t,n){var r=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/r,(+e[1]*n[0]-e[0]*n[1])/r]}function r(e,t){return[e[0]-t[0],e[1]-t[1]]}function i(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function s(e){var t=e.getBoundingClientRect();return[t.left,t.top]}this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),l=s(this.els[1]),c=s(this.els[2]),u=s(this.els[3]),d=n(r(u,l),r(u,c),r(i(l,c),i(u,a))),f=o(1+d[0],r(l,a)),p=o(1+d[1],r(c,a));if(t){var g=t,m=d[0]*g[0]/h+d[1]*g[1]/h+1,v=i(o(g[0],f),o(g[1],p));return i(o(1/m/h,v),a)}var y=r(e,a),b=n(r(f,o(d[0],y)),r(p,o(d[1],y)),y);return o(h,b)}}).call(d.prototype)})),ace.define("ace/css/editor.css",["require","exports","module"],(function(e,t,n){n.exports='/*\nstyles = []\nfor (var i = 1; i < 16; i++) {\n    styles.push(".ace_br" + i + "{" + (\n        ["top-left", "top-right", "bottom-right", "bottom-left"]\n    ).map(function(x, j) {\n        return i & (1<<j) ? "border-" + x + "-radius: 3px;" : "" \n    }).filter(Boolean).join(" ") + "}")\n}\nstyles.join("\\n")\n*/\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left {\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n}\n\n.ace_gutter-cell {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell.ace_error {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n    will-change: transform;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #FFF;\n    background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n}\n\n.ace_folding-enabled > .ace_gutter-cell {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}'})),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/event_emitter").EventEmitter,s=function(e,t){this.canvas=r.createElement("canvas"),this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.canvasHeight=e.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=e.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},e.element.appendChild(this.canvas)};(function(){i.implement(this,o),this.$updateDecorators=function(e){var t=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;e&&(this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height,(e.lastRow+1)*this.lineHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight);var n=this.canvas.getContext("2d");var r=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),r){var i={info:1,warning:2,error:3};r.forEach((function(e){e.priority=i[e.type]||null})),r=r.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));for(var o=this.renderer.session.$foldData,s=0;s<r.length;s++){var a=r[s].row,l=this.compensateFoldRows(a,o),c=Math.round((a-l)*this.lineHeight*this.heightRatio),u=Math.round((a-l)*this.lineHeight*this.heightRatio),h=Math.round(((a-l)*this.lineHeight+this.lineHeight)*this.heightRatio);if(h-u<this.minDecorationHeight){var d=(u+h)/2|0;d<this.halfMinDecorationHeight?d=this.halfMinDecorationHeight:d+this.halfMinDecorationHeight>this.canvasHeight&&(d=this.canvasHeight-this.halfMinDecorationHeight),u=Math.round(d-this.halfMinDecorationHeight),h=Math.round(d+this.halfMinDecorationHeight)}n.fillStyle=t[r[s].type]||null,n.fillRect(0,c,this.canvasWidth,h-u)}}var f=this.renderer.session.selection.getCursor();if(f){l=this.compensateFoldRows(f.row,o),c=Math.round((f.row-l)*this.lineHeight*this.heightRatio);n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,c,this.canvasWidth,2)}},this.compensateFoldRows=function(e,t){var n=0;if(t&&t.length>0)for(var r=0;r<t.length;r++)e>t[r].start.row&&e<t[r].end.row?n+=e-t[r].start.row:e>=t[r].end.row&&(n+=t[r].end.row-t[r].start.row);return n}}).call(s.prototype),t.Decorator=s})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./config"),s=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,u=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,d=e("./scrollbar_custom").HScrollBar,f=e("./scrollbar_custom").VScrollBar,p=e("./renderloop").RenderLoop,g=e("./layer/font_metrics").FontMetrics,m=e("./lib/event_emitter").EventEmitter,v=e("./css/editor.css"),y=e("./layer/decorators").Decorator,b=e("./lib/useragent"),w=b.isIE;i.importCssString(v,"ace_editor.css",!1);var x=function(e,t){var n=this;this.container=e||i.createElement("div"),i.addCssClass(this.container,"ace_editor"),i.HI_DPI&&i.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==o.get("useStrictCSP")&&o.set("useStrictCSP",!1),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var r=this.$textLayer=new l(this.content);this.canvas=r.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!b.isIOS,this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),i.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var o=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var o=0,s=this.$size,a={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if(r&&(e||s.height!=r)&&(s.height=r,o|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(s.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||s.width!=n)){o|=this.CHANGE_SIZE,s.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,i.setStyle(this.scrollBarH.element.style,"left",t+"px"),i.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),s.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),i.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";i.setStyle(this.scrollBarH.element.style,"right",l),i.setStyle(this.scroller.style,"right",l),i.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(s.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return s.$dirty=!n||!r,o&&this._signal("resize",a),o},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},this.setHighlightIndentGuides=function(e){this.setOption("highlightIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var r=this.layerConfig,o=n.top,s=n.left;o-=r.offset;var a=t&&t.useTextareaForIME?this.lineHeight:w?0:1;if(o<0||o>r.height-a)i.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-a;if(t)if(t.useTextareaForIME){var u=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(u)[0]}else o+=this.lineHeight+2;else o+=this.lineHeight;(s-=this.scrollLeft)>this.$size.scrollerWidth-l&&(s=this.$size.scrollerWidth-l),s+=this.gutterWidth+this.margin.left,i.setStyle(e,"height",a+"px"),i.setStyle(e,"width",l+"px"),i.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-l),Math.min(o,c))}}}else i.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},this.setMargin=function(e,t,n,r){var i=this.margin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),i.translate(this.content,-this.scrollLeft,-n.offset);var o=n.width+2*this.$padding+"px",s=n.minHeight+"px";i.setStyle(this.content.style,"width",o),i.setStyle(this.content.style,"height",s)}if(e&this.CHANGE_H_SCROLL&&(i.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var i=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength()*this.lineHeight,i=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-i-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=c;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,r-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,i+2*this.$padding-t.scrollerWidth+u.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-r+c<0||this.scrollTop>u.top),d=a!==h;d&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var f,p,g=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),y=v+m,b=this.lineHeight;v=e.screenToDocumentRow(v,0);var w=e.getFoldLine(v);w&&(v=w.start.row),f=e.documentToScreenRow(v,0),p=e.getRowLength(v)*b,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(y)*b+p,g=this.scrollTop-f*b;var x=0;return(this.layerConfig.width!=i||s)&&(x=this.CHANGE_H_SCROLL),(s||d)&&(x|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(i=this.$getLongestLine())),this.layerConfig={width:i,padding:this.$padding,firstRow:v,firstRowScreen:f,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:l,maxHeight:r,offset:g,gutterOffset:b?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(i-this.$padding),x},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1)&&!(t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),i=r.left,o=r.top,s=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(t&&l+s>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft;c>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):c+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&i-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){var n,r,i=0,o=this.STEPS,s=[];for(i=0;i<o;++i)s.push((n=i/this.STEPS,r=e,(t-e)*(Math.pow(n-1,3)+1)+r));return s},this.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(i-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(i),!1!==n&&this.animateScrolling(o,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var r=this;if(e!=n){if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length&&(e=i[0])==n)return}var o=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),r.session.setScrollTop(o.shift()),r.session.$scrollTop=n,this.$timer=setInterval((function(){if(!r.session)return clearInterval(r.$timer);o.length?(r.session.setScrollTop(o.shift()),r.session.$scrollTop=n):null!=n?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,o=i/this.characterWidth,s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:s,column:a,side:o-a>0?1:-1,offsetX:i}},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,o=i/this.characterWidth,s=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),i)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,e)?this.session.$bidiHandler.getPosLeft(r.column):Math.round(r.column*this.characterWidth)),o=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),void 0==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),i.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(e,t,n,r){var i=this.session;i.bgTokenizer.lines[n]=null;var o={type:t,value:e},s=i.getTokens(n);if(null==r)s.push(o);else for(var a=0,l=0;l<s.length;l++){var c=s[l];if(r<=(a+=c.value.length)){var u=c.value.length-(a-r),h=c.value.slice(0,u),d=c.value.slice(u);s.splice(l,1,{type:c.type,value:h},o,{type:c.type,value:d});break}}this.updateLines(n,n)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)s(e);else{var r=e||this.$options.theme.initialValue;o.loadModule(["theme",r],s)}function s(r){if(n.$themeId!=e)return t&&t();if(!r||!r.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");r.$id&&(n.$themeId=r.$id),i.importCssString(r.cssText,r.cssClass,n.container),n.theme&&i.removeCssClass(n.container,n.theme.cssClass);var o="padding"in r?r.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=r.cssClass,n.theme=r,i.addCssClass(n.container,r.cssClass),i.setCssClass(n.container,"ace_dark",r.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:r}),t&&t()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){i.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){i.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){i.importCssString(v,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""},this.$updateCustomScrollbar=function(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===e?(this.scrollBarV=new f(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})),this.$scrollDecorator=new y(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})))}}).call(x.prototype),o.defineOptions(x.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(e){1==this.$textLayer.setHighlightIndentGuides(e)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(e){this.$updateCustomScrollbar(e)},initialValue:!1},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!b.isMobile&&!b.isIE}}),t.VirtualRenderer=x})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,s=e("../config");function a(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+i.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(r){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,o),this.$createWorkerFromOldConfig=function(t,n,r,i,o){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)i=i||s.moduleUrl(n,"worker");else{var l=this.$normalizePath;i=i||l(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach((function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=a(i),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:r}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker&&this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener,!0)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype);t.UIWorkerClient=function(e,t,n){var r=null,i=!1,a=Object.create(o),c=[],u=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),r&&(i?setTimeout(h):h())}});u.setEmitSync=function(e){i=e};var h=function(){var e=c.shift();e.command?r[e.command].apply(r,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){u.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],(function(e){for(r=new e[n](a);c.length;)h()})),u},t.WorkerClient=l,t.createWorker=a})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";var r=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),s=function(e,t,n,r,i,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=r,this.$onCursorChange=function(){setTimeout((function(){s.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,i),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),i&&(this.length+=n),i&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--){var a={row:(l=this.others[s]).row,column:l.column+o};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(s=this.others.length-1;s>=0;s--){var l;a={row:(l=this.others[s]).row,column:l.column+o};this.doc.remove(new r(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,i){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),i,null,!1)};n(this.pos,this.mainClass);for(var i=this.others.length;i--;)n(this.others[i],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),t.PlaceHolder=s})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var r=e("../lib/event"),i=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,s=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&i.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||l){if(0===c){var u,h=e.editor,d=h.selection,f=h.inMultiSelectMode,p=e.getDocumentPosition(),g=d.getCursor(),m=e.inSelection()||d.isEmpty()&&o(p,g),v=e.x,y=e.y,b=h.session,w=h.renderer.pixelToScreenCoordinates(v,y),x=w;if(h.$mouseHandler.$enableJumpToDef)a&&n||l&&n?u=s?"block":"add":n&&h.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!f&&s)return}else n&&h.$blockSelectEnabled&&(u="block");if(u&&i.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!f&&m)return;if(!f){var k=d.toOrientedRange();h.addSelectionMarker(k)}var C=d.rangeList.rangeAtPoint(p);h.inVirtualSelectionMode=!0,s&&(C=null,k=d.ranges[0]||k,h.removeSelectionMarker(k)),h.once("mouseup",(function(){var e=d.toOrientedRange();C&&e.isEmpty()&&o(C.cursor,e.cursor)?d.substractPoint(e.cursor):(s?d.substractPoint(k.cursor):k&&(h.removeSelectionMarker(k),d.addRange(k)),d.addRange(e)),h.inVirtualSelectionMode=!1}))}else if("block"==u){var S;e.stop(),h.inVirtualSelectionMode=!0;var _=[],O=function(){var e=h.renderer.pixelToScreenCoordinates(v,y),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);o(x,e)&&o(t,d.lead)||(x=e,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(_),_=d.rectangularRangeBlock(x,w),h.$mouseHandler.$clickSelection&&1==_.length&&_[0].isEmpty()&&(_[0]=h.$mouseHandler.$clickSelection.clone()),_.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};f&&!l?d.toSingleRange():!f&&l&&(S=d.toOrientedRange(),h.addSelectionMarker(S)),s?w=b.documentToScreenPosition(d.lead):d.moveToPosition(p),x={row:-1,column:-1};var E=O;r.capture(h.container,(function(e){v=e.clientX,y=e.clientY}),(function(e){O(),clearInterval(T),h.removeSelectionMarkers(_),_.length||(_=[d.toOrientedRange()]),S&&(h.removeSelectionMarker(S),d.toSingleRange(S));for(var t=0;t<_.length;t++)d.addRange(_[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null}));var T=setInterval((function(){E()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var r=e("./range_list").RangeList,i=e("./range").Range,o=e("./selection").Selection,s=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),l=e("./lib/lang"),c=e("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var u=new(0,e("./search").Search);var h=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new r,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var r=e[n],o=r.start.row,s=r.end.row;if(o===s)t.push(r.clone());else{for(t.push(new i(o,r.start.column,o,this.session.getLine(o).length));++o<s;)t.push(this.getLineRange(o,!0));t.push(new i(s,0,s,r.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}this.toSingleRange();for(n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(r,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],o=e.column<t.column;if(o)var s=e.column,a=t.column,l=e.offsetX,c=t.offsetX;else s=t.column,a=e.column,l=t.offsetX,c=e.offsetX;var u,h,d,f=e.row<t.row;if(f)var p=e.row,g=t.row;else p=t.row,g=e.row;s<0&&(s=0),p<0&&(p=0),p==g&&(n=!0);for(var m=p;m<=g;m++){var v=i.fromPoints(this.session.screenToDocumentPosition(m,s,l),this.session.screenToDocumentPosition(m,a,c));if(v.isEmpty()){if(u&&(h=v.end,d=u,h.row==d.row&&h.column==d.column))break;u=v.end}v.cursor=o?v.start:v.end,r.push(v)}if(f&&r.reverse(),!n){for(var y=r.length-1;r[y].isEmpty()&&y>0;)y--;if(y>0)for(var b=0;r[b].isEmpty();)b++;for(var w=y;w>=b;w--)r[w].isEmpty()&&r.splice(w,1)}return r}}.call(o.prototype);var d=e("./editor").Editor;function f(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",s),e.commands.addCommands(c.defaultCommands),function(e){if(!e.textInput)return;var t=e.textInput.getElement(),n=!1;function r(t){n&&(e.renderer.setMouseCursor(""),n=!1)}a.addListener(t,"keydown",(function(t){var i=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&i?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&r()}),e),a.addListener(t,"keyup",r,e),a.addListener(t,"blur",r,e)}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var i=t.indexOf(r);-1!=i&&t.splice(i,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,i=n&&n.keepOrder,s=1==n||n&&n.$byLines,a=this.session,l=this.selection,c=l.rangeList,u=(i?l:c).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=l._eventRegistry;l._eventRegistry={};var d=new o(a);this.inVirtualSelectionMode=!0;for(var f=u.length;f--;){if(s)for(;f>0&&u[f].start.row==u[f-1].end.row;)f--;d.fromOrientedRange(u[f]),d.index=f,this.selection=a.selection=d;var p=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===p||(r=p),d.toOrientedRange(u[f])}d.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=h,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();(e=n.join(i)).length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,void 0==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;var o=this.multiSelect;n||o.toSingleRange(i[0]);for(var s=i.length;s--;)o.addRange(i[s],!0);return r&&o.rangeList.rangeAtPoint(r.start)&&o.addRange(r,!0),i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var s,a=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())c=a;else var l=this.session.documentToScreenPosition(r?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);r?(s=i.fromPoints(a,c)).cursor=s.start:(s=i.fromPoints(c,a)).cursor=s.end;if(s.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(s),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,i=r.length;i--;){if((a=r[i]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}}n.mergeOverlappingRanges();var s=[];for(i=r.length;i--;){var a=r[i];s.unshift(t.getTextRange(a))}e<0?s.unshift(s.pop()):s.push(s.shift());for(i=r.length;i--;){o=(a=r[i]).clone();t.replace(a,s[i]),a.start.row=o.start.row,a.start.column=o.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var r=this.session,i=r.multiSelect.toOrientedRange();if(!i.isEmpty()||((i=r.getWordRange(i.start.row,i.start.column)).cursor=-1==e?i.start:i.end,this.multiSelect.addRange(i),!n)){var o=r.getTextRange(i),s=function(e,t,n){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=-1==n,u.find(e)}(r,o,e);s&&(s.cursor=-1==e?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(i.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,o=n.filter((function(e){if(e.cursor.row==r)return!0;r=e.cursor.row}));if(n.length&&o.length!=n.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var s=0,a=1/0,c=n.map((function(t){var n=t.cursor,r=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==r&&(r=0),n.column>s&&(s=n.column),r<a&&(a=r),r}));n.forEach((function(t,n){var r=t.cursor,o=s-r.column,u=c[n]-a;o>u?e.insert(r,l.stringRepeat(" ",o-u)):e.remove(new i(r.row,r.column,r.row,r.column-o+u)),t.start.column=t.end.column=s,t.start.row=t.end.row=r.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),h=u.start.row,d=u.end.row,f=h==d;if(f){var p,g=this.session.getLength();do{p=this.session.getLine(d)}while(/[=:]/.test(p)&&++d<g);do{p=this.session.getLine(h)}while(/[=:]/.test(p)&&--h>0);h<0&&(h=0),d>=g&&(d=g-1)}var m=this.session.removeFullLines(h,d);m=this.$reAlignText(m,f),this.session.insert({row:h,column:0},m.join("\n")+"\n"),f||(u.start.column=0,u.end.column=m[m.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(e,t){var n,r,i,o=!0,s=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,r=t[2].length,i=t[3].length,t):(n+r+i!=t[1].length+t[2].length+t[3].length&&(s=!1),n!=t[1].length&&(o=!1),n>t[1].length&&(n=t[1].length),r<t[2].length&&(r=t[2].length),i>t[3].length&&(i=t[3].length),t):[e]})).map(t?c:o?s?function(e){return e[2]?a(n+r-e[2].length)+e[2]+a(i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?a(n)+e[2]+a(i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?a(n)+e[2]+a(r-e[2].length+i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=f,e("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(e){f(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",s)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",s))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\S/,o=e.getLine(t),s=o.search(i);if(-1!=s){for(var a=n||o.length,l=e.getLength(),c=t,u=t;++t<l;){var h=e.getLine(t).search(i);if(-1!=h){if(h<=s){var d=e.getTokenAt(t,0);if(!d||"string"!==d.type)break}u=t}}if(u>c){var f=e.getLine(u).length;return new r(c,a,u,f)}}},this.openingBracketBlock=function(e,t,n,i,o){var s={row:n,column:i+1},a=e.$findClosingBracket(t,s,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),r.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,n,i,o){var s={row:n,column:i},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,r.fromPoints(a,s)}}).call(i.prototype)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("./lib/dom");function i(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var r=e.data,i=r.start.row,o=r.end.row,s="add"==e.action,a=i+1;a<o;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[i]?n[o].hidden=s:n[i]=n[o]:(n[i]==n[o]&&(n[i]=void 0),n[o].hidden=s))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,r=e.end.row-n;if(0===r);else if("remove"==e.action){var i=t.splice(n+1,r);!t[n]&&i[i.length-1]&&(t[n]=i.pop()),i.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(r);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var i=this.session.lineWidgets;e.row!=n.end.row||i[n.start.row]?e.hidden=!0:i[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(n){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],r=[];n;)r.push(n),n=n.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var i=1/0,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/r.characterWidth));var a=s.h/r.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<i&&(i=s.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){for(var i=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,r.length);i>0&&!r[i];)i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=i;s<=o;s++){var a=r[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(i.prototype),t.LineWidgets=i})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";var r=e("../line_widgets").LineWidgets,i=e("../lib/dom"),o=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(e));var s=e.getCursorPosition(),a=s.row,l=n.widgetManager.getWidgetsAtRow(a).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():a-=t;var c,u=function(e,t,n){var r=e.getAnnotations().sort(o.comparePoints);if(r.length){var i=function(e,t,n){for(var r=0,i=e.length-1;r<=i;){var o=r+i>>1,s=n(t,e[o]);if(s>0)r=o+1;else{if(!(s<0))return o;i=o-1}}return-(r+1)}(r,{row:t,column:-1},o.comparePoints);i<0&&(i=-i-1),i>=r.length?i=n>0?0:r.length-1:0===i&&n<0&&(i=r.length-1);var s=r[i];if(s&&n){if(s.row===t){do{s=r[i+=n]}while(s&&s.row===t);if(!s)return r.slice()}var a=[];t=s.row;do{a[n<0?"unshift":"push"](s),s=r[i+=n]}while(s&&s.row==t);return a.length&&a}}}(n,a,t);if(u){var h=u[0];s.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,s.row=h.row,c=e.renderer.$gutterLayer.$annotations[s.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var d={row:s.row,fixedWidth:!0,coverGutter:!0,el:i.createElement("div"),type:"errorMarker"},f=d.el.appendChild(i.createElement("div")),p=d.el.appendChild(i.createElement("div"));p.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(s).left;p.style.left=g+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+c.className,f.innerHTML=c.text.join("<br>"),f.appendChild(i.createElement("div"));var m=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},i.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],(function(e,t,n){"use strict";e("./loader_build")(t);var r=e("./lib/dom"),i=e("./lib/event"),o=e("./range").Range,s=e("./editor").Editor,a=e("./edit_session").EditSession,l=e("./undomanager").UndoManager,c=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.edit=function(e,n){if("string"==typeof e){var o=e;if(!(e=document.getElementById(o)))throw new Error("ace.edit can't find div #"+o)}if(e&&e.env&&e.env.editor instanceof s)return e.env.editor;var a="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;a=l.value,e=r.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(a=e.textContent,e.innerHTML="");var u=t.createEditSession(a),h=new s(new c(e),u,n),d={document:u,editor:h,onResize:h.resize.bind(h,null)};return l&&(d.textarea=l),i.addListener(window,"resize",d.onResize),h.on("destroy",(function(){i.removeListener(window,"resize",d.onResize),d.editor.container.env=null})),h.container.env=h.env=d,h},t.createEditSession=function(e,t){var n=new a(e,t);return n.setUndoManager(new l),n},t.Range=o,t.Editor=s,t.EditSession=a,t.UndoManager=l,t.VirtualRenderer=c,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){for(var n in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(n)&&(window.ace[n]=t[n]);window.ace.default=window.ace,e&&(e.exports=window.ace)}))},27:function(e,t,n){e=n.nmd(e),ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],(function(e,t,n){"use strict";var r=e("./lib/dom"),i=e("./lib/oop"),o=e("./lib/event_emitter").EventEmitter,s=e("./lib/lang"),a=e("./range").Range,l=e("./range_list").RangeList,c=e("./keyboard/hash_handler").HashHandler,u=e("./tokenizer").Tokenizer,h=e("./clipboard"),d={CURRENT_WORD:function(e){return e.session.getTextRange(e.session.getWordRange())},SELECTION:function(e,t,n){var r=e.session.getTextRange();return n?r.replace(/\n\r?([ \t]*\S)/g,"\n"+n+"$1"):r},CURRENT_LINE:function(e){return e.session.getLine(e.getCursorPosition().row)},PREV_LINE:function(e){return e.session.getLine(e.getCursorPosition().row-1)},LINE_INDEX:function(e){return e.getCursorPosition().row},LINE_NUMBER:function(e){return e.getCursorPosition().row+1},SOFT_TABS:function(e){return e.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(e){return e.session.getTabSize()},CLIPBOARD:function(e){return h.getText&&h.getText()},FILENAME:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0]},FILENAME_BASE:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(e){return this.FILEPATH(e).replace(/[^/\\]*$/,"")},FILEPATH:function(e){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(e){var t=e.session.$mode||{};return t.blockComment&&t.blockComment.start||""},BLOCK_COMMENT_END:function(e){var t=e.session.$mode||{};return t.blockComment&&t.blockComment.end||""},LINE_COMMENT:function(e){return(e.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:f.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:f.bind(null,{year:"2-digit"}),CURRENT_MONTH:f.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:f.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:f.bind(null,{month:"short"}),CURRENT_DATE:f.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:f.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:f.bind(null,{weekday:"short"}),CURRENT_HOUR:f.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:f.bind(null,{minute:"2-digit"}),CURRENT_SECOND:f.bind(null,{second:"2-digit"})};function f(e){var t=(new Date).toLocaleString("en-us",e);return 1==t.length?"0"+t:t}d.SELECTED_TEXT=d.SELECTION;var p=function(){this.snippetMap={},this.snippetNameMap={}};(function(){i.implement(this,o),this.getTokenizer=function(){return p.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function e(e){return e=e.substr(1),/^\d+$/.test(e)?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function t(e){return"(?:[^\\\\"+e+"]|\\\\.)"}var n={regex:"/("+t("/")+"+)/",onMatch:function(e,t,n){var r=n[0];return r.fmtString=!0,r.guard=e.slice(1,-1),r.flag="",""},next:"formatString"};return p.$tokenizer=new u({start:[{regex:/\\./,onMatch:function(e,t,n){var r=e[1];return("}"==r&&n.length||-1!="`$\\".indexOf(r))&&(e=r),[e]}},{regex:/}/,onMatch:function(e,t,n){return[n.length?n.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:e},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,n,r){var i=e(t.substr(1));return r.unshift(i[0]),i},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(e,t,n){var r=e.slice(1,-1).replace(/\\[,|\\]|,/g,(function(e){return 2==e.length?e[1]:"\0"})).split("\0").map((function(e){return{value:e}}));return n[0].choices=r,[r[0]]},next:"start"},n,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(e,t,n){return n.length&&n[0].expectElse?(n[0].expectElse=!1,n[0].ifEnd={elseEnd:n[0]},[n[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(e,t,n){var r=e[1];return"}"==r&&n.length||-1!="`$\\".indexOf(r)?e=r:"n"==r?e="\n":"t"==r?e="\t":-1!="ulULE".indexOf(r)&&(e={changeCase:r,local:r>"a"}),[e]}},{regex:"/\\w*}",onMatch:function(e,t,n){var r=n.shift();return r&&(r.flag=e.slice(1,-1)),this.next=r&&r.tabstopId?"start":"",[r||e]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(e,t,n){return[{text:e.slice(1)}]}},{regex:/\${\w+/,onMatch:function(e,t,n){var r={text:e.slice(2)};return n.unshift(r),[r]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(e,t,n){var r=n.shift();return this.next=r&&r.tabstopId?"start":"",[r||e]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(e,t,n){return n[0].formatFunction=e.slice(2,-1),[n.shift()]},next:"formatString"},n,{regex:/:[\?\-+]?/,onMatch:function(e,t,n){"+"==e[1]&&(n[0].ifEnd=n[0]),"?"==e[1]&&(n[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]})},this.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map((function(e){return e.value||e}))},this.getVariableValue=function(e,t,n){if(/^\d+$/.test(t))return(this.variables.__||{})[t]||"";if(/^[A-Z]\d+$/.test(t))return(this.variables[t[0]+"__"]||{})[t.substr(1)]||"";if(t=t.replace(/^TM_/,""),!this.variables.hasOwnProperty(t))return"";var r=this.variables[t];return"function"==typeof r&&(r=this.variables[t](e,t,n)),null==r?"":r},this.variables=d,this.tmStrFormat=function(e,t,n){if(!t.fmt)return e;var r=t.flag||"",i=t.guard;i=new RegExp(i,r.replace(/[^gim]/g,""));var o="string"==typeof t.fmt?this.tokenizeTmSnippet(t.fmt,"formatString"):t.fmt,s=this,a=e.replace(i,(function(){var e=s.variables.__;s.variables.__=[].slice.call(arguments);for(var t=s.resolveVariables(o,n),r="E",i=0;i<t.length;i++){var a=t[i];if("object"==typeof a)if(t[i]="",a.changeCase&&a.local){var l=t[i+1];l&&"string"==typeof l&&("u"==a.changeCase?t[i]=l[0].toUpperCase():t[i]=l[0].toLowerCase(),t[i+1]=l.substr(1))}else a.changeCase&&(r=a.changeCase);else"U"==r?t[i]=a.toUpperCase():"L"==r&&(t[i]=a.toLowerCase())}return s.variables.__=e,t.join("")}));return a},this.tmFormatFunction=function(e,t,n){return"upcase"==t.formatFunction?e.toUpperCase():"downcase"==t.formatFunction?e.toLowerCase():e},this.resolveVariables=function(e,t){for(var n=[],r="",i=!0,o=0;o<e.length;o++){var s=e[o];if("string"!=typeof s){if(s){if(i=!1,s.fmtString){var a=e.indexOf(s,o+1);-1==a&&(a=e.length),s.fmt=e.slice(o+1,a),o=a}if(s.text){var l=this.getVariableValue(t,s.text,r)+"";s.fmtString&&(l=this.tmStrFormat(l,s,t)),s.formatFunction&&(l=this.tmFormatFunction(l,s,t)),l&&!s.ifEnd?(n.push(l),c(s)):!l&&s.ifEnd&&c(s.ifEnd)}else s.elseEnd?c(s.elseEnd):(null!=s.tabstopId||null!=s.changeCase)&&n.push(s)}}else n.push(s),"\n"==s?(i=!0,r=""):i&&(r=/^\t*/.exec(s)[0],i=/\S/.test(s))}function c(t){var n=e.indexOf(t,o+1);-1!=n&&(o=n)}return n},this.insertSnippetForSelection=function(e,t){var n=e.getCursorPosition(),r=e.session.getLine(n.row),i=e.session.getTabString(),o=r.match(/^\s*/)[0];n.column<o.length&&(o=o.slice(0,n.column)),t=t.replace(/\r/g,"");var s=this.tokenizeTmSnippet(t);s=(s=this.resolveVariables(s,e)).map((function(e){return"\n"==e?e+o:"string"==typeof e?e.replace(/\t/g,i):e}));var a=[];s.forEach((function(e,t){if("object"==typeof e){var n=e.tabstopId,r=a[n];if(r||((r=a[n]=[]).index=n,r.value="",r.parents={}),-1===r.indexOf(e)){e.choices&&!r.choices&&(r.choices=e.choices),r.push(e);var i=s.indexOf(e,t+1);if(-1!==i){var o=s.slice(t+1,i);o.some((function(e){return"object"===typeof e}))&&!r.value?r.value=o:!o.length||r.value&&"string"===typeof r.value||(r.value=o.join(""))}}}})),a.forEach((function(e){e.length=0}));var l={};function c(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if("object"==typeof r){if(l[r.tabstopId])continue;r=t[e.lastIndexOf(r,n-1)]||{tabstopId:r.tabstopId}}t[n]=r}return t}for(var u=0;u<s.length;u++){var h=s[u];if("object"==typeof h){var d=h.tabstopId,f=a[d],p=s.indexOf(h,u+1);if(l[d])l[d]===h&&(delete l[d],Object.keys(l).forEach((function(e){f.parents[e]=!0})));else{l[d]=h;var m=f.value;"string"!==typeof m?m=c(m):h.fmt&&(m=this.tmStrFormat(m,h,e)),s.splice.apply(s,[u+1,Math.max(0,p-u)].concat(m,h)),-1===f.indexOf(h)&&f.push(h)}}}var v=0,y=0,b="";s.forEach((function(e){if("string"===typeof e){var t=e.split("\n");t.length>1?(y=t[t.length-1].length,v+=t.length-1):y+=e.length,b+=e}else e&&(e.start?e.end={row:v,column:y}:e.start={row:v,column:y})}));var w=e.getSelectionRange(),x=e.session.replace(w,b),k=new g(e),C=e.inVirtualSelectionMode&&e.selection.index;k.addTabstops(a,w.start,x,C)},this.insertSnippet=function(e,t){var n=this;if(e.inVirtualSelectionMode)return n.insertSnippetForSelection(e,t);e.forEachSelection((function(){n.insertSnippetForSelection(e,t)}),null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()},this.$getScope=function(e){var t=e.session.$mode.$id||"";if("html"===(t=t.split("/").pop())||"php"===t){"php"!==t||e.session.$mode.inlinePhp||(t="html");var n=e.getCursorPosition(),r=e.session.getState(n.row);"object"===typeof r&&(r=r[0]),r.substring&&("js-"==r.substring(0,3)?t="javascript":"css-"==r.substring(0,4)?t="css":"php-"==r.substring(0,4)&&(t="php"))}return t},this.getActiveScopes=function(e){var t=this.$getScope(e),n=[t],r=this.snippetMap;return r[t]&&r[t].includeScopes&&n.push.apply(n,r[t].includeScopes),n.push("_"),n},this.expandWithTab=function(e,t){var n=this,r=e.forEachSelection((function(){return n.expandSnippetForSelection(e,t)}),null,{keepOrder:!0});return r&&e.tabstopManager&&e.tabstopManager.tabNext(),r},this.expandSnippetForSelection=function(e,t){var n,r=e.getCursorPosition(),i=e.session.getLine(r.row),o=i.substring(0,r.column),s=i.substr(r.column),a=this.snippetMap;return this.getActiveScopes(e).some((function(e){var t=a[e];return t&&(n=this.findMatchingSnippet(t,o,s)),!!n}),this),!!n&&(t&&t.dryRun||(e.session.doc.removeInLine(r.row,r.column-n.replaceBefore.length,r.column+n.replaceAfter.length),this.variables.M__=n.matchBefore,this.variables.T__=n.matchAfter,this.insertSnippetForSelection(e,n.content),this.variables.M__=this.variables.T__=null),!0)},this.findMatchingSnippet=function(e,t,n){for(var r=e.length;r--;){var i=e[r];if((!i.startRe||i.startRe.test(t))&&((!i.endRe||i.endRe.test(n))&&(i.startRe||i.endRe)))return i.matchBefore=i.startRe?i.startRe.exec(t):[""],i.matchAfter=i.endRe?i.endRe.exec(n):[""],i.replaceBefore=i.triggerRe?i.triggerRe.exec(t)[0]:"",i.replaceAfter=i.endTriggerRe?i.endTriggerRe.exec(n)[0]:"",i}},this.snippetMap={},this.snippetNameMap={},this.register=function(e,t){var n=this.snippetMap,r=this.snippetNameMap,i=this;function o(e){return e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)&&(e="(?:"+e+")"),e||""}function a(e,t,n){return e=o(e),t=o(t),n?(e=t+e)&&"$"!=e[e.length-1]&&(e+="$"):(e+=t)&&"^"!=e[0]&&(e="^"+e),new RegExp(e)}function l(e){e.scope||(e.scope=t||"_"),t=e.scope,n[t]||(n[t]=[],r[t]={});var o=r[t];if(e.name){var l=o[e.name];l&&i.unregister(l),o[e.name]=e}n[t].push(e),e.prefix&&(e.tabTrigger=e.prefix),!e.content&&e.body&&(e.content=Array.isArray(e.body)?e.body.join("\n"):e.body),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=s.escapeRegExp(e.tabTrigger)),(e.trigger||e.guard||e.endTrigger||e.endGuard)&&(e.startRe=a(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger),e.endRe=a(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger))}e||(e=[]),Array.isArray(e)?e.forEach(l):Object.keys(e).forEach((function(t){l(e[t])})),this._signal("registerSnippets",{scope:t})},this.unregister=function(e,t){var n=this.snippetMap,r=this.snippetNameMap;function i(e){var i=r[e.scope||t];if(i&&i[e.name]){delete i[e.name];var o=n[e.scope||t],s=o&&o.indexOf(e);s>=0&&o.splice(s,1)}}e.content?i(e):Array.isArray(e)&&e.forEach(i)},this.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t,n=[],r={},i=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;t=i.exec(e);){if(t[1])try{r=JSON.parse(t[1]),n.push(r)}catch(l){}if(t[4])r.content=t[4].replace(/^\t/gm,""),n.push(r),r={};else{var o=t[2],s=t[3];if("regex"==o){var a=/\/((?:[^\/\\]|\\.)*)|$/g;r.guard=a.exec(s)[1],r.trigger=a.exec(s)[1],r.endTrigger=a.exec(s)[1],r.endGuard=a.exec(s)[1]}else"snippet"==o?(r.tabTrigger=s.match(/^\S*/)[0],r.name||(r.name=s)):o&&(r[o]=s)}}return n},this.getSnippetByName=function(e,t){var n,r=this.snippetNameMap;return this.getActiveScopes(t).some((function(t){var i=r[t];return i&&(n=i[e]),!!n}),this),n}}).call(p.prototype);var g=function(e){if(e.tabstopManager)return e.tabstopManager;e.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)};(function(){this.attach=function(e){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(e){for(var t="r"==e.action[0],n=this.selectedTabstop||{},r=n.parents||{},i=(this.tabstops||[]).slice(),o=0;o<i.length;o++){var s=i[o],a=s==n||r[s.index];if(s.rangeList.$bias=a?0:1,"remove"==e.action&&s!==n){var l=s.parents&&s.parents[n.index],c=s.rangeList.pointIndex(e.start,l);c=c<0?-c-1:c+1;var u=s.rangeList.pointIndex(e.end,l);u=u<0?-u-1:u-1;for(var h=s.rangeList.ranges.slice(c,u),d=0;d<h.length;d++)this.removeRange(h[d])}s.rangeList.$onChange(e)}var f=this.editor.session;this.$inChange||!t||1!=f.getLength()||f.getValue()||this.detach()},this.updateLinkedFields=function(){var e=this.selectedTabstop;if(e&&e.hasLinkedRanges&&e.firstNonLinked){this.$inChange=!0;for(var n=this.editor.session,r=n.getTextRange(e.firstNonLinked),i=0;i<e.length;i++){var o=e[i];if(o.linked){var s=o.original,a=t.snippetManager.tmStrFormat(r,s,this.editor);n.replace(o,a)}}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,n=this.editor.selection.isEmpty(),r=0;r<this.ranges.length;r++)if(!this.ranges[r].linked){var i=this.ranges[r].contains(e.row,e.column),o=n||this.ranges[r].contains(t.row,t.column);if(i&&o)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(e){var t=this.tabstops.length,n=this.index+(e||1);(n=Math.min(Math.max(n,1),t))==t&&(n=0),this.selectTabstop(n),0===n&&this.detach()},this.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,(t=this.tabstops[this.index])&&t.length){this.selectedTabstop=t;var n=t.firstNonLinked||t;if(t.choices&&(n.cursor=n.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(n);else{var r=this.editor.multiSelect;r.toSingleRange(n);for(var i=0;i<t.length;i++)t.hasLinkedRanges&&t[i].linked||r.addRange(t[i].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(e,t,n){var r=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!e[0]){var i=a.fromPoints(n,n);v(i.start,t),v(i.end,t),e[0]=[i],e[0].index=0}var o=[this.index+1,0],s=this.ranges;e.forEach((function(e,n){for(var i=this.$openTabstops[n]||e,c=0;c<e.length;c++){var u=e[c],h=a.fromPoints(u.start,u.end||u.start);m(h.start,t),m(h.end,t),h.original=u,h.tabstop=i,s.push(h),i!=e?i.unshift(h):i[c]=h,u.fmtString||i.firstNonLinked&&r?(h.linked=!0,i.hasLinkedRanges=!0):i.firstNonLinked||(i.firstNonLinked=h)}i.firstNonLinked||(i.hasLinkedRanges=!1),i===e&&(o.push(i),this.$openTabstops[n]=i),this.addTabstopMarkers(i),i.rangeList=i.rangeList||new l,i.rangeList.$bias=0,i.rangeList.addList(i)}),this),o.length>2&&(this.tabstops.length&&o.push(o.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,o))},this.addTabstopMarkers=function(e){var t=this.editor.session;e.forEach((function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))}))},this.removeTabstopMarkers=function(e){var t=this.editor.session;e.forEach((function(e){t.removeMarker(e.markerId),e.markerId=null}))},this.removeRange=function(e){var t=e.tabstop.indexOf(e);-1!=t&&e.tabstop.splice(t,1),-1!=(t=this.ranges.indexOf(e))&&this.ranges.splice(t,1),-1!=(t=e.tabstop.rangeList.ranges.indexOf(e))&&e.tabstop.splice(t,1),this.editor.session.removeMarker(e.markerId),e.tabstop.length||(-1!=(t=this.tabstops.indexOf(e.tabstop))&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},this.keyboardHandler=new c,this.keyboardHandler.bindKeys({Tab:function(e){t.snippetManager&&t.snippetManager.expandWithTab(e)||(e.tabstopManager.tabNext(1),e.renderer.scrollCursorIntoView())},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1),e.renderer.scrollCursorIntoView()},Esc:function(e){e.tabstopManager.detach()}})}).call(g.prototype);var m=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},v=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};r.importCssString("\n.ace_snippet-marker {\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background: rgba(194, 193, 208, 0.09);\n    border: 1px dotted rgba(211, 208, 235, 0.62);\n    position: absolute;\n}","snippets.css",!1),t.snippetManager=new p;var y=e("./editor").Editor;(function(){this.insertSnippet=function(e,n){return t.snippetManager.insertSnippet(this,e,n)},this.expandSnippet=function(e){return t.snippetManager.expandWithTab(this,e)}}).call(y.prototype)})),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../virtual_renderer").VirtualRenderer,i=e("../editor").Editor,o=e("../range").Range,s=e("../lib/event"),a=e("../lib/lang"),l=e("../lib/dom"),c=function(e){var t=new r(e);t.$maxLines=4;var n=new i(t);return n.setHighlightActiveLine(!1),n.setShowPrintMargin(!1),n.renderer.setShowGutter(!1),n.renderer.setHighlightGutterLine(!1),n.$mouseHandler.$focusTimeout=0,n.$highlightTagPending=!0,n};l.importCssString("\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #CAD6FA;\n    z-index: 1;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #3a674e;\n}\n.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid #abbffe;\n    margin-top: -1px;\n    background: rgba(233,233,253,0.4);\n    position: absolute;\n    z-index: 2;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid rgba(109, 150, 13, 0.8);\n    background: rgba(58, 103, 78, 0.62);\n}\n.ace_completion-meta {\n    opacity: 0.5;\n    margin: 0.9em;\n}\n.ace_completion-message {\n    color: blue;\n}\n.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #2d69c7;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #93ca12;\n}\n.ace_editor.ace_autocomplete {\n    width: 300px;\n    z-index: 200000;\n    border: 1px lightgray solid;\n    position: fixed;\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n    line-height: 1.4;\n    background: #fefefe;\n    color: #111;\n}\n.ace_dark.ace_editor.ace_autocomplete {\n    border: 1px #484747 solid;\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\n    line-height: 1.4;\n    background: #25282c;\n    color: #c1c1c1;\n}","autocompletion.css",!1),t.AcePopup=function(e){var t=l.createElement("div"),n=new c(t);e&&e.appendChild(t),t.style.display="none",n.renderer.content.style.cursor="default",n.renderer.setStyle("ace_autocomplete"),n.setOption("displayIndentGuides",!1),n.setOption("dragDelay",150);var r,i=function(){};n.focus=i,n.$isFocused=!0,n.renderer.$cursorLayer.restartTimer=i,n.renderer.$cursorLayer.element.style.opacity=0,n.renderer.$maxLines=8,n.renderer.$keepTextAreaAtCursor=!1,n.setHighlightActiveLine(!1),n.session.highlight(""),n.session.$searchHighlight.clazz="ace_highlight-marker",n.on("mousedown",(function(e){var t=e.getDocumentPosition();n.selection.moveToPosition(t),h.start.row=h.end.row=t.row,e.stop()}));var u=new o(-1,0,-1,1/0),h=new o(-1,0,-1,1/0);h.id=n.session.addMarker(h,"ace_active-line","fullLine"),n.setSelectOnHover=function(e){e?u.id&&(n.session.removeMarker(u.id),u.id=null):u.id=n.session.addMarker(u,"ace_line-hover","fullLine")},n.setSelectOnHover(!1),n.on("mousemove",(function(e){if(r){if(r.x!=e.x||r.y!=e.y){(r=e).scrollTop=n.renderer.scrollTop;var t=r.getDocumentPosition().row;u.start.row!=t&&(u.id||n.setRow(t),f(t))}}else r=e})),n.renderer.on("beforeRender",(function(){if(r&&-1!=u.start.row){r.$pos=null;var e=r.getDocumentPosition().row;u.id||n.setRow(e),f(e,!0)}})),n.renderer.on("afterRender",(function(){var e=n.getRow(),t=n.renderer.$textLayer,r=t.element.childNodes[e-t.config.firstRow];r!==t.selectedNode&&t.selectedNode&&l.removeCssClass(t.selectedNode,"ace_selected"),t.selectedNode=r,r&&l.addCssClass(r,"ace_selected")}));var d=function(){f(-1)},f=function(e,t){e!==u.start.row&&(u.start.row=u.end.row=e,t||n.session._emit("changeBackMarker"),n._emit("changeHoverMarker"))};n.getHoveredRow=function(){return u.start.row},s.addListener(n.container,"mouseout",d),n.on("hide",d),n.on("changeSelection",d),n.session.doc.getLength=function(){return n.data.length},n.session.doc.getLine=function(e){var t=n.data[e];return"string"==typeof t?t:t&&t.value||""};var p=n.session.bgTokenizer;return p.$tokenizeRow=function(e){var t=n.data[e],r=[];if(!t)return r;"string"==typeof t&&(t={value:t});var i=t.caption||t.value||t.name;function o(e,n){e&&r.push({type:(t.className||"")+(n||""),value:e})}for(var s=i.toLowerCase(),a=(n.filterText||"").toLowerCase(),l=0,c=0,u=0;u<=a.length;u++)if(u!=c&&(t.matchMask&1<<u||u==a.length)){var h=a.slice(c,u);c=u;var d=s.indexOf(h,l);if(-1==d)continue;o(i.slice(l,d),""),l=d+h.length,o(i.slice(d,l),"completion-highlight")}return o(i.slice(l,i.length),""),t.meta&&r.push({type:"completion-meta",value:t.meta}),t.message&&r.push({type:"completion-message",value:t.message}),r},p.$updateOnChange=i,p.start=i,n.session.$computeWidth=function(){return this.screenWidth=0},n.isOpen=!1,n.isTopdown=!1,n.autoSelect=!0,n.filterText="",n.data=[],n.setData=function(e,t){n.filterText=t||"",n.setValue(a.stringRepeat("\n",e.length),-1),n.data=e||[],n.setRow(0)},n.getData=function(e){return n.data[e]},n.getRow=function(){return h.start.row},n.setRow=function(e){e=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,e)),h.start.row!=e&&(n.selection.clearSelection(),h.start.row=h.end.row=e||0,n.session._emit("changeBackMarker"),n.moveCursorTo(e||0,0),n.isOpen&&n._signal("select"))},n.on("changeSelection",(function(){n.isOpen&&n.setRow(n.selection.lead.row),n.renderer.scrollCursorIntoView()})),n.hide=function(){this.container.style.display="none",this._signal("hide"),n.isOpen=!1},n.show=function(e,t,i){var o=this.container,s=window.innerHeight,a=window.innerWidth,l=this.renderer,c=l.$maxLines*t*1.4,u=e.top+this.$borderSize;u>s/2&&!i&&u+t+c>s?(l.$maxPixelHeight=u-2*this.$borderSize,o.style.top="",o.style.bottom=s-u+"px",n.isTopdown=!1):(u+=t,l.$maxPixelHeight=s-u-.2*t,o.style.top=u+"px",o.style.bottom="",n.isTopdown=!0),o.style.display="";var h=e.left;h+o.offsetWidth>a&&(h=a-o.offsetWidth),o.style.left=h+"px",this._signal("show"),r=null,n.isOpen=!0},n.goTo=function(e){var t=this.getRow(),n=this.session.getLength()-1;switch(e){case"up":t=t<=0?n:t-1;break;case"down":t=t>=n?-1:t+1;break;case"start":t=0;break;case"end":t=n}this.setRow(t)},n.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},n.$imageSize=0,n.$borderSize=1,n},t.$singleLineEditor=c})),ace.define("ace/autocomplete/util",["require","exports","module"],(function(e,t,n){"use strict";t.parForEach=function(e,t,n){var r=0,i=e.length;0===i&&n();for(var o=0;o<i;o++)t(e[o],(function(e,t){++r===i&&n(e,t)}))};var r=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,n){n=n||r;for(var i=[],o=t-1;o>=0&&n.test(e[o]);o--)i.push(e[o]);return i.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,n){n=n||r;for(var i=[],o=t;o<e.length&&n.test(e[o]);o++)i.push(e[o]);return i},t.getCompletionPrefix=function(e){var t,n=e.getCursorPosition(),r=e.session.getLine(n.row);return e.completers.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){!t&&e&&(t=this.retrievePrecedingIdentifier(r,n.column,e))}.bind(this))}.bind(this)),t||this.retrievePrecedingIdentifier(r,n.column)}})),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],(function(e,t,n){"use strict";var r=e("./keyboard/hash_handler").HashHandler,i=e("./autocomplete/popup").AcePopup,o=e("./autocomplete/util"),s=e("./lib/lang"),a=e("./lib/dom"),l=e("./snippets").snippetManager,c=e("./config"),u=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new r,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=s.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=s.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new i(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(e,t,n){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),e.keyBinding.addKeyboardHandler(this.keyboardHandler);var r=e.renderer;if(this.popup.setRow(this.autoSelect?0:-1),n)n&&!t&&this.detach();else{this.popup.setTheme(e.getTheme()),this.popup.setFontSize(e.getFontSize());var i=r.layerConfig.lineHeight,o=r.$cursorLayer.getPixelPosition(this.base,!0);o.left-=this.popup.getTextLeftOffset();var s=e.container.getBoundingClientRect();o.top+=s.top-r.layerConfig.offset,o.left+=s.left-e.renderer.scrollLeft,o.left+=r.gutterWidth,this.popup.show(o,i)}this.changeTimer.cancel()},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(e){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(e){var t=document.activeElement,n=this.editor.textInput.getElement(),r=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),i=this.popup&&this.popup.container;t==n||t.parentNode==i||r||t==this.tooltipNode||e.relatedTarget==n||this.detach()},this.mousedownListener=function(e){this.detach()},this.mousewheelListener=function(e){this.detach()},this.goTo=function(e){this.popup.goTo(e)},this.insertMatch=function(e,t){if(e||(e=this.popup.getData(this.popup.getRow())),!e)return!1;var n=this.completions;if(this.editor.startOperation({command:{name:"insertMatch"}}),e.completer&&e.completer.insertMatch)e.completer.insertMatch(this.editor,e);else{if(!n)return!1;if(n.filterText)for(var r,i=this.editor.selection.getAllRanges(),o=0;r=i[o];o++)r.start.column-=n.filterText.length,this.editor.session.remove(r);e.snippet?l.insertSnippet(this.editor,e.snippet):this.editor.execCommand("insertstring",e.value||e)}this.completions==n&&this.detach(),this.editor.endOperation()},this.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(e){var t=e.completer.insertMatch();if(t||e.tabstopManager)return t;e.completer.goTo("down")},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},this.gatherCompletions=function(e,t){var n=e.getSession(),r=e.getCursorPosition(),i=o.getCompletionPrefix(e);this.base=n.doc.createAnchor(r.row,r.column-i.length),this.base.$insertRight=!0;var s=[],a=e.completers.length;return e.completers.forEach((function(l,c){l.getCompletions(e,n,r,i,(function(n,r){!n&&r&&(s=s.concat(r)),t(null,{prefix:o.getCompletionPrefix(e),matches:s,finished:0===--a})}))})),!0},this.showPopup=function(e,t){this.editor&&this.detach(),this.activated=!0,this.editor=e,e.completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,t)},this.updateCompletions=function(e,t){if(e&&this.base&&this.completions){var n=this.editor.getCursorPosition(),r=this.editor.session.getTextRange({start:this.base,end:n});if(r==this.completions.filterText)return;return this.completions.setFilter(r),this.completions.filtered.length?1!=this.completions.filtered.length||this.completions.filtered[0].value!=r||this.completions.filtered[0].snippet?void this.openPopup(this.editor,r,e):this.detach():this.detach()}if(t&&t.matches){n=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(n.row,n.column),this.base.$insertRight=!0,this.completions=new h(t.matches),this.openPopup(this.editor,"",e)}var i=this.gatherCompletionsId,o=function(e){if(e.finished)return this.detach()}.bind(this),s=function(t){var n=t.prefix,r=t.matches;this.completions=new h(r),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(n);var i=this.completions.filtered;return i.length&&(1!=i.length||i[0].value!=n||i[0].snippet)?this.autoInsert&&1==i.length&&t.finished?this.insertMatch(i[0]):void this.openPopup(this.editor,n,e):o(t)}.bind(this),a=!0,l=null;if(this.gatherCompletions(this.editor,function(e,t){var n=t.prefix,r=t&&t.matches;if(!r||!r.length)return o(t);0===n.indexOf(t.prefix)&&i==this.gatherCompletionsId&&(a?l=t:s(t))}.bind(this)),a=!1,l){var c=l;l=null,s(c)}},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var e=this.popup,t=e.data,n=t&&(t[e.getHoveredRow()]||t[e.getRow()]),r=null;return n&&this.editor&&this.popup.isOpen?(this.editor.completers.some((function(e){return e.getDocTooltip&&(r=e.getDocTooltip(n)),r})),r||"string"==typeof n||(r=n),"string"==typeof r&&(r={docText:r}),r&&(r.docHTML||r.docText)?void this.showDocTooltip(r):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(e){this.tooltipNode||(this.tooltipNode=a.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var t=this.tooltipNode;e.docHTML?t.innerHTML=e.docHTML:e.docText&&(t.textContent=e.docText),t.parentNode||document.body.appendChild(t);var n=this.popup,r=n.container.getBoundingClientRect();t.style.top=n.container.style.top,t.style.bottom=n.container.style.bottom,t.style.display="block",window.innerWidth-r.right<320?r.left<320?n.isTopdown?(t.style.top=r.bottom+"px",t.style.left=r.left+"px",t.style.right="",t.style.bottom=""):(t.style.top=n.container.offsetTop-t.offsetHeight+"px",t.style.left=r.left+"px",t.style.right="",t.style.bottom=""):(t.style.right=window.innerWidth-r.left+"px",t.style.left=""):(t.style.left=r.right+1+"px",t.style.right="")},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var e=this.tooltipNode;this.editor.isFocused()||document.activeElement!=e||this.editor.focus(),this.tooltipNode=null,e.parentNode&&e.parentNode.removeChild(e)}},this.onTooltipClick=function(e){for(var t=e.target;t&&t!=this.tooltipNode;){if("A"==t.nodeName&&t.href){t.rel="noreferrer",t.target="_blank";break}t=t.parentNode}},this.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var e=this.popup.container;e&&e.parentNode&&e.parentNode.removeChild(e)}this.editor&&this.editor.completer==this&&this.editor.completer,this.popup=null}}).call(u.prototype),u.for=function(e){return e.completer||(c.get("sharedPopups")?(u.$shared||(u.$sharedInstance=new u),e.completer=u.$sharedInstance):(e.completer=new u,e.once("destroy",(function(e,t){t.completer.destroy()})))),e.completer},u.startCommand={name:"startAutocomplete",exec:function(e,t){var n=u.for(e);n.autoInsert=!1,n.autoSelect=!0,n.showPopup(e,t),n.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var h=function(e,t){this.all=e,this.filtered=e,this.filterText=t||"",this.exactMatch=!1};(function(){this.setFilter=function(e){if(e.length>this.filterText&&0===e.lastIndexOf(this.filterText,0))var t=this.filtered;else t=this.all;this.filterText=e,t=(t=this.filterCompletions(t,this.filterText)).sort((function(e,t){return t.exactMatch-e.exactMatch||t.$score-e.$score||(e.caption||e.value).localeCompare(t.caption||t.value)}));var n=null;t=t.filter((function(e){var t=e.snippet||e.caption||e.value;return t!==n&&(n=t,!0)})),this.filtered=t},this.filterCompletions=function(e,t){var n=[],r=t.toUpperCase(),i=t.toLowerCase();e:for(var o,s=0;o=e[s];s++){var a=o.caption||o.value||o.snippet;if(a){var l,c,u=-1,h=0,d=0;if(this.exactMatch){if(t!==a.substr(0,t.length))continue e}else{var f=a.toLowerCase().indexOf(i);if(f>-1)d=f;else for(var p=0;p<t.length;p++){var g=a.indexOf(i[p],u+1),m=a.indexOf(r[p],u+1);if((l=g>=0&&(m<0||g<m)?g:m)<0)continue e;(c=l-u-1)>0&&(-1===u&&(d+=10),d+=c,h|=1<<p),u=l}}o.matchMask=h,o.exactMatch=d?0:1,o.$score=(o.score||0)-d,n.push(o)}}return n}}).call(h.prototype),t.Autocomplete=u,t.FilteredList=h})),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],(function(e,t,n){var r=e("../range").Range,i=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function o(e,t){var n=function(e,t){return e.getTextRange(r.fromPoints({row:0,column:0},t)).split(i).length-1}(e,t),o=e.getValue().split(i),s=Object.create(null),a=o[n];return o.forEach((function(e,t){if(e&&e!==a){var r=Math.abs(n-t),i=o.length-r;s[e]?s[e]=Math.max(i,s[e]):s[e]=i}})),s}t.getCompletions=function(e,t,n,r,i){var s=o(t,n);i(null,Object.keys(s).map((function(e){return{caption:e,value:e,score:s[e],meta:"local"}})))}})),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],(function(e,t,n){"use strict";var r=e("../snippets").snippetManager,i=e("../autocomplete").Autocomplete,o=e("../config"),s=e("../lib/lang"),a=e("../autocomplete/util"),l=e("../autocomplete/text_completer"),c={getCompletions:function(e,t,n,r,i){if(t.$mode.completer)return t.$mode.completer.getCompletions(e,t,n,r,i);var o=e.session.getState(n.row);i(null,t.$mode.getCompletions(o,t,n,r))}},u=function(e){var t={};return e.replace(/\${(\d+)(:(.*?))?}/g,(function(e,n,r,i){return t[n]=i||""})).replace(/\$(\d+?)/g,(function(e,n){return t[n]}))},h={getCompletions:function(e,t,n,i,o){var s=[],a=t.getTokenAt(n.row,n.column);a&&a.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?s.push("html-tag"):s=r.getActiveScopes(e);var l=r.snippetMap,c=[];s.forEach((function(e){for(var t=l[e]||[],n=t.length;n--;){var r=t[n],i=r.name||r.tabTrigger;i&&c.push({caption:i,snippet:r.content,meta:r.tabTrigger&&!r.name?r.tabTrigger+"\u21e5 ":"snippet",type:"snippet"})}}),this),o(null,c)},getDocTooltip:function(e){"snippet"!=e.type||e.docHTML||(e.docHTML=["<b>",s.escapeHTML(e.caption),"</b>","<hr></hr>",s.escapeHTML(u(e.snippet))].join(""))}},d=[h,l,c];t.setCompleters=function(e){d.length=0,e&&d.push.apply(d,e)},t.addCompleter=function(e){d.push(e)},t.textCompleter=l,t.keyWordCompleter=c,t.snippetCompleter=h;var f={name:"expandSnippet",exec:function(e){return r.expandWithTab(e)},bindKey:"Tab"},p=function(e,t){g(t.session.$mode)},g=function e(t){"string"==typeof t&&(t=o.$modes[t]),t&&(r.files||(r.files={}),m(t.$id,t.snippetFileId),t.modes&&t.modes.forEach(e))},m=function(e,t){t&&e&&!r.files[e]&&(r.files[e]={},o.loadModule(t,(function(t){t&&(r.files[e]=t,!t.snippets&&t.snippetText&&(t.snippets=r.parseSnippetFile(t.snippetText)),r.register(t.snippets||[],t.scope),t.includeScopes&&(r.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach((function(e){g("ace/mode/"+e)}))))})))},v=function(e){var t=e.editor,n=t.completer&&t.completer.activated;if("backspace"===e.command.name)n&&!a.getCompletionPrefix(t)&&t.completer.detach();else if("insertstring"===e.command.name){if(a.getCompletionPrefix(t)&&!n){var r=i.for(t);r.autoInsert=!1,r.showPopup(t)}}},y=e("../editor").Editor;e("../config").defineOptions(y.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:d),this.commands.addCommand(i.startCommand)):this.commands.removeCommand(i.startCommand)},value:!1},enableLiveAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:d),this.commands.on("afterExec",v)):this.commands.removeListener("afterExec",v)},value:!1},enableSnippets:{set:function(e){e?(this.commands.addCommand(f),this.on("changeMode",p),p(0,this)):(this.commands.removeCommand(f),this.off("changeMode",p))},value:!1}})})),ace.require(["ace/ext/language_tools"],(function(t){e&&(e.exports=t)}))},6866:function(e,t,n){e=n.nmd(e),ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=(e("./lib/lang"),e("./lib/event_emitter").EventEmitter),o=e("./editor").Editor,s=e("./virtual_renderer").VirtualRenderer,a=e("./edit_session").EditSession,l=function(e,t,n){this.BELOW=1,this.BESIDE=0,this.$container=e,this.$theme=t,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(n||1),this.$cEditor=this.$editors[0],this.on("focus",function(e){this.$cEditor=e}.bind(this))};(function(){r.implement(this,i),this.$createEditor=function(){var e=document.createElement("div");e.className=this.$editorCSS,e.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(e);var t=new o(new s(e,this.$theme));return t.on("focus",function(){this._emit("focus",t)}.bind(this)),this.$editors.push(t),t.setFontSize(this.$fontSize),t},this.setSplits=function(e){var t;if(e<1)throw"The number of splits have to be > 0!";if(e!=this.$splits){if(e>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<e;)t=this.$editors[this.$splits],this.$container.appendChild(t.container),t.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<e;)this.$createEditor(),this.$splits++}else for(;this.$splits>e;)t=this.$editors[this.$splits-1],this.$container.removeChild(t.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(e){return this.$editors[e]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(e){this.$editors.forEach((function(t){t.setTheme(e)}))},this.setKeyboardHandler=function(e){this.$editors.forEach((function(t){t.setKeyboardHandler(e)}))},this.forEach=function(e,t){this.$editors.forEach(e,t)},this.$fontSize="",this.setFontSize=function(e){this.$fontSize=e,this.forEach((function(t){t.setFontSize(e)}))},this.$cloneSession=function(e){var t=new a(e.getDocument(),e.getMode()),n=e.getUndoManager();return t.setUndoManager(n),t.setTabSize(e.getTabSize()),t.setUseSoftTabs(e.getUseSoftTabs()),t.setOverwrite(e.getOverwrite()),t.setBreakpoints(e.getBreakpoints()),t.setUseWrapMode(e.getUseWrapMode()),t.setUseWorker(e.getUseWorker()),t.setWrapLimitRange(e.$wrapLimitRange.min,e.$wrapLimitRange.max),t.$foldData=e.$cloneFoldData(),t},this.setSession=function(e,t){var n;n=null==t?this.$cEditor:this.$editors[t];var r=this.$editors.some((function(t){return t.session===e}));return r&&(e=this.$cloneSession(e)),n.setSession(e),e},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(e){this.$orientation!=e&&(this.$orientation=e,this.resize())},this.resize=function(){var e,t=this.$container.clientWidth,n=this.$container.clientHeight;if(this.$orientation==this.BESIDE)for(var r=t/this.$splits,i=0;i<this.$splits;i++)(e=this.$editors[i]).container.style.width=r+"px",e.container.style.top="0px",e.container.style.left=i*r+"px",e.container.style.height=n+"px",e.resize();else{var o=n/this.$splits;for(i=0;i<this.$splits;i++)(e=this.$editors[i]).container.style.width=t+"px",e.container.style.top=i*o+"px",e.container.style.left="0px",e.container.style.height=o+"px",e.resize()}}}).call(l.prototype),t.Split=l})),ace.define("ace/ext/split",["require","exports","module","ace/split"],(function(e,t,n){"use strict";n.exports=e("../split")})),ace.require(["ace/ext/split"],(function(t){e&&(e.exports=t)}))},6209:function(e,t,n){e=n.nmd(e),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,o=function e(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},e.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};r.inherits(o,i),o.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},o.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},o.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=o})),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./doc_comment_highlight_rules").DocCommentHighlightRules,o=e("./text_highlight_rules").TextHighlightRules,s="[a-zA-Z\\$_\xa1-\uffff][a-zA-Z\\d\\$_\xa1-\uffff]*",a=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[i.getStartRule("doc-start"),c("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+s+")(\\.)(prototype)(\\.)("+s+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+s+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:s},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:s},{regex:"",token:"empty",next:"no_regex"}],start:[i.getStartRule("doc-start"),c("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:s},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:n},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),e&&0==e.jsx||l.call(this)),this.embedRules(i,"doc-",[i.getEndRule("no_regex")]),this.normalizeRules()};function l(){var e=s.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var r="/"==e.charAt(1)?2:1;return 1==r?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==r&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==r?"":"end-")+"tag-open.xml",value:e.slice(0,r)},{type:"meta.tag.tag-name.xml",value:e.substr(r)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,c("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function c(e){return[{token:"comment",regex:/\/\*/,next:[i.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[i.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}r.inherits(a,o),t.JavaScriptHighlightRules=a})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../range").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var i=n[1].length,o=e.findMatchingBracket({row:t,column:i});if(!o||o.row==t)return 0;var s=this.$getIndent(e.getLine(o.row));e.replace(new r(t,0,t,i-1),s)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(s,o),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var i=this._getFoldWidgetBase(e,t,n);return!i&&this.startRegionRe.test(r)?"start":i},this.getFoldWidgetRange=function(e,t,n,r){var i,o=e.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,n);if(i=o.match(this.foldingStartMarker)){var s=i.index;if(i[1])return this.openingBracketBlock(e,i[1],n,s);var a=e.getCommentFoldRange(n,s+i[0].length,1);return a&&!a.isMultiLine()&&(r?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}if("markbegin"!==t&&(i=o.match(this.foldingStopMarker))){s=i.index+i[0].length;return i[1]?this.closingBracketBlock(e,i[1],n,s):e.getCommentFoldRange(n,s,-1)}},this.getSectionRange=function(e,t){for(var n=e.getLine(t),r=n.search(/\S/),o=t,s=n.length,a=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(r>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(r==c)break}a=t}}return new i(o,s,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),o=e.getLength(),s=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<o;){t=e.getLine(n);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(n>s)return new i(s,r,n,t.length)}}.call(s.prototype)})),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text").Mode,o=e("./javascript_highlight_rules").JavaScriptHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../worker/worker_client").WorkerClient,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new l,this.foldingRules=new c};r.inherits(u,i),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e),o=i.tokens,s=i.state;if(o.length&&"comment"==o[o.length-1].type)return r;if("start"==e||"no_regex"==e)(a=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(r+=n);else if("doc-start"==e){if("start"==s||"no_regex"==s)return"";var a;(a=t.match(/^\s*(\/?)\*/))&&(a[1]&&(r+=" "),r+="* ")}return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call(u.prototype),t.Mode=u})),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),o=t.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",s=t.supportFunction="rgb|rgba|url|attr|counter|counters",a=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|flex-end|flex-start|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",l=t.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",c=t.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",u=t.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",h=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",d=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",f=function(){var e=this.createKeywordMapper({"support.function":s,"support.constant":a,"support.type":o,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:u},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+u+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:u},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:h},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:d},{include:"url"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};r.inherits(f,i),t.CssHighlightRules=f})),ace.define("ace/mode/css_completions",["require","exports","module"],(function(e,t,n){"use strict";var r={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},i=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var e=document.createElement("c").style;for(var t in e)if("string"===typeof e[t]){var n=t.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}));r.hasOwnProperty(n)||(r[n]=1)}}this.completionsDefined=!0},this.getCompletions=function(e,t,n,r){if(this.completionsDefined||this.defineCompletions(),"ruleset"===e||"ace/mode/scss"==t.$mode.$id){var i=t.getLine(n.row).substr(0,n.column),o=/\([^)]*$/.test(i);return o&&(i=i.substr(i.lastIndexOf("(")+1)),/:[^;]+$/.test(i)?(/([\w\-]+):[^:]*$/.test(i),this.getPropertyValueCompletions(e,t,n,r)):this.getPropertyCompletions(e,t,n,r,o)}return[]},this.getPropertyCompletions=function(e,t,n,i,o){return o=o||!1,Object.keys(r).map((function(e){return{caption:e,snippet:e+": $0"+(o?"":";"),meta:"property",score:1e6}}))},this.getPropertyValueCompletions=function(e,t,n,i){var o=t.getLine(n.row).substr(0,n.column),s=(/([\w\-]+):[^:]*$/.exec(o)||{})[1];if(!s)return[];var a=[];return s in r&&"object"===typeof r[s]&&(a=Object.keys(r[s])),a.map((function(e){return{caption:e,snippet:e,meta:"property value",score:1e6}}))}}).call(i.prototype),t.CssCompletions=i})),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],(function(e,t,n){"use strict";var r=e("../../lib/oop"),i=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),o=e("../../token_iterator").TokenIterator,s=function(){this.inherit(i),this.add("colon","insertion",(function(e,t,n,r,i){if(":"===i&&n.selection.isEmpty()){var s=n.getCursorPosition(),a=new o(r,s.row,s.column),l=a.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=a.stepBackward()),l&&"support.type"===l.type){var c=r.doc.getLine(s.row);if(":"===c.substring(s.column,s.column+1))return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(c.substring(s.column)))return{text:":;",selection:[1,1]}}}})),this.add("colon","deletion",(function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&":"===s){var a=n.getCursorPosition(),l=new o(r,a.row,a.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type)if(";"===r.doc.getLine(i.start.row).substring(i.end.column,i.end.column+1))return i.end.column++,i}})),this.add("semicolon","insertion",(function(e,t,n,r,i){if(";"===i&&n.selection.isEmpty()){var o=n.getCursorPosition();if(";"===r.doc.getLine(o.row).substring(o.column,o.column+1))return{text:"",selection:[1,1]}}})),this.add("!important","insertion",(function(e,t,n,r,i){if("!"===i&&n.selection.isEmpty()){var o=n.getCursorPosition(),s=r.doc.getLine(o.row);if(/^\s*(;|}|$)/.test(s.substring(o.column)))return{text:"!important",selection:[10,10]}}}))};r.inherits(s,i),t.CssBehaviour=s})),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text").Mode,o=e("./css_highlight_rules").CssHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../worker/worker_client").WorkerClient,l=e("./css_completions").CssCompletions,c=e("./behaviour/css").CssBehaviour,u=e("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new c,this.$completer=new l,this.foldingRules=new u};r.inherits(h,i),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e).tokens;return i.length&&"comment"==i[i.length-1].type||t.match(/^.*\{\s*$/)&&(r+=n),r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.getCompletions=function(e,t,n,r){return this.$completer.getCompletions(e,t,n,r)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/css_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}.call(h.prototype),t.Mode=h})),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,o=function e(t){var n="[_:a-zA-Z\xc0-\uffff][-_:.a-zA-Z0-9\xc0-\uffff]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+n+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:n},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+n+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+n+":)?"+n+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:n},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===e&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(i.prototype),r.inherits(o,i),t.XmlHighlightRules=o})),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/lang"),o=e("./css_highlight_rules").CssHighlightRules,s=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./xml_highlight_rules").XmlHighlightRules,l=i.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),c=function e(){a.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var n=l[t];return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(n?"."+n:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(o,"css-","style"),this.embedTagRules(new s({jsx:!1}).getRules(),"js-","script"),this.constructor===e&&this.normalizeRules()};r.inherits(c,a),t.HtmlHighlightRules=c})),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator;e("../../lib/lang");function s(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}var a=function(){this.add("string_dquotes","insertion",(function(e,t,n,r,i){if('"'==i||"'"==i){var a=i,l=r.doc.getTextRange(n.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&n.getWrapBehavioursEnabled())return{text:a+l+a,selection:!1};var c=n.getCursorPosition(),u=r.doc.getLine(c.row).substring(c.column,c.column+1),h=new o(r,c.row,c.column),d=h.getCurrentToken();if(u==a&&(s(d,"attribute-value")||s(d,"string")))return{text:"",selection:[1,1]};if(d||(d=h.stepBackward()),!d)return;for(;s(d,"tag-whitespace")||s(d,"whitespace");)d=h.stepBackward();var f=!u||u.match(/\s/);if(s(d,"attribute-equals")&&(f||">"==u)||s(d,"decl-attribute-equals")&&(f||"?"==u))return{text:a+a,selection:[1,1]}}})),this.add("string_dquotes","deletion",(function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&('"'==o||"'"==o)&&r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)==o)return i.end.column++,i})),this.add("autoclosing","insertion",(function(e,t,n,r,i){if(">"==i){var a=n.getSelectionRange().start,l=new o(r,a.row,a.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(s(c,"tag-name")||s(c,"tag-whitespace")||s(c,"attribute-name")||s(c,"attribute-equals")||s(c,"attribute-value")))return;if(s(c,"reference.attribute-value"))return;if(s(c,"attribute-value")){var u=l.getCurrentTokenColumn()+c.value.length;if(a.column<u)return;if(a.column==u){var h=l.stepForward();if(h&&s(h,"attribute-value"))return;l.stepBackward()}}if(/^\s*>/.test(r.getLine(a.row).slice(a.column)))return;for(;!s(c,"tag-name");)if("<"==(c=l.stepBackward()).value){c=l.stepForward();break}var d=l.getCurrentTokenRow(),f=l.getCurrentTokenColumn();if(s(l.stepBackward(),"end-tag-open"))return;var p=c.value;if(d==a.row&&(p=p.substring(0,a.column-f)),this.voidElements.hasOwnProperty(p.toLowerCase()))return;return{text:"></"+p+">",selection:[1,1]}}})),this.add("autoindent","insertion",(function(e,t,n,r,i){if("\n"==i){var s=n.getCursorPosition(),a=r.getLine(s.row),l=new o(r,s.row,s.column),c=l.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=l.stepBackward();if(!c)return;var u=c.value,h=l.getCurrentTokenRow();if(!(c=l.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[u]){var d=r.getTokenAt(s.row,s.column+1),f=(a=r.getLine(h),this.$getIndent(a)),p=f+r.getTabString();return d&&"</"===d.value?{text:"\n"+p+"\n"+f,selection:[1,p.length,1,p.length]}:{text:"\n"+p}}}}}))};r.inherits(a,i),t.XmlBehaviour=a})),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("./fold_mode").FoldMode,o=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};r.inherits(o,i),function(){this.$getMode=function(e){for(var t in"string"!=typeof e&&(e=e[0]),this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,n,r){var i=this.$getMode(e);return i?i.getFoldWidget(t,n,r):""},this.getFoldWidget=function(e,t,n){return this.$tryMode(e.getState(n-1),e,t,n)||this.$tryMode(e.getState(n),e,t,n)||this.defaultMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n){var r=this.$getMode(e.getState(n-1));return r&&r.getFoldWidget(e,t,n)||(r=this.$getMode(e.getState(n))),r&&r.getFoldWidget(e,t,n)||(r=this.defaultMode),r.getFoldWidgetRange(e,t,n)}}.call(o.prototype)})),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],(function(e,t,n){"use strict";var r=e("../../lib/oop"),i=(e("../../lib/lang"),e("../../range").Range),o=e("./fold_mode").FoldMode,s=e("../../token_iterator").TokenIterator,a=t.FoldMode=function(e,t){o.call(this),this.voidElements=e||{},this.optionalEndTags=r.mixin({},this.voidElements),t&&r.mixin(this.optionalEndTags,t)};r.inherits(a,o);var l=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function c(e,t){return e.type.lastIndexOf(t+".xml")>-1}(function(){this.getFoldWidget=function(e,t,n){var r=this._getFirstTagInLine(e,n);return r?r.closing||!r.tagName&&r.selfClosing?"markbeginend"==t?"end":"":!r.tagName||r.selfClosing||this.voidElements.hasOwnProperty(r.tagName.toLowerCase())||this._findEndTagInLine(e,n,r.tagName,r.end.column)?"":"start":this.getCommentFoldWidget(e,n)},this.getCommentFoldWidget=function(e,t){return/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t))?"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),r=new l,i=0;i<n.length;i++){var o=n[i];if(c(o,"tag-open")){if(r.end.column=r.start.column+o.value.length,r.closing=c(o,"end-tag-open"),!(o=n[++i]))return null;for(r.tagName=o.value,r.end.column+=o.value.length,i++;i<n.length;i++)if(o=n[i],r.end.column+=o.value.length,c(o,"tag-close")){r.selfClosing="/>"==o.value;break}return r}if(c(o,"tag-close"))return r.selfClosing="/>"==o.value,r;r.start.column+=o.value.length}return null},this._findEndTagInLine=function(e,t,n,r){for(var i=e.getTokens(t),o=0,s=0;s<i.length;s++){var a=i[s];if(!((o+=a.value.length)<r)&&c(a,"end-tag-open")&&(a=i[s+1])&&a.value==n)return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new l;do{if(c(t,"tag-open"))n.closing=c(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn();else if(c(t,"tag-name"))n.tagName=t.value;else if(c(t,"tag-close"))return n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),n}while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new l;do{if(c(t,"tag-open"))return n.closing=c(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn(),e.stepBackward(),n;c(t,"tag-name")?n.tagName=t.value:c(t,"tag-close")&&(n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var n=e[e.length-1];if(t&&n.tagName!=t.tagName){if(this.optionalEndTags.hasOwnProperty(n.tagName)){e.pop();continue}return null}return e.pop()}},this.getFoldWidgetRange=function(e,t,n){var r=this._getFirstTagInLine(e,n);if(!r)return this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length);var o,a=[];if(r.closing||r.selfClosing){c=new s(e,n,r.end.column);for(var l={row:n,column:r.start.column};o=this._readTagBackward(c);){if(o.selfClosing){if(a.length)continue;return o.start.column+=o.tagName.length+2,o.end.column-=2,i.fromPoints(o.start,o.end)}if(o.closing)a.push(o);else if(this._pop(a,o),0==a.length)return o.start.column+=o.tagName.length+2,o.start.row==o.end.row&&o.start.column<o.end.column&&(o.start.column=o.end.column),i.fromPoints(o.start,l)}}else{var c=new s(e,n,r.start.column),u={row:n,column:r.start.column+r.tagName.length+2};for(r.start.row==r.end.row&&(u.column=r.end.column);o=this._readTagForward(c);){if(o.selfClosing){if(a.length)continue;return o.start.column+=o.tagName.length+2,o.end.column-=2,i.fromPoints(o.start,o.end)}if(o.closing){if(this._pop(a,o),0==a.length)return i.fromPoints(u,o.start)}else a.push(o)}}}}).call(a.prototype)})),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("./mixed").FoldMode,o=e("./xml").FoldMode,s=e("./cstyle").FoldMode,a=t.FoldMode=function(e,t){i.call(this,new o(e,t),{"js-":new s,"css-":new s})};r.inherits(a,i)})),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],(function(e,t,n){"use strict";var r=e("../token_iterator").TokenIterator,i=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"].concat(["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"]),o={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},s=Object.keys(o);function a(e,t){return e.type.lastIndexOf(t+".xml")>-1}function l(e,t){for(var n=new r(e,t.row,t.column),i=n.getCurrentToken();i&&!a(i,"tag-name");)i=n.stepBackward();if(i)return i.value}var c=function(){};(function(){this.getCompletions=function(e,t,n,r){var i=t.getTokenAt(n.row,n.column);if(!i)return[];if(a(i,"tag-name")||a(i,"tag-open")||a(i,"end-tag-open"))return this.getTagCompletions(e,t,n,r);if(a(i,"tag-whitespace")||a(i,"attribute-name"))return this.getAttributeCompletions(e,t,n,r);if(a(i,"attribute-value"))return this.getAttributeValueCompletions(e,t,n,r);var o=t.getLine(n.row).substr(0,n.column);return/&[a-z]*$/i.test(o)?this.getHTMLEntityCompletions(e,t,n,r):[]},this.getTagCompletions=function(e,t,n,r){return s.map((function(e){return{value:e,meta:"tag",score:1e6}}))},this.getAttributeCompletions=function(e,t,n,r){var s=l(t,n);if(!s)return[];var a=i;return s in o&&(a=a.concat(Object.keys(o[s]))),a.map((function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:1e6}}))},this.getAttributeValueCompletions=function(e,t,n,i){var s=l(t,n),c=function(e,t){for(var n=new r(e,t.row,t.column),i=n.getCurrentToken();i&&!a(i,"attribute-name");)i=n.stepBackward();if(i)return i.value}(t,n);if(!s)return[];var u=[];return s in o&&c in o[s]&&"object"===typeof o[s][c]&&(u=Object.keys(o[s][c])),u.map((function(e){return{caption:e,snippet:e,meta:"attribute value",score:1e6}}))},this.getHTMLEntityCompletions=function(e,t,n,r){return["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"].map((function(e){return{caption:e,snippet:e,meta:"html entity",score:1e6}}))}}).call(c.prototype),t.HtmlCompletions=c})),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/lang"),o=e("./text").Mode,s=e("./javascript").Mode,a=e("./css").Mode,l=e("./html_highlight_rules").HtmlHighlightRules,c=e("./behaviour/xml").XmlBehaviour,u=e("./folding/html").FoldMode,h=e("./html_completions").HtmlCompletions,d=e("../worker/worker_client").WorkerClient,f=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],p=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],g=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=l,this.$behaviour=new c,this.$completer=new h,this.createModeDelegates({"js-":s,"css-":a}),this.foldingRules=new u(this.voidElements,i.arrayToMap(p))};r.inherits(g,o),function(){this.blockComment={start:"\x3c!--",end:"--\x3e"},this.voidElements=i.arrayToMap(f),this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.getCompletions=function(e,t,n,r){return this.$completer.getCompletions(e,t,n,r)},this.createWorker=function(e){if(this.constructor==g){var t=new d(["ace"],"ace/mode/html_worker","Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t}},this.$id="ace/mode/html",this.snippetFileId="ace/snippets/html"}.call(g.prototype),t.Mode=g})),ace.require(["ace/mode/html"],(function(t){e&&(e.exports=t)}))},1941:function(e,t,n){e=n.nmd(e),ace.define("ace/theme/monokai.css",["require","exports","module"],(function(e,t,n){n.exports='.ace-monokai .ace_gutter {\n  background: #2F3129;\n  color: #8F908A\n}\n\n.ace-monokai .ace_print-margin {\n  width: 1px;\n  background: #555651\n}\n\n.ace-monokai {\n  background-color: #272822;\n  color: #F8F8F2\n}\n\n.ace-monokai .ace_cursor {\n  color: #F8F8F0\n}\n\n.ace-monokai .ace_marker-layer .ace_selection {\n  background: #49483E\n}\n\n.ace-monokai.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px #272822;\n}\n\n.ace-monokai .ace_marker-layer .ace_step {\n  background: rgb(102, 82, 0)\n}\n\n.ace-monokai .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid #49483E\n}\n\n.ace-monokai .ace_marker-layer .ace_active-line {\n  background: #202020\n}\n\n.ace-monokai .ace_gutter-active-line {\n  background-color: #272727\n}\n\n.ace-monokai .ace_marker-layer .ace_selected-word {\n  border: 1px solid #49483E\n}\n\n.ace-monokai .ace_invisible {\n  color: #52524d\n}\n\n.ace-monokai .ace_entity.ace_name.ace_tag,\n.ace-monokai .ace_keyword,\n.ace-monokai .ace_meta.ace_tag,\n.ace-monokai .ace_storage {\n  color: #F92672\n}\n\n.ace-monokai .ace_punctuation,\n.ace-monokai .ace_punctuation.ace_tag {\n  color: #fff\n}\n\n.ace-monokai .ace_constant.ace_character,\n.ace-monokai .ace_constant.ace_language,\n.ace-monokai .ace_constant.ace_numeric,\n.ace-monokai .ace_constant.ace_other {\n  color: #AE81FF\n}\n\n.ace-monokai .ace_invalid {\n  color: #F8F8F0;\n  background-color: #F92672\n}\n\n.ace-monokai .ace_invalid.ace_deprecated {\n  color: #F8F8F0;\n  background-color: #AE81FF\n}\n\n.ace-monokai .ace_support.ace_constant,\n.ace-monokai .ace_support.ace_function {\n  color: #66D9EF\n}\n\n.ace-monokai .ace_fold {\n  background-color: #A6E22E;\n  border-color: #F8F8F2\n}\n\n.ace-monokai .ace_storage.ace_type,\n.ace-monokai .ace_support.ace_class,\n.ace-monokai .ace_support.ace_type {\n  font-style: italic;\n  color: #66D9EF\n}\n\n.ace-monokai .ace_entity.ace_name.ace_function,\n.ace-monokai .ace_entity.ace_other,\n.ace-monokai .ace_entity.ace_other.ace_attribute-name,\n.ace-monokai .ace_variable {\n  color: #A6E22E\n}\n\n.ace-monokai .ace_variable.ace_parameter {\n  font-style: italic;\n  color: #FD971F\n}\n\n.ace-monokai .ace_string {\n  color: #E6DB74\n}\n\n.ace-monokai .ace_comment {\n  color: #75715E\n}\n\n.ace-monokai .ace_indent-guide {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y\n}\n\n.ace-monokai .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/monokai",["require","exports","module","ace/theme/monokai.css","ace/lib/dom"],(function(e,t,n){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=e("./monokai.css"),e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.require(["ace/theme/monokai"],(function(t){e&&(e.exports=t)}))},3484:function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1;t.Diff=function(e,t){return[e,t]},t.prototype.diff_main=function(e,n,r,i){"undefined"==typeof i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=i;if(null==e||null==n)throw new Error("Null input. (diff_main)");if(e==n)return e?[new t.Diff(0,e)]:[];"undefined"==typeof r&&(r=!0);var s=r,a=this.diff_commonPrefix(e,n),l=e.substring(0,a);e=e.substring(a),n=n.substring(a),a=this.diff_commonSuffix(e,n);var c=e.substring(e.length-a);e=e.substring(0,e.length-a),n=n.substring(0,n.length-a);var u=this.diff_compute_(e,n,s,o);return l&&u.unshift(new t.Diff(0,l)),c&&u.push(new t.Diff(0,c)),this.diff_cleanupMerge(u),u},t.prototype.diff_compute_=function(e,r,i,o){var s;if(!e)return[new t.Diff(1,r)];if(!r)return[new t.Diff(n,e)];var a=e.length>r.length?e:r,l=e.length>r.length?r:e,c=a.indexOf(l);if(-1!=c)return s=[new t.Diff(1,a.substring(0,c)),new t.Diff(0,l),new t.Diff(1,a.substring(c+l.length))],e.length>r.length&&(s[0][0]=s[2][0]=n),s;if(1==l.length)return[new t.Diff(n,e),new t.Diff(1,r)];var u=this.diff_halfMatch_(e,r);if(u){var h=u[0],d=u[1],f=u[2],p=u[3],g=u[4],m=this.diff_main(h,f,i,o),v=this.diff_main(d,p,i,o);return m.concat([new t.Diff(0,g)],v)}return i&&e.length>100&&r.length>100?this.diff_lineMode_(e,r,o):this.diff_bisect_(e,r,o)},t.prototype.diff_lineMode_=function(e,r,i){var o=this.diff_linesToChars_(e,r);e=o.chars1,r=o.chars2;var s=o.lineArray,a=this.diff_main(e,r,!1,i);this.diff_charsToLines_(a,s),this.diff_cleanupSemantic(a),a.push(new t.Diff(0,""));for(var l=0,c=0,u=0,h="",d="";l<a.length;){switch(a[l][0]){case 1:u++,d+=a[l][1];break;case n:c++,h+=a[l][1];break;case 0:if(c>=1&&u>=1){a.splice(l-c-u,c+u),l=l-c-u;for(var f=this.diff_main(h,d,!1,i),p=f.length-1;p>=0;p--)a.splice(l,0,f[p]);l+=f.length}u=0,c=0,h="",d=""}l++}return a.pop(),a},t.prototype.diff_bisect_=function(e,r,i){for(var o=e.length,s=r.length,a=Math.ceil((o+s)/2),l=a,c=2*a,u=new Array(c),h=new Array(c),d=0;d<c;d++)u[d]=-1,h[d]=-1;u[l+1]=0,h[l+1]=0;for(var f=o-s,p=f%2!=0,g=0,m=0,v=0,y=0,b=0;b<a&&!((new Date).getTime()>i);b++){for(var w=-b+g;w<=b-m;w+=2){for(var x=l+w,k=(E=w==-b||w!=b&&u[x-1]<u[x+1]?u[x+1]:u[x-1]+1)-w;E<o&&k<s&&e.charAt(E)==r.charAt(k);)E++,k++;if(u[x]=E,E>o)m+=2;else if(k>s)g+=2;else if(p){if((_=l+f-w)>=0&&_<c&&-1!=h[_])if(E>=(S=o-h[_]))return this.diff_bisectSplit_(e,r,E,k,i)}}for(var C=-b+v;C<=b-y;C+=2){for(var S,_=l+C,O=(S=C==-b||C!=b&&h[_-1]<h[_+1]?h[_+1]:h[_-1]+1)-C;S<o&&O<s&&e.charAt(o-S-1)==r.charAt(s-O-1);)S++,O++;if(h[_]=S,S>o)y+=2;else if(O>s)v+=2;else if(!p){if((x=l+f-C)>=0&&x<c&&-1!=u[x]){var E;k=l+(E=u[x])-x;if(E>=(S=o-S))return this.diff_bisectSplit_(e,r,E,k,i)}}}}return[new t.Diff(n,e),new t.Diff(1,r)]},t.prototype.diff_bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),l=t.substring(r),c=this.diff_main(o,s,!1,i),u=this.diff_main(a,l,!1,i);return c.concat(u)},t.prototype.diff_linesToChars_=function(e,t){var n=[],r={};function i(e){for(var t="",i=0,s=-1,a=n.length;s<e.length-1;){-1==(s=e.indexOf("\n",i))&&(s=e.length-1);var l=e.substring(i,s+1);(r.hasOwnProperty?r.hasOwnProperty(l):void 0!==r[l])?t+=String.fromCharCode(r[l]):(a==o&&(l=e.substring(i),s=e.length),t+=String.fromCharCode(a),r[l]=a,n[a++]=l),i=s+1}return t}n[0]="";var o=4e4,s=i(e);return o=65535,{chars1:s,chars2:i(t),lineArray:n}},t.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,s=1;;){var a=e.substring(i-s),l=t.indexOf(a);if(-1==l)return o;s+=l,0!=l&&e.substring(i-s)!=t.substring(0,s)||(o=s,s++)}},t.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var i=this;function o(e,t,n){for(var r,o,s,a,l=e.substring(n,n+Math.floor(e.length/4)),c=-1,u="";-1!=(c=t.indexOf(l,c+1));){var h=i.diff_commonPrefix(e.substring(n),t.substring(c)),d=i.diff_commonSuffix(e.substring(0,n),t.substring(0,c));u.length<d+h&&(u=t.substring(c-d,c)+t.substring(c,c+h),r=e.substring(0,n-d),o=e.substring(n+h),s=t.substring(0,c-d),a=t.substring(c+h))}return 2*u.length>=e.length?[r,o,s,a,u]:null}var s,a,l,c,u,h=o(n,r,Math.ceil(n.length/4)),d=o(n,r,Math.ceil(n.length/2));return h||d?(s=d?h&&h[4].length>d[4].length?h:d:h,e.length>t.length?(a=s[0],l=s[1],c=s[2],u=s[3]):(c=s[0],u=s[1],a=s[2],l=s[3]),[a,l,c,u,s[4]]):null},t.prototype.diff_cleanupSemantic=function(e){for(var r=!1,i=[],o=0,s=null,a=0,l=0,c=0,u=0,h=0;a<e.length;)0==e[a][0]?(i[o++]=a,l=u,c=h,u=0,h=0,s=e[a][1]):(1==e[a][0]?u+=e[a][1].length:h+=e[a][1].length,s&&s.length<=Math.max(l,c)&&s.length<=Math.max(u,h)&&(e.splice(i[o-1],0,new t.Diff(n,s)),e[i[o-1]+1][0]=1,o--,a=--o>0?i[o-1]:-1,l=0,c=0,u=0,h=0,s=null,r=!0)),a++;for(r&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),a=1;a<e.length;){if(e[a-1][0]==n&&1==e[a][0]){var d=e[a-1][1],f=e[a][1],p=this.diff_commonOverlap_(d,f),g=this.diff_commonOverlap_(f,d);p>=g?(p>=d.length/2||p>=f.length/2)&&(e.splice(a,0,new t.Diff(0,f.substring(0,p))),e[a-1][1]=d.substring(0,d.length-p),e[a+1][1]=f.substring(p),a++):(g>=d.length/2||g>=f.length/2)&&(e.splice(a,0,new t.Diff(0,d.substring(0,g))),e[a-1][0]=1,e[a-1][1]=f.substring(0,f.length-g),e[a+1][0]=n,e[a+1][1]=d.substring(g),a++),a++}a++}},t.prototype.diff_cleanupSemanticLossless=function(e){function n(e,n){if(!e||!n)return 6;var r=e.charAt(e.length-1),i=n.charAt(0),o=r.match(t.nonAlphaNumericRegex_),s=i.match(t.nonAlphaNumericRegex_),a=o&&r.match(t.whitespaceRegex_),l=s&&i.match(t.whitespaceRegex_),c=a&&r.match(t.linebreakRegex_),u=l&&i.match(t.linebreakRegex_),h=c&&e.match(t.blanklineEndRegex_),d=u&&n.match(t.blanklineStartRegex_);return h||d?5:c||u?4:o&&!a&&l?3:a||l?2:o||s?1:0}for(var r=1;r<e.length-1;){if(0==e[r-1][0]&&0==e[r+1][0]){var i=e[r-1][1],o=e[r][1],s=e[r+1][1],a=this.diff_commonSuffix(i,o);if(a){var l=o.substring(o.length-a);i=i.substring(0,i.length-a),o=l+o.substring(0,o.length-a),s=l+s}for(var c=i,u=o,h=s,d=n(i,o)+n(o,s);o.charAt(0)===s.charAt(0);){i+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var f=n(i,o)+n(o,s);f>=d&&(d=f,c=i,u=o,h=s)}e[r-1][1]!=c&&(c?e[r-1][1]=c:(e.splice(r-1,1),r--),e[r][1]=u,h?e[r+1][1]=h:(e.splice(r+1,1),r--))}r++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var r=!1,i=[],o=0,s=null,a=0,l=!1,c=!1,u=!1,h=!1;a<e.length;)0==e[a][0]?(e[a][1].length<this.Diff_EditCost&&(u||h)?(i[o++]=a,l=u,c=h,s=e[a][1]):(o=0,s=null),u=h=!1):(e[a][0]==n?h=!0:u=!0,s&&(l&&c&&u&&h||s.length<this.Diff_EditCost/2&&l+c+u+h==3)&&(e.splice(i[o-1],0,new t.Diff(n,s)),e[i[o-1]+1][0]=1,o--,s=null,l&&c?(u=h=!0,o=0):(a=--o>0?i[o-1]:-1,u=h=!1),r=!0)),a++;r&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push(new t.Diff(0,""));for(var r,i=0,o=0,s=0,a="",l="";i<e.length;)switch(e[i][0]){case 1:s++,l+=e[i][1],i++;break;case n:o++,a+=e[i][1],i++;break;case 0:o+s>1?(0!==o&&0!==s&&(0!==(r=this.diff_commonPrefix(l,a))&&(i-o-s>0&&0==e[i-o-s-1][0]?e[i-o-s-1][1]+=l.substring(0,r):(e.splice(0,0,new t.Diff(0,l.substring(0,r))),i++),l=l.substring(r),a=a.substring(r)),0!==(r=this.diff_commonSuffix(l,a))&&(e[i][1]=l.substring(l.length-r)+e[i][1],l=l.substring(0,l.length-r),a=a.substring(0,a.length-r))),i-=o+s,e.splice(i,o+s),a.length&&(e.splice(i,0,new t.Diff(n,a)),i++),l.length&&(e.splice(i,0,new t.Diff(1,l)),i++),i++):0!==i&&0==e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,s=0,o=0,a="",l=""}""===e[e.length-1][1]&&e.pop();var c=!1;for(i=1;i<e.length-1;)0==e[i-1][0]&&0==e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),c=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),c=!0)),i++;c&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var r,i=0,o=0,s=0,a=0;for(r=0;r<e.length&&(1!==e[r][0]&&(i+=e[r][1].length),e[r][0]!==n&&(o+=e[r][1].length),!(i>t));r++)s=i,a=o;return e.length!=r&&e[r][0]===n?a:a+(t-s)},t.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,i=/</g,o=/>/g,s=/\n/g,a=0;a<e.length;a++){var l=e[a][0],c=e[a][1].replace(r,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(s,"&para;<br>");switch(l){case 1:t[a]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case n:t[a]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:t[a]="<span>"+c+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==n&&(t[r]=e[r][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,r=0,i=0,o=0;o<e.length;o++){var s=e[o][0],a=e[o][1];switch(s){case 1:r+=a.length;break;case n:i+=a.length;break;case 0:t+=Math.max(r,i),r=0,i=0}}return t+=Math.max(r,i)},t.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case 1:t[r]="+"+encodeURI(e[r][1]);break;case n:t[r]="-"+e[r][1].length;break;case 0:t[r]="="+e[r][1].length}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,r){for(var i=[],o=0,s=0,a=r.split(/\t/g),l=0;l<a.length;l++){var c=a[l].substring(1);switch(a[l].charAt(0)){case"+":try{i[o++]=new t.Diff(1,decodeURI(c))}catch(d){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var u=parseInt(c,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+c);var h=e.substring(s,s+=u);"="==a[l].charAt(0)?i[o++]=new t.Diff(0,h):i[o++]=new t.Diff(n,h);break;default:if(a[l])throw new Error("Invalid diff operation in diff_fromDelta: "+a[l])}}if(s!=e.length)throw new Error("Delta length ("+s+") does not equal source text length ("+e.length+").");return i},t.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},t.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),i=this;function o(e,r){var o=e/t.length,s=Math.abs(n-r);return i.Match_Distance?o+s/i.Match_Distance:s?1:o}var s=this.Match_Threshold,a=e.indexOf(t,n);-1!=a&&(s=Math.min(o(0,a),s),-1!=(a=e.lastIndexOf(t,n+t.length))&&(s=Math.min(o(0,a),s)));var l,c,u=1<<t.length-1;a=-1;for(var h,d=t.length+e.length,f=0;f<t.length;f++){for(l=0,c=d;l<c;)o(f,n+c)<=s?l=c:d=c,c=Math.floor((d-l)/2+l);d=c;var p=Math.max(1,n-c+1),g=Math.min(n+c,e.length)+t.length,m=Array(g+2);m[g+1]=(1<<f)-1;for(var v=g;v>=p;v--){var y=r[e.charAt(v-1)];if(m[v]=0===f?(m[v+1]<<1|1)&y:(m[v+1]<<1|1)&y|(h[v+1]|h[v])<<1|1|h[v+1],m[v]&u){var b=o(f,v-1);if(b<=s){if(s=b,!((a=v-1)>n))break;p=Math.max(1,2*n-a)}}}if(o(f+1,n)>s)break;h=m}return a},t.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},t.prototype.patch_addContext_=function(e,n){if(0!=n.length){if(null===e.start2)throw Error("patch not initialized");for(var r=n.substring(e.start2,e.start2+e.length1),i=0;n.indexOf(r)!=n.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,r=n.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var o=n.substring(e.start2-i,e.start2);o&&e.diffs.unshift(new t.Diff(0,o));var s=n.substring(e.start2+e.length1,e.start2+e.length1+i);s&&e.diffs.push(new t.Diff(0,s)),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+s.length,e.length2+=o.length+s.length}},t.prototype.patch_make=function(e,r,i){var o,s;if("string"==typeof e&&"string"==typeof r&&"undefined"==typeof i)o=e,(s=this.diff_main(o,r,!0)).length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(e&&"object"==typeof e&&"undefined"==typeof r&&"undefined"==typeof i)s=e,o=this.diff_text1(s);else if("string"==typeof e&&r&&"object"==typeof r&&"undefined"==typeof i)o=e,s=r;else{if("string"!=typeof e||"string"!=typeof r||!i||"object"!=typeof i)throw new Error("Unknown call format to patch_make.");o=e,s=i}if(0===s.length)return[];for(var a=[],l=new t.patch_obj,c=0,u=0,h=0,d=o,f=o,p=0;p<s.length;p++){var g=s[p][0],m=s[p][1];switch(c||0===g||(l.start1=u,l.start2=h),g){case 1:l.diffs[c++]=s[p],l.length2+=m.length,f=f.substring(0,h)+m+f.substring(h);break;case n:l.length1+=m.length,l.diffs[c++]=s[p],f=f.substring(0,h)+f.substring(h+m.length);break;case 0:m.length<=2*this.Patch_Margin&&c&&s.length!=p+1?(l.diffs[c++]=s[p],l.length1+=m.length,l.length2+=m.length):m.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(l,d),a.push(l),l=new t.patch_obj,c=0,d=f,u=h)}1!==g&&(u+=m.length),g!==n&&(h+=m.length)}return c&&(this.patch_addContext_(l,d),a.push(l)),a},t.prototype.patch_deepCopy=function(e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=new t.patch_obj;o.diffs=[];for(var s=0;s<i.diffs.length;s++)o.diffs[s]=new t.Diff(i.diffs[s][0],i.diffs[s][1]);o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,n[r]=o}return n},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var i=0,o=[],s=0;s<e.length;s++){var a,l,c=e[s].start2+i,u=this.diff_text1(e[s].diffs),h=-1;if(u.length>this.Match_MaxBits?-1!=(a=this.match_main(t,u.substring(0,this.Match_MaxBits),c))&&(-1==(h=this.match_main(t,u.substring(u.length-this.Match_MaxBits),c+u.length-this.Match_MaxBits))||a>=h)&&(a=-1):a=this.match_main(t,u,c),-1==a)o[s]=!1,i-=e[s].length2-e[s].length1;else if(o[s]=!0,i=a-c,u==(l=-1==h?t.substring(a,a+u.length):t.substring(a,h+this.Match_MaxBits)))t=t.substring(0,a)+this.diff_text2(e[s].diffs)+t.substring(a+u.length);else{var d=this.diff_main(u,l,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(d)/u.length>this.Patch_DeleteThreshold)o[s]=!1;else{this.diff_cleanupSemanticLossless(d);for(var f,p=0,g=0;g<e[s].diffs.length;g++){var m=e[s].diffs[g];0!==m[0]&&(f=this.diff_xIndex(d,p)),1===m[0]?t=t.substring(0,a+f)+m[1]+t.substring(a+f):m[0]===n&&(t=t.substring(0,a+f)+t.substring(a+this.diff_xIndex(d,p+m[1].length))),m[0]!==n&&(p+=m[1].length)}}}}return[t=t.substring(r.length,t.length-r.length),o]},t.prototype.patch_addPadding=function(e){for(var n=this.Patch_Margin,r="",i=1;i<=n;i++)r+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=n,e[i].start2+=n;var o=e[0],s=o.diffs;if(0==s.length||0!=s[0][0])s.unshift(new t.Diff(0,r)),o.start1-=n,o.start2-=n,o.length1+=n,o.length2+=n;else if(n>s[0][1].length){var a=n-s[0][1].length;s[0][1]=r.substring(s[0][1].length)+s[0][1],o.start1-=a,o.start2-=a,o.length1+=a,o.length2+=a}if(0==(s=(o=e[e.length-1]).diffs).length||0!=s[s.length-1][0])s.push(new t.Diff(0,r)),o.length1+=n,o.length2+=n;else if(n>s[s.length-1][1].length){a=n-s[s.length-1][1].length;s[s.length-1][1]+=r.substring(0,a),o.length1+=a,o.length2+=a}return r},t.prototype.patch_splitMax=function(e){for(var r=this.Match_MaxBits,i=0;i<e.length;i++)if(!(e[i].length1<=r)){var o=e[i];e.splice(i--,1);for(var s=o.start1,a=o.start2,l="";0!==o.diffs.length;){var c=new t.patch_obj,u=!0;for(c.start1=s-l.length,c.start2=a-l.length,""!==l&&(c.length1=c.length2=l.length,c.diffs.push(new t.Diff(0,l)));0!==o.diffs.length&&c.length1<r-this.Patch_Margin;){var h=o.diffs[0][0],d=o.diffs[0][1];1===h?(c.length2+=d.length,a+=d.length,c.diffs.push(o.diffs.shift()),u=!1):h===n&&1==c.diffs.length&&0==c.diffs[0][0]&&d.length>2*r?(c.length1+=d.length,s+=d.length,u=!1,c.diffs.push(new t.Diff(h,d)),o.diffs.shift()):(d=d.substring(0,r-c.length1-this.Patch_Margin),c.length1+=d.length,s+=d.length,0===h?(c.length2+=d.length,a+=d.length):u=!1,c.diffs.push(new t.Diff(h,d)),d==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(d.length))}l=(l=this.diff_text2(c.diffs)).substring(l.length-this.Patch_Margin);var f=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==f&&(c.length1+=f.length,c.length2+=f.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=f:c.diffs.push(new t.Diff(0,f))),u||e.splice(++i,0,c)}}},t.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},t.prototype.patch_fromText=function(e){var r=[];if(!e)return r;for(var i=e.split("\n"),o=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<i.length;){var a=i[o].match(s);if(!a)throw new Error("Invalid patch string: "+i[o]);var l=new t.patch_obj;for(r.push(l),l.start1=parseInt(a[1],10),""===a[2]?(l.start1--,l.length1=1):"0"==a[2]?l.length1=0:(l.start1--,l.length1=parseInt(a[2],10)),l.start2=parseInt(a[3],10),""===a[4]?(l.start2--,l.length2=1):"0"==a[4]?l.length2=0:(l.start2--,l.length2=parseInt(a[4],10)),o++;o<i.length;){var c=i[o].charAt(0);try{var u=decodeURI(i[o].substring(1))}catch(h){throw new Error("Illegal escape in patch_fromText: "+u)}if("-"==c)l.diffs.push(new t.Diff(n,u));else if("+"==c)l.diffs.push(new t.Diff(1,u));else if(" "==c)l.diffs.push(new t.Diff(0,u));else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+u)}o++}}return r},(t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case 1:e="+";break;case n:e="-";break;case 0:e=" "}t[r+1]=e+encodeURI(this.diffs[r][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},8703:function(e){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function r(e,i,o){return r=n()?Reflect.construct:function(e,n,r){var i=[null];i.push.apply(i,n);var o=new(Function.bind.apply(e,i));return r&&t(o,r.prototype),o},r.apply(null,arguments)}function i(e){return o(e)||s(e)||a(e)||c()}function o(e){if(Array.isArray(e))return l(e)}function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=Object.hasOwnProperty,h=Object.setPrototypeOf,d=Object.isFrozen,f=Object.getPrototypeOf,p=Object.getOwnPropertyDescriptor,g=Object.freeze,m=Object.seal,v=Object.create,y="undefined"!==typeof Reflect&&Reflect,b=y.apply,w=y.construct;b||(b=function(e,t,n){return e.apply(t,n)}),g||(g=function(e){return e}),m||(m=function(e){return e}),w||(w=function(e,t){return r(e,i(t))});var x=L(Array.prototype.forEach),k=L(Array.prototype.pop),C=L(Array.prototype.push),S=L(String.prototype.toLowerCase),_=L(String.prototype.match),O=L(String.prototype.replace),E=L(String.prototype.indexOf),T=L(String.prototype.trim),A=L(RegExp.prototype.test),$=R(TypeError);function L(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return b(e,t,r)}}function R(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(e,n)}}function P(e,t,n){n=n||S,h&&h(e,null);for(var r=t.length;r--;){var i=t[r];if("string"===typeof i){var o=n(i);o!==i&&(d(t)||(t[r]=o),i=o)}e[i]=!0}return e}function M(e){var t,n=v(null);for(t in e)b(u,e,[t])&&(n[t]=e[t]);return n}function D(e,t){for(;null!==e;){var n=p(e,t);if(n){if(n.get)return L(n.get);if("function"===typeof n.value)return L(n.value)}e=f(e)}function r(e){return console.warn("fallback value for",e),null}return r}var j=g(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),N=g(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),I=g(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),F=g(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B=g(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),H=g(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Z=g(["#text"]),z=g(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),V=g(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),W=g(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),U=g(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),G=m(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=m(/<%[\w\W]*|[\w\W]*%>/gm),K=m(/^data-[\-\w.\u00B7-\uFFFF]/),Y=m(/^aria-[\-\w]+$/),X=m(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),J=m(/^(?:\w+script|data):/i),Q=m(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ee=m(/^html$/i),te=function(){return"undefined"===typeof window?null:window},ne=function(t,n){if("object"!==e(t)||"function"!==typeof t.createPolicy)return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(s){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function re(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te(),n=function(e){return re(e)};if(n.version="2.4.0",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=t.document,s=t.DocumentFragment,a=t.HTMLTemplateElement,l=t.Node,c=t.Element,u=t.NodeFilter,h=t.NamedNodeMap,d=void 0===h?t.NamedNodeMap||t.MozNamedAttrMap:h,f=t.HTMLFormElement,p=t.DOMParser,m=t.trustedTypes,v=c.prototype,y=D(v,"cloneNode"),b=D(v,"nextSibling"),w=D(v,"childNodes"),L=D(v,"parentNode");if("function"===typeof a){var R=o.createElement("template");R.content&&R.content.ownerDocument&&(o=R.content.ownerDocument)}var ie=ne(m,r),oe=ie?ie.createHTML(""):"",se=o,ae=se.implementation,le=se.createNodeIterator,ce=se.createDocumentFragment,ue=se.getElementsByTagName,he=r.importNode,de={};try{de=M(o).documentMode?o.documentMode:{}}catch(Et){}var fe={};n.isSupported="function"===typeof L&&ae&&"undefined"!==typeof ae.createHTMLDocument&&9!==de;var pe,ge,me=G,ve=q,ye=K,be=Y,we=J,xe=Q,ke=X,Ce=null,Se=P({},[].concat(i(j),i(N),i(I),i(B),i(Z))),_e=null,Oe=P({},[].concat(i(z),i(V),i(W),i(U))),Ee=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Te=null,Ae=null,$e=!0,Le=!0,Re=!1,Pe=!1,Me=!1,De=!1,je=!1,Ne=!1,Ie=!1,Fe=!1,Be=!0,He=!1,Ze="user-content-",ze=!0,Ve=!1,We={},Ue=null,Ge=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),qe=null,Ke=P({},["audio","video","img","source","image","track"]),Ye=null,Xe=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml",tt=et,nt=!1,rt=["application/xhtml+xml","text/html"],it="text/html",ot=null,st=o.createElement("form"),at=function(e){return e instanceof RegExp||e instanceof Function},lt=function(t){ot&&ot===t||(t&&"object"===e(t)||(t={}),t=M(t),pe=pe=-1===rt.indexOf(t.PARSER_MEDIA_TYPE)?it:t.PARSER_MEDIA_TYPE,ge="application/xhtml+xml"===pe?function(e){return e}:S,Ce="ALLOWED_TAGS"in t?P({},t.ALLOWED_TAGS,ge):Se,_e="ALLOWED_ATTR"in t?P({},t.ALLOWED_ATTR,ge):Oe,Ye="ADD_URI_SAFE_ATTR"in t?P(M(Xe),t.ADD_URI_SAFE_ATTR,ge):Xe,qe="ADD_DATA_URI_TAGS"in t?P(M(Ke),t.ADD_DATA_URI_TAGS,ge):Ke,Ue="FORBID_CONTENTS"in t?P({},t.FORBID_CONTENTS,ge):Ge,Te="FORBID_TAGS"in t?P({},t.FORBID_TAGS,ge):{},Ae="FORBID_ATTR"in t?P({},t.FORBID_ATTR,ge):{},We="USE_PROFILES"in t&&t.USE_PROFILES,$e=!1!==t.ALLOW_ARIA_ATTR,Le=!1!==t.ALLOW_DATA_ATTR,Re=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Pe=t.SAFE_FOR_TEMPLATES||!1,Me=t.WHOLE_DOCUMENT||!1,Ne=t.RETURN_DOM||!1,Ie=t.RETURN_DOM_FRAGMENT||!1,Fe=t.RETURN_TRUSTED_TYPE||!1,je=t.FORCE_BODY||!1,Be=!1!==t.SANITIZE_DOM,He=t.SANITIZE_NAMED_PROPS||!1,ze=!1!==t.KEEP_CONTENT,Ve=t.IN_PLACE||!1,ke=t.ALLOWED_URI_REGEXP||ke,tt=t.NAMESPACE||et,t.CUSTOM_ELEMENT_HANDLING&&at(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ee.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&at(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ee.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ee.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pe&&(Le=!1),Ie&&(Ne=!0),We&&(Ce=P({},i(Z)),_e=[],!0===We.html&&(P(Ce,j),P(_e,z)),!0===We.svg&&(P(Ce,N),P(_e,V),P(_e,U)),!0===We.svgFilters&&(P(Ce,I),P(_e,V),P(_e,U)),!0===We.mathMl&&(P(Ce,B),P(_e,W),P(_e,U))),t.ADD_TAGS&&(Ce===Se&&(Ce=M(Ce)),P(Ce,t.ADD_TAGS,ge)),t.ADD_ATTR&&(_e===Oe&&(_e=M(_e)),P(_e,t.ADD_ATTR,ge)),t.ADD_URI_SAFE_ATTR&&P(Ye,t.ADD_URI_SAFE_ATTR,ge),t.FORBID_CONTENTS&&(Ue===Ge&&(Ue=M(Ue)),P(Ue,t.FORBID_CONTENTS,ge)),ze&&(Ce["#text"]=!0),Me&&P(Ce,["html","head","body"]),Ce.table&&(P(Ce,["tbody"]),delete Te.tbody),g&&g(t),ot=t)},ct=P({},["mi","mo","mn","ms","mtext"]),ut=P({},["foreignobject","desc","title","annotation-xml"]),ht=P({},["title","style","font","a","script"]),dt=P({},N);P(dt,I),P(dt,F);var ft=P({},B);P(ft,H);var pt=function(e){var t=L(e);t&&t.tagName||(t={namespaceURI:et,tagName:"template"});var n=S(e.tagName),r=S(t.tagName);return e.namespaceURI===Qe?t.namespaceURI===et?"svg"===n:t.namespaceURI===Je?"svg"===n&&("annotation-xml"===r||ct[r]):Boolean(dt[n]):e.namespaceURI===Je?t.namespaceURI===et?"math"===n:t.namespaceURI===Qe?"math"===n&&ut[r]:Boolean(ft[n]):e.namespaceURI===et&&!(t.namespaceURI===Qe&&!ut[r])&&!(t.namespaceURI===Je&&!ct[r])&&!ft[n]&&(ht[n]||!dt[n])},gt=function(e){C(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(Et){try{e.outerHTML=oe}catch(Et){e.remove()}}},mt=function(e,t){try{C(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(Et){C(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!_e[e])if(Ne||Ie)try{gt(t)}catch(Et){}else try{t.setAttribute(e,"")}catch(Et){}},vt=function(e){var t,n;if(je)e="<remove></remove>"+e;else{var r=_(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===pe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=ie?ie.createHTML(e):e;if(tt===et)try{t=(new p).parseFromString(i,pe)}catch(Et){}if(!t||!t.documentElement){t=ae.createDocument(tt,"template",null);try{t.documentElement.innerHTML=nt?"":i}catch(Et){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(o.createTextNode(n),s.childNodes[0]||null),tt===et?ue.call(t,Me?"html":"body")[0]:Me?t.documentElement:s},yt=function(e){return le.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},bt=function(e){return e instanceof f&&("string"!==typeof e.nodeName||"string"!==typeof e.textContent||"function"!==typeof e.removeChild||!(e.attributes instanceof d)||"function"!==typeof e.removeAttribute||"function"!==typeof e.setAttribute||"string"!==typeof e.namespaceURI||"function"!==typeof e.insertBefore)},wt=function(t){return"object"===e(l)?t instanceof l:t&&"object"===e(t)&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName},xt=function(e,t,r){fe[e]&&x(fe[e],(function(e){e.call(n,t,r,ot)}))},kt=function(e){var t;if(xt("beforeSanitizeElements",e,null),bt(e))return gt(e),!0;if(A(/[\u0080-\uFFFF]/,e.nodeName))return gt(e),!0;var r=ge(e.nodeName);if(xt("uponSanitizeElement",e,{tagName:r,allowedTags:Ce}),e.hasChildNodes()&&!wt(e.firstElementChild)&&(!wt(e.content)||!wt(e.content.firstElementChild))&&A(/<[/\w]/g,e.innerHTML)&&A(/<[/\w]/g,e.textContent))return gt(e),!0;if("select"===r&&A(/<template/i,e.innerHTML))return gt(e),!0;if(!Ce[r]||Te[r]){if(!Te[r]&&St(r)){if(Ee.tagNameCheck instanceof RegExp&&A(Ee.tagNameCheck,r))return!1;if(Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(r))return!1}if(ze&&!Ue[r]){var i=L(e)||e.parentNode,o=w(e)||e.childNodes;if(o&&i)for(var s=o.length-1;s>=0;--s)i.insertBefore(y(o[s],!0),b(e))}return gt(e),!0}return e instanceof c&&!pt(e)?(gt(e),!0):"noscript"!==r&&"noembed"!==r||!A(/<\/no(script|embed)/i,e.innerHTML)?(Pe&&3===e.nodeType&&(t=e.textContent,t=O(t,me," "),t=O(t,ve," "),e.textContent!==t&&(C(n.removed,{element:e.cloneNode()}),e.textContent=t)),xt("afterSanitizeElements",e,null),!1):(gt(e),!0)},Ct=function(e,t,n){if(Be&&("id"===t||"name"===t)&&(n in o||n in st))return!1;if(Le&&!Ae[t]&&A(ye,t));else if($e&&A(be,t));else if(!_e[t]||Ae[t]){if(!(St(e)&&(Ee.tagNameCheck instanceof RegExp&&A(Ee.tagNameCheck,e)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(e))&&(Ee.attributeNameCheck instanceof RegExp&&A(Ee.attributeNameCheck,t)||Ee.attributeNameCheck instanceof Function&&Ee.attributeNameCheck(t))||"is"===t&&Ee.allowCustomizedBuiltInElements&&(Ee.tagNameCheck instanceof RegExp&&A(Ee.tagNameCheck,n)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(n))))return!1}else if(Ye[t]);else if(A(ke,O(n,xe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==E(n,"data:")||!qe[e])if(Re&&!A(we,O(n,xe,"")));else if(n)return!1;return!0},St=function(e){return e.indexOf("-")>0},_t=function(t){var r,i,o,s;xt("beforeSanitizeAttributes",t,null);var a=t.attributes;if(a){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_e};for(s=a.length;s--;){var c=r=a[s],u=c.name,h=c.namespaceURI;if(i="value"===u?r.value:T(r.value),o=ge(u),l.attrName=o,l.attrValue=i,l.keepAttr=!0,l.forceKeepAttr=void 0,xt("uponSanitizeAttribute",t,l),i=l.attrValue,!l.forceKeepAttr&&(mt(u,t),l.keepAttr))if(A(/\/>/i,i))mt(u,t);else{Pe&&(i=O(i,me," "),i=O(i,ve," "));var d=ge(t.nodeName);if(Ct(d,o,i)){if(!He||"id"!==o&&"name"!==o||(mt(u,t),i=Ze+i),ie&&"object"===e(m)&&"function"===typeof m.getAttributeType)if(h);else switch(m.getAttributeType(d,o)){case"TrustedHTML":i=ie.createHTML(i);break;case"TrustedScriptURL":i=ie.createScriptURL(i)}try{h?t.setAttributeNS(h,u,i):t.setAttribute(u,i),k(n.removed)}catch(Et){}}}}xt("afterSanitizeAttributes",t,null)}},Ot=function e(t){var n,r=yt(t);for(xt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)xt("uponSanitizeShadowNode",n,null),kt(n)||(n.content instanceof s&&e(n.content),_t(n));xt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(i){var o,a,c,u,h,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((nt=!i)&&(i="\x3c!--\x3e"),"string"!==typeof i&&!wt(i)){if("function"!==typeof i.toString)throw $("toString is not a function");if("string"!==typeof(i=i.toString()))throw $("dirty is not a string, aborting")}if(!n.isSupported){if("object"===e(t.toStaticHTML)||"function"===typeof t.toStaticHTML){if("string"===typeof i)return t.toStaticHTML(i);if(wt(i))return t.toStaticHTML(i.outerHTML)}return i}if(De||lt(d),n.removed=[],"string"===typeof i&&(Ve=!1),Ve){if(i.nodeName){var f=ge(i.nodeName);if(!Ce[f]||Te[f])throw $("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof l)1===(a=(o=vt("\x3c!----\x3e")).ownerDocument.importNode(i,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?o=a:o.appendChild(a);else{if(!Ne&&!Pe&&!Me&&-1===i.indexOf("<"))return ie&&Fe?ie.createHTML(i):i;if(!(o=vt(i)))return Ne?null:Fe?oe:""}o&&je&&gt(o.firstChild);for(var p=yt(Ve?i:o);c=p.nextNode();)3===c.nodeType&&c===u||kt(c)||(c.content instanceof s&&Ot(c.content),_t(c),u=c);if(u=null,Ve)return i;if(Ne){if(Ie)for(h=ce.call(o.ownerDocument);o.firstChild;)h.appendChild(o.firstChild);else h=o;return _e.shadowroot&&(h=he.call(r,h,!0)),h}var g=Me?o.outerHTML:o.innerHTML;return Me&&Ce["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&A(ee,o.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+g),Pe&&(g=O(g,me," "),g=O(g,ve," ")),ie&&Fe?ie.createHTML(g):g},n.setConfig=function(e){lt(e),De=!0},n.clearConfig=function(){ot=null,De=!1},n.isValidAttribute=function(e,t,n){ot||lt({});var r=ge(e),i=ge(t);return Ct(r,i,n)},n.addHook=function(e,t){"function"===typeof t&&(fe[e]=fe[e]||[],C(fe[e],t))},n.removeHook=function(e){if(fe[e])return k(fe[e])},n.removeHooks=function(e){fe[e]&&(fe[e]=[])},n.removeAllHooks=function(){fe={}},n}return re()}()},9442:function(e){"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window,e.exports=function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:function(){return h}});var n="gjs-open-import-webpage",r="set-device-desktop",i="set-device-tablet",o="set-device-mobile",s="canvas-clear",a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},l=function(e,t){var l=e.Commands,c=t.textCleanCanvas;l.add(n,function(e,t){var r=e.getConfig("stylePrefix"),i=e.Modal,o=document.createElement("div"),s=t.modalImportLabel,l=t.modalImportContent,c=e.CodeManager.getViewer("CodeMirror").clone(),u=c.editor,h=document.createElement("button");return h.type="button",h.innerHTML=t.modalImportButton,h.className="".concat(r,"btn-prim ").concat(r,"btn-import"),h.onclick=function(t){e.Css.clear(),e.setComponents(u.getValue().trim()),i.close()},c.set(a({codeName:"htmlmixed",theme:"hopscotch",readOnly:0},t.importViewerOptions)),{run:function(e){if(!u){var a=document.createElement("textarea");if(s){var d=document.createElement("div");d.className="".concat(r,"import-label"),d.innerHTML=s,o.appendChild(d)}o.appendChild(a),o.appendChild(h),c.init(a),u=c.editor}i.setTitle(t.modalImportTitle),i.setContent(o);var f="function"==typeof l?l(e):l;c.setContent(f||""),i.open().onceClose((function(){return e.stopCommand(n)})),u.refresh()},stop:function(){i.close()}}}(e,t)),l.add(r,{run:function(e){return e.setDevice("Desktop")},stop:function(){}}),l.add(i,{run:function(e){return e.setDevice("Tablet")},stop:function(){}}),l.add(o,{run:function(e){return e.setDevice("Mobile portrait")},stop:function(){}}),l.add(s,(function(e){return confirm(c)&&e.runCommand("core:canvas-clear")}))},c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)},h=function(e,t){void 0===t&&(t={});var a=u({blocks:["link-block","quote","text-basic"],block:function(){return{}},modalImportTitle:"Import",modalImportButton:"Import",modalImportLabel:"",modalImportContent:"",importViewerOptions:{},textCleanCanvas:"Are you sure you want to clear the canvas?",showStylesOnChange:!0,useCustomTheme:!0},t);if(a.useCustomTheme&&"undefined"!=typeof window){var h="gjs-",d="";[["one","#463a3c"],["two","#b9a5a6"],["three","#804f7b"],["four","#d97aa6"]].forEach((function(e){var t=e[0],n=e[1];d+="\n        .".concat(h).concat(t,"-bg {\n          background-color: ").concat(n,";\n        }\n\n        .").concat(h).concat(t,"-color {\n          color: ").concat(n,";\n        }\n\n        .").concat(h).concat(t,"-color-h:hover {\n          color: ").concat(n,";\n        }\n      ")}));var f=document.createElement("style");f.innerText=d,document.head.appendChild(f)}!function(e,t){var n=function(n,r){t.blocks.indexOf(n)>=0&&e.Blocks.add(n,c(c({select:!0,category:"Basic"},r),t.block(n)))};n("link-block",{label:"Link Block",media:'<svg viewBox="0 0 24 24">\n      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>\n    </svg>',content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}}),n("quote",{label:"Quote",media:'<svg viewBox="0 0 24 24">\n        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />\n    </svg>',content:'<blockquote class="quote">\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit\n      </blockquote>'}),n("text-basic",{label:"Text section",media:'<svg viewBox="0 0 24 24">\n        <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />\n    </svg>',content:'<section class="bdg-sect">\n      <h1 class="heading">Insert title here</h1>\n      <p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>\n      </section>'})}(e,a),l(e,a),function(e,t){var a=e.Panels,l=e.getConfig(),c="sw-visibility",u="export-template",h="open-sm",d="open-tm",f="open-layers",p="open-blocks",g="fullscreen",m="preview",v='style="display: block; max-width:22px"';l.showDevices=!1,a.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:r,command:r,active:!0,label:"<svg ".concat(v,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />\n        </svg>')},{id:i,command:i,label:"<svg ".concat(v,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />\n        </svg>')},{id:o,command:o,label:"<svg ".concat(v,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />\n        </svg>')}]},{id:"options",buttons:[{id:c,command:c,context:c,label:"<svg ".concat(v,' viewBox="0 0 24 24">\n        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />\n    </svg>')},{id:m,context:m,command:function(){return e.runCommand(m)},label:"<svg ".concat(v,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:g,command:g,context:g,label:"<svg ".concat(v,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />\n        </svg>')},{id:u,command:function(){return e.runCommand(u)},label:"<svg ".concat(v,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />\n        </svg>')},{id:"undo",command:function(){return e.runCommand("core:undo")},label:"<svg ".concat(v,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />\n        </svg>')},{id:"redo",command:function(){return e.runCommand("core:redo")},label:"<svg ".concat(v,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />\n        </svg>')},{id:n,command:function(){return e.runCommand(n)},label:"<svg ".concat(v,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />\n        </svg>')},{id:s,command:function(){return e.runCommand(s)},label:"<svg ".concat(v,' viewBox="0 0 24 24">\n              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />\n          </svg>')}]},{id:"views",buttons:[{id:h,command:h,active:!0,label:"<svg ".concat(v,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />\n        </svg>')},{id:d,command:d,label:"<svg ".concat(v,' viewBox="0 0 24 24">\n          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />\n      </svg>')},{id:f,command:f,label:"<svg ".concat(v,' viewBox="0 0 24 24">\n          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />\n      </svg>')},{id:p,command:p,label:"<svg ".concat(v,' viewBox="0 0 24 24">\n          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />\n      </svg>')}]}]);var y=a.getButton("views",p);e.on("load",(function(){return null==y?void 0:y.set("active",!0)})),t.showStylesOnChange&&e.on("component:selected",(function(){var t=a.getButton("views",h),n=a.getButton("views",f);n&&n.get("active")||!e.getSelected()||null==t||t.set("active",!0)}))}(e,a)};return t}()},2164:function(e,t,n){var r=n(8416).default;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window,e.exports=function(){var e={3410:function(e,t,n){var r,i,o;i=[n(9050),n(2316)],r=function(e,t){var n=Array.prototype.slice;function r(e,t,n){return n.length<=4?e.call(t,n[0],n[1],n[2],n[3]):e.apply(t,n)}function i(e,t){return n.call(e,t)}function o(t,n){return null!=t&&(e.isArray(n)||(n=i(arguments,1)),e.all(n,(function(e){return e in t})))}var s=function(){var t=!1,n=-1;function r(){n++,t=!0,e.defer((function(){t=!1}))}return function(){return t||r(),n}}();function a(){this.registeredObjects=[],this.cidIndexes=[]}function l(t,n,r,i){for(var o,s=0,a=n.length;s<a;s++)if(o=n[s]){if("on"===t){if(!i.objectRegistry.register(o))continue}else if(!i.objectRegistry.unregister(o))continue;e.isFunction(o[t])&&o[t]("all",r,i)}}function c(t,n){var r=n.type,i=n.undoTypes,o=!i[r]||i[r][t];e.isFunction(o)&&o(n.object,n.before,n.after,n.options)}function u(t,r,i,o,s){if(!(i.isCurrentlyUndoRedoing||"undo"===t&&-1===i.pointer||"redo"===t&&i.pointer===i.length-1)){i.isCurrentlyUndoRedoing=!0;var a,l,c="undo"===t;for(s?l=c&&i.pointer===i.length-1||!c&&-1===i.pointer?e.clone(i.models):n.apply(i.models,c?[0,i.pointer]:[i.pointer,i.length-1]):(a=i.at(c?i.pointer:i.pointer+1),l=o?i.where({magicFusionIndex:a.get("magicFusionIndex")}):[a]),i.pointer+=(c?-1:1)*l.length;a=c?l.pop():l.shift();)a[t]();i.isCurrentlyUndoRedoing=!1,r.trigger(t,r)}}function h(e,t){var n=e.condition,i=typeof n;return"function"===i?!!r(n,e,t):"boolean"!==i||n}function d(e,t,n,i){if(e.track&&!e.isCurrentlyUndoRedoing&&t in i&&h(i[t],n)){var a=r(i[t].on,i[t],n);if(o(a,"object","before","after")){if(a.type=t,a.magicFusionIndex=s(),a.undoTypes=i,e.pointer<e.length-1)for(var l=e.length-e.pointer-1;l--;)e.pop();e.pointer=e.length,e.add(a),e.length>e.maximumStackLength&&(e.shift(),e.pointer--)}}}a.prototype={isRegistered:function(t){return t&&t.cid?this.registeredObjects[t.cid]:e.contains(this.registeredObjects,t)},register:function(e){return!this.isRegistered(e)&&(e&&e.cid?(this.registeredObjects[e.cid]=e,this.cidIndexes.push(e.cid)):this.registeredObjects.push(e),!0)},unregister:function(t){if(this.isRegistered(t)){if(t&&t.cid)delete this.registeredObjects[t.cid],this.cidIndexes.splice(e.indexOf(this.cidIndexes,t.cid),1);else{var n=e.indexOf(this.registeredObjects,t);this.registeredObjects.splice(n,1)}return!0}return!1},get:function(){return e.map(this.cidIndexes,(function(e){return this.registeredObjects[e]}),this).concat(this.registeredObjects)}};var f={add:{undo:function(e,t,n,r){e.remove(n,r)},redo:function(e,t,n,r){r.index&&(r.at=r.index),e.add(n,r)},on:function(t,n,r){return{object:n,before:void 0,after:t,options:e.clone(r)}}},remove:{undo:function(e,t,n,r){"index"in r&&(r.at=r.index),e.add(t,r)},redo:function(e,t,n,r){e.remove(t,r)},on:function(t,n,r){return{object:n,before:t,after:void 0,options:e.clone(r)}}},change:{undo:function(t,n,r,i){e.isEmpty(n)?e.each(e.keys(r),t.unset,t):(t.set(n),i&&i.unsetData&&i.unsetData.before&&i.unsetData.before.length&&e.each(i.unsetData.before,t.unset,t))},redo:function(t,n,r,i){e.isEmpty(r)?e.each(e.keys(n),t.unset,t):(t.set(r),i&&i.unsetData&&i.unsetData.after&&i.unsetData.after.length&&e.each(i.unsetData.after,t.unset,t))},on:function(t,n){var r=t.changedAttributes(),i=e.keys(r),o=e.pick(t.previousAttributes(),i),s=e.keys(o),a=(n||(n={})).unsetData={after:[],before:[]};return i.length!=s.length&&(i.length>s.length?e.each(i,(function(e){e in o||a.before.push(e)}),this):e.each(s,(function(e){e in r||a.after.push(e)}))),{object:t,before:o,after:r,options:e.clone(n)}}},reset:{undo:function(e,t,n){e.reset(t)},redo:function(e,t,n){e.reset(n)},on:function(t,n){return{object:t,before:n.previousModels,after:e.clone(t.models)}}}};function p(){}function g(t,n,r,i){if("object"==typeof n)return e.each(n,(function(e,n){2===t?g(t,e,r,i):g(t,n,e,r)}));switch(t){case 0:o(r,"undo","redo","on")&&e.all(e.pick(r,"undo","redo","on"),e.isFunction)&&(i[n]=r);break;case 1:i[n]&&e.isObject(r)&&(i[n]=e.extend({},i[n],r));break;case 2:delete i[n]}return this}p.prototype=f;var m=t.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(e){c("undo",this.attributes)},redo:function(e){c("redo",this.attributes)}}),v=t.Collection.extend({model:m,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(e){this.maximumStackLength=e}}),y=t.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(t){this.stack=new v,this.objectRegistry=new a,this.undoTypes=new p,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",(function(e,t){this.stack.setMaxLength(t)}),this),t&&t.track&&this.startTracking(),t&&t.register&&(e.isArray(t.register)||e.isArguments(t.register)?r(this.register,this,t.register):this.register(t.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(e){d(this.stack,e,i(arguments,1),this.undoTypes)},register:function(){l("on",arguments,this._addToStack,this)},unregister:function(){l("off",arguments,this._addToStack,this)},unregisterAll:function(){r(this.unregister,this,this.objectRegistry.get())},undo:function(e){u("undo",this,this.stack,e)},undoAll:function(){u("undo",this,this.stack,!1,!0)},redo:function(e){u("redo",this,this.stack,e)},redoAll:function(){u("redo",this,this.stack,!1,!0)},isAvailable:function(e){var t=this.stack,n=t.length;switch(e){case"undo":return n>0&&t.pointer>-1;case"redo":return n>0&&t.pointer<n-1;default:return!1}},merge:function(t){for(var n,r=e.isArray(t)?t:i(arguments);n=r.pop();)n instanceof y&&n.stack instanceof v&&(n.stack=this.stack)},addUndoType:function(e,t){g(0,e,t,this.undoTypes)},changeUndoType:function(e,t){g(1,e,t,this.undoTypes)},removeUndoType:function(e){g(2,e,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return e.extend(y,{defaults:function(t){e.extend(y.prototype.defaults,t)},addUndoType:function(e,t){g(0,e,t,f)},changeUndoType:function(e,t){g(1,e,t,f)},removeUndoType:function(e){g(2,e,void 0,f)}}),t.UndoManager=y},void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)},2316:function(e,t,n){var r,i;!function(o){var s="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g;r=[n(9050),n(2579),t],i=function(e,t,n){s.Backbone=function(e,t,n,r){var i=e.Backbone,o=Array.prototype.slice;t.VERSION="1.4.1",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s,a=t.Events={},l=/\s+/,c=function e(t,r,i,o,s){var a,c=0;if(i&&"object"==typeof i){void 0!==o&&"context"in s&&void 0===s.context&&(s.context=o);for(a=n.keys(i);c<a.length;c++)r=e(t,r,a[c],i[a[c]],s)}else if(i&&l.test(i))for(a=i.split(l);c<a.length;c++)r=t(r,a[c],o,s);else r=t(r,i,o,s);return r};a.on=function(e,t,n){return this._events=c(u,this._events||{},e,t,{context:n,ctx:this,listening:s}),s&&((this._listeners||(this._listeners={}))[s.id]=s,s.interop=!1),this},a.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=s=o[i];a||(this._listenId||(this._listenId=n.uniqueId("l")),a=s=o[i]=new m(this,e));var l=h(e,t,r,this);if(s=void 0,l)throw l;return a.interop&&a.on(t,r),this};var u=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),o=r.context,s=r.ctx,a=r.listening;a&&a.count++,i.push({callback:n,context:o,ctx:o||s,listening:a})}return e},h=function(e,t,n,r){try{e.on(t,n,r)}catch(e){return e}};a.off=function(e,t,n){return this._events?(this._events=c(d,this._events,e,t,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;for(var o=e?[e._listenId]:n.keys(i),s=0;s<o.length;s++){var a=i[o[s]];if(!a)break;a.obj.off(t,r,this),a.interop&&a.off(t,r)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var d=function(e,t,r,i){if(e){var o,s=i.context,a=i.listeners,l=0;if(t||s||r){for(o=t?[t]:n.keys(e);l<o.length;l++){var c=e[t=o[l]];if(!c)break;for(var u=[],h=0;h<c.length;h++){var d=c[h];if(r&&r!==d.callback&&r!==d.callback._callback||s&&s!==d.context)u.push(d);else{var f=d.listening;f&&f.off(t,r)}}u.length?e[t]=u:delete e[t]}return e}for(o=n.keys(a);l<o.length;l++)a[o[l]].cleanup()}};a.once=function(e,t,n){var r=c(f,{},e,t,this.off.bind(this));return"string"==typeof e&&null==n&&(t=void 0),this.on(r,t,n)},a.listenToOnce=function(e,t,n){var r=c(f,{},t,n,this.stopListening.bind(this,e));return this.listenTo(e,r)};var f=function(e,t,r,i){if(r){var o=e[t]=n.once((function(){i(t,o),r.apply(this,arguments)}));o._callback=r}return e};a.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+1];return c(p,this._events,e,void 0,n),this};var p=function(e,t,n,r){if(e){var i=e[t],o=e.all;i&&o&&(o=o.slice()),i&&g(i,r),o&&g(o,[t].concat(r))}return e},g=function(e,t){var n,r=-1,i=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}},m=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};m.prototype.on=a.on,m.prototype.off=function(e,t){var n;this.interop?(this._events=c(d,this._events,e,t,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},m.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(t,a);var v=t.Model=function(e,t){var r=e||{};t||(t={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(v.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var i;if("object"==typeof e?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,s=r.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,u=this.changed,h=this._previousAttributes;for(var d in i)t=i[d],n.isEqual(c[d],t)||a.push(d),n.isEqual(h[d],t)?delete u[d]:u[d]=t,o?delete c[d]:c[d]=t;if(this.idAttribute in i){var f=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,f,r)}if(!s){a.length&&(this._pending=r);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,c[a[p]],r)}if(l)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,r=this._changing?this._previousAttributes:this.attributes,i={};for(var o in e){var s=e[o];n.isEqual(r[o],s)||(i[o]=s,t=!0)}return!!t&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},q(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t;var o=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var s=this,a=r.success,l=this.attributes;r.success=function(e){s.attributes=l;var t=r.parse?s.parse(e,r):e;if(o&&(t=n.extend({},i,t)),t&&!s.set(t,r))return!1;a&&a.call(r.context,s,e,r),s.trigger("sync",s,e,r)},q(this,r),i&&o&&(this.attributes=n.extend({},l,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var u=this.sync(c,this,r);return this.attributes=l,u},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&o(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var s=!1;return this.isNew()?n.defer(e.success):(q(this,e),s=this.sync("delete",this,e)),i||o(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||G();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1)}});var y=t.Collection=function(e,t){t||(t={}),this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},x=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r,i=Array(e.length-n),o=t.length;for(r=0;r<i.length;r++)i[r]=e[r+n];for(r=0;r<o;r++)e[r+n]=t[r];for(r=0;r<i.length;r++)e[r+o+n]=i[r]};n.extend(y.prototype,a,{model:v,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,w))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),r?i[0]:i},set:function(e,t){if(null!=e){(t=n.extend({},b,t)).parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var r=!n.isArray(e);e=r?[e]:e.slice();var i=t.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,s,a=[],l=[],c=[],u=[],h={},d=t.add,f=t.merge,p=t.remove,g=!1,m=this.comparator&&null==i&&!1!==t.sort,v=n.isString(this.comparator)?this.comparator:null;for(s=0;s<e.length;s++){o=e[s];var y=this.get(o);if(y){if(f&&o!==y){var w=this._isModel(o)?o.attributes:o;t.parse&&(w=y.parse(w,t)),y.set(w,t),c.push(y),m&&!g&&(g=y.hasChanged(v))}h[y.cid]||(h[y.cid]=!0,a.push(y)),e[s]=y}else d&&(o=e[s]=this._prepareModel(o,t))&&(l.push(o),this._addReference(o,t),h[o.cid]=!0,a.push(o))}if(p){for(s=0;s<this.length;s++)h[(o=this.models[s]).cid]||u.push(o);u.length&&this._removeModels(u,t)}var k=!1,C=!m&&d&&p;if(a.length&&C?(k=this.length!==a.length||n.some(this.models,(function(e,t){return e!==a[t]})),this.models.length=0,x(this.models,a,0),this.length=this.models.length):l.length&&(m&&(g=!0),x(this.models,l,null==i?this.length:i),this.length=this.models.length),g&&this.sort({silent:!0}),!t.silent){for(s=0;s<l.length;s++)null!=i&&(t.index=i+s),(o=l[s]).trigger("add",o,this,t);(g||k)&&this.trigger("sort",this,t),(l.length||u.length||c.length)&&(t.changes={added:l,removed:u,merged:c},this.trigger("update",this,t))}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e,e.idAttribute)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=t.bind(this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},q(this,e),this.sync("read",this,e)},create:function(e,t){var r=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;r||this.add(e,t);var i=this,o=t.success;return t.success=function(e,t,n){r&&i.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e,t){return e[t||this.model.prototype.idAttribute||"id"]},values:function(){return new C(this,S)},keys:function(){return new C(this,_)},entries:function(){return new C(this,O)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){return this._isModel(e)?(e.collection||(e.collection=this),e):((t=t?n.clone(t):{}).collection=this,(r=this.model.prototype?new this.model(e,t):this.model(e,t)).validationError?(this.trigger("invalid",this,r.validationError,t),!1):r);var r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.get(e[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var s=this.modelId(i.attributes,i.idAttribute);null!=s&&delete this._byId[s],t.silent||(t.index=o,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return n},_isModel:function(e){return e instanceof v},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes,e.idAttribute);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes,e.idAttribute);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,r),"changeId"===e){var i=this.modelId(t.previousAttributes(),t.idAttribute),o=this.modelId(t.attributes,t.idAttribute);null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=t)}}this.trigger.apply(this,arguments)}});var k="function"==typeof Symbol&&Symbol.iterator;k&&(y.prototype[k]=y.prototype.values);var C=function(e,t){this._collection=e,this._kind=t,this._index=0},S=1,_=2,O=3;k&&(C.prototype[k]=function(){return this}),C.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e,t=this._collection.at(this._index);if(this._index++,this._kind===S)e=t;else{var n=this._collection.modelId(t.attributes,t.idAttribute);e=this._kind===_?n:[n,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var E=t.View=function(e){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(e,A)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var i=t.match(T);this.delegate(i[1],i[2],r.bind(this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});var $=function(e,t,n,r){switch(t){case 1:return function(){return e[n](this[r])};case 2:return function(t){return e[n](this[r],t)};case 3:return function(t,i){return e[n](this[r],R(t,this),i)};case 4:return function(t,i,o){return e[n](this[r],R(t,this),i,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),e[n].apply(e,t)}}},L=function(e,t,r,i){n.each(r,(function(n,r){t[r]&&(e.prototype[r]=$(t,n,r,i))}))},R=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?P(e):n.isString(e)?function(t){return t.get(e)}:e},P=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},M={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},D={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,M,"models"],[v,D,"attributes"]],(function(e){var t=e[0],r=e[1],i=e[2];t.mixin=function(e){var r=n.reduce(n.functions(e),(function(e,t){return e[t]=0,e}),{});L(t,e,r,i)},L(t,n,r,i)})),t.sync=function(e,r,i){var o=j[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||G()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var a=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||i.emulateJSON||(s.processData=!1);var l=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,l&&l.call(i.context,e,t,n)};var c=i.xhr=t.ajax(n.extend(s,i));return r.trigger("request",r,c,i),c};var j={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var N=t.Router=function(e){e||(e={}),this.preinitialize.apply(this,arguments),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},I=/\((.*?)\)/g,F=/(\(\?)?:\w+/g,B=/\*\w+/g,H=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(N.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,(function(n){var s=o._extractParameters(e,n);!1!==o.execute(i,s,r)&&(o.trigger.apply(o,["route:"+r].concat(s)),o.trigger("route",r,s),t.history.trigger("route",o,r,s))})),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(H,"\\$&").replace(I,"(?:$1)?").replace(F,(function(e,t){return t?e:"([^/?]+)"})).replace(B,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,(function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null}))}});var Z=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},z=/^[#\/]|\s+$/g,V=/^\/+|\/+$/g,W=/#.*$/;Z.started=!1,n.extend(Z.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(z,"")},start:function(e){if(Z.started)throw new Error("Backbone.history has already been started");if(Z.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(V,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Z.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0})))},navigate:function(e,t){if(!Z.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+e;e=e.replace(W,"");var i=this.decodeFragment(e);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;t.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new Z;var U=function(e,t){var r,i=this;return r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t),r.prototype=n.create(i.prototype,e),r.prototype.constructor=r,r.__super__=i.prototype,r};v.extend=y.extend=N.extend=E.extend=Z.extend=U;var G=function(){throw new Error('A "url" property or function must be specified')},q=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}(s,n,e,t)}.apply(t,r),void 0===i||(e.exports=i)}()},9210:function(e,t,n){!function(e){e.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t){return/^[;{}]$/.test(t)}}),e.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t,n,r){return this.jsonMode?/^[\[,{]$/.test(t)||/^}/.test(n):(";"!=t||!r.lexical||")"!=r.lexical.type)&&/^[;{}]$/.test(t)&&!/^;/.test(n)}});var t=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;e.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(e,n,r,i){var o=!1;return"html"==this.configuration&&(o=!!i.context&&t.test(i.context.tagName)),!o&&("tag"==e&&/>$/.test(n)&&i.context||/^</.test(r))}}),e.defineExtension("commentRange",(function(t,n,r){var i=this,o=e.innerMode(i.getMode(),i.getTokenAt(n).state).mode;i.operation((function(){if(t)i.replaceRange(o.commentEnd,r),i.replaceRange(o.commentStart,n),n.line==r.line&&n.ch==r.ch&&i.setCursor(n.line,n.ch+o.commentStart.length);else{var e=i.getRange(n,r),s=e.indexOf(o.commentStart),a=e.lastIndexOf(o.commentEnd);s>-1&&a>-1&&a>s&&(e=e.substr(0,s)+e.substring(s+o.commentStart.length,a)+e.substr(a+o.commentEnd.length)),i.replaceRange(e,n,r)}}))})),e.defineExtension("autoIndentRange",(function(e,t){var n=this;this.operation((function(){for(var r=e.line;r<=t.line;r++)n.indentLine(r,"smart")}))})),e.defineExtension("autoFormatRange",(function(t,n){var r=this,i=r.getMode(),o=r.getRange(t,n).split("\n"),s=e.copyState(i,r.getTokenAt(t).state),a=r.getOption("tabSize"),l="",c=0,u=0===t.ch;function h(){l+="\n",u=!0,++c}for(var d=0;d<o.length;++d){for(var f=new e.StringStream(o[d],a);!f.eol();){var p=e.innerMode(i,s),g=i.token(f,s),m=f.current();f.start=f.pos,u&&!/\S/.test(m)||(l+=m,u=!1),!u&&p.mode.newlineAfterToken&&p.mode.newlineAfterToken(g,m,f.string.slice(f.pos)||o[d+1]||"",p.state)&&h()}!f.pos&&i.blankLine&&i.blankLine(s),!u&&d<o.length-1&&h()}r.operation((function(){r.replaceRange(l,t,n);for(var e=t.line+1,i=t.line+c;e<=i;++e)r.indentLine(e,"smart");r.setSelection(t,r.getCursor(!1))}))}))}(n(4631))},4631:function(e){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),s=r||i||o,a=s&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\/(\d+)/.exec(e),h=u&&+u[1],d=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),g=/PhantomJS/.test(e),m=f&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),v=/Android/.test(e),y=m||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=m||/Mac/.test(t),w=/\bCrOS\b/.test(e),x=/win/i.test(t),k=d&&e.match(/Version\/(\d*\.\d*)/);k&&(k=Number(k[1])),k&&k>=15&&(d=!1,l=!0);var C=b&&(c||d&&(null==k||k<12.11)),S=n||s&&a>=9;function _(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var O,E=function(e,t){var n=e.className,r=_(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function T(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function A(e,t){return T(e).appendChild(t)}function $(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function L(e,t,n,r){var i=$(e,t,n,r);return i.setAttribute("role","presentation"),i}function R(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function P(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function M(e,t){var n=e.className;_(t).test(n)||(e.className+=(n?" ":"")+t)}function D(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!_(n[r]).test(t)&&(t+=" "+n[r]);return t}O=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var j=function(e){e.select()};function N(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function I(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function F(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,s=i||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}}m?j=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&(j=function(e){try{e.select()}catch(e){}});var B=function(){this.id=null,this.f=null,this.time=0,this.handler=N(this.onTimeout,this)};function H(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}B.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},B.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var Z=50,z={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},W={origin:"*mouse"},U={origin:"+move"};function G(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var s=o-r;if(o==e.length||i+s>=t)return r+Math.min(s,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var q=[""];function K(e){for(;q.length<=e;)q.push(Y(q)+" ");return q[e]}function Y(e){return e[e.length-1]}function X(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function J(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function Q(){}function ee(e,t){var n;return Object.create?n=Object.create(e):(Q.prototype=e,n=new Q),t&&I(t,n),n}var te=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ne(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||te.test(e))}function re(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ne(e))||t.test(e):ne(e)}function ie(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var oe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function se(e){return e.charCodeAt(0)>=768&&oe.test(e)}function ae(e,t,n){for(;(n<0?t>0:t<e.length)&&se(e.charAt(t));)t+=n;return t}function le(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function ce(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(r(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}var ue=null;function he(e,t,n){var r;ue=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:ue=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:ue=i)}return null!=r?r:ue}var de=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,a=/[1n]/;function l(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var c="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var u=e.length,h=[],d=0;d<u;++d)h.push(n(e.charCodeAt(d)));for(var f=0,p=c;f<u;++f){var g=h[f];"m"==g?h[f]=p:p=g}for(var m=0,v=c;m<u;++m){var y=h[m];"1"==y&&"r"==v?h[m]="n":o.test(y)&&(v=y,"r"==y&&(h[m]="R"))}for(var b=1,w=h[0];b<u-1;++b){var x=h[b];"+"==x&&"1"==w&&"1"==h[b+1]?h[b]="1":","!=x||w!=h[b+1]||"1"!=w&&"n"!=w||(h[b]=w),w=x}for(var k=0;k<u;++k){var C=h[k];if(","==C)h[k]="N";else if("%"==C){var S=void 0;for(S=k+1;S<u&&"%"==h[S];++S);for(var _=k&&"!"==h[k-1]||S<u&&"1"==h[S]?"1":"N",O=k;O<S;++O)h[O]=_;k=S-1}}for(var E=0,T=c;E<u;++E){var A=h[E];"L"==T&&"1"==A?h[E]="L":o.test(A)&&(T=A)}for(var $=0;$<u;++$)if(i.test(h[$])){var L=void 0;for(L=$+1;L<u&&i.test(h[L]);++L);for(var R="L"==($?h[$-1]:c),P=R==("L"==(L<u?h[L]:c))?R?"L":"R":c,M=$;M<L;++M)h[M]=P;$=L-1}for(var D,j=[],N=0;N<u;)if(s.test(h[N])){var I=N;for(++N;N<u&&s.test(h[N]);++N);j.push(new l(0,I,N))}else{var F=N,B=j.length,H="rtl"==t?1:0;for(++N;N<u&&"L"!=h[N];++N);for(var Z=F;Z<N;)if(a.test(h[Z])){F<Z&&(j.splice(B,0,new l(1,F,Z)),B+=H);var z=Z;for(++Z;Z<N&&a.test(h[Z]);++Z);j.splice(B,0,new l(2,z,Z)),B+=H,F=Z}else++Z;F<N&&j.splice(B,0,new l(1,F,N))}return"ltr"==t&&(1==j[0].level&&(D=e.match(/^\s+/))&&(j[0].from=D[0].length,j.unshift(new l(0,0,D[0].length))),1==Y(j).level&&(D=e.match(/\s+$/))&&(Y(j).to-=D[0].length,j.push(new l(0,u-D[0].length,u)))),"rtl"==t?j.reverse():j}}();function fe(e,t){var n=e.order;return null==n&&(n=e.order=de(e.text,t)),n}var pe=[],ge=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||pe).concat(n)}};function me(e,t){return e._handlers&&e._handlers[t]||pe}function ve(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=H(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function ye(e,t){var n=me(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function be(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ye(e,n||t.type,e,t),_e(t)||t.codemirrorIgnore}function we(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==H(n,t[r])&&n.push(t[r])}function xe(e,t){return me(e,t).length>0}function ke(e){e.prototype.on=function(e,t){ge(this,e,t)},e.prototype.off=function(e,t){ve(this,e,t)}}function Ce(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Se(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function _e(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Oe(e){Ce(e),Se(e)}function Ee(e){return e.target||e.srcElement}function Te(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var Ae,$e,Le=function(){if(s&&a<9)return!1;var e=$("div");return"draggable"in e||"dragDrop"in e}();function Re(e){if(null==Ae){var t=$("span","\u200b");A(e,$("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ae=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&a<8))}var n=Ae?$("span","\u200b"):$("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Pe(e){if(null!=$e)return $e;var t=A(e,document.createTextNode("A\u062eA")),n=O(t,0,1).getBoundingClientRect(),r=O(t,1,2).getBoundingClientRect();return T(e),!(!n||n.left==n.right)&&($e=r.right-n.right<3)}var Me,De=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},je=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ne="oncopy"in(Me=$("div"))||(Me.setAttribute("oncopy","return;"),"function"==typeof Me.oncopy),Ie=null;function Fe(e){if(null!=Ie)return Ie;var t=A(e,$("span","x")),n=t.getBoundingClientRect(),r=O(t,0,1).getBoundingClientRect();return Ie=Math.abs(n.left-r.left)>1}var Be={},He={};function Ze(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Be[e]=t}function ze(e,t){He[e]=t}function Ve(e){if("string"==typeof e&&He.hasOwnProperty(e))e=He[e];else if(e&&"string"==typeof e.name&&He.hasOwnProperty(e.name)){var t=He[e.name];"string"==typeof t&&(t={name:t}),(e=ee(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ve("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ve("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function We(e,t){t=Ve(t);var n=Be[t.name];if(!n)return We(e,"text/plain");var r=n(e,t);if(Ue.hasOwnProperty(t.name)){var i=Ue[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)r[s]=t.modeProps[s];return r}var Ue={};function Ge(e,t){I(t,Ue.hasOwnProperty(e)?Ue[e]:Ue[e]={})}function qe(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Ke(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ye(e,t,n){return!e.startState||e.startState(t,n)}var Xe=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Je(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Qe(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function et(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function tt(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function nt(e){if(null==e.parent)return null;for(var t=e.parent,n=H(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function rt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s].height;if(t<a)break;t-=a}return n+s}function it(e,t){return t>=e.first&&t<e.first+e.size}function ot(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function st(e,t,n){if(void 0===n&&(n=null),!(this instanceof st))return new st(e,t,n);this.line=e,this.ch=t,this.sticky=n}function at(e,t){return e.line-t.line||e.ch-t.ch}function lt(e,t){return e.sticky==t.sticky&&0==at(e,t)}function ct(e){return st(e.line,e.ch)}function ut(e,t){return at(e,t)<0?t:e}function ht(e,t){return at(e,t)<0?e:t}function dt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ft(e,t){if(t.line<e.first)return st(e.first,0);var n=e.first+e.size-1;return t.line>n?st(n,Je(e,n).text.length):pt(t,Je(e,t.line).text.length)}function pt(e,t){var n=e.ch;return null==n||n>t?st(e.line,t):n<0?st(e.line,0):e}function gt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=ft(e,t[r]);return n}Xe.prototype.eol=function(){return this.pos>=this.string.length},Xe.prototype.sol=function(){return this.pos==this.lineStart},Xe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xe.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Xe.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Xe.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Xe.prototype.skipToEnd=function(){this.pos=this.string.length},Xe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Xe.prototype.backUp=function(e){this.pos-=e},Xe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Xe.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Xe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Xe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var mt=function(e,t){this.state=e,this.lookAhead=t},vt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function yt(e,t,n,r){var i=[e.state.modeGen],o={};Et(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),o,r);for(var s=n.state,a=function(r){n.baseTokens=i;var a=e.state.overlays[r],l=1,c=0;n.state=!0,Et(e,t.text,a.mode,n,(function(e,t){for(var n=l;c<e;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(a.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=s,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)a(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function bt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=wt(e,nt(t)),i=t.text.length>e.options.maxHighlightLength&&qe(e.doc.mode,r.state),o=yt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function wt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new vt(r,!0,t);var o=Tt(e,t,n),s=o>r.first&&Je(r,o-1).stateAfter,a=s?vt.fromSaved(r,s,o):new vt(r,Ye(r.mode),o);return r.iter(o,t,(function(n){xt(e,n.text,a);var r=a.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?a.save():null,a.nextLine()})),n&&(r.modeFrontier=a.line),a}function xt(e,t,n,r){var i=e.doc.mode,o=new Xe(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&kt(i,n.state);!o.eol();)Ct(i,o,n.state),o.start=o.pos}function kt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ke(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Ct(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Ke(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}vt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},vt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},vt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},vt.fromSaved=function(e,t,n){return t instanceof mt?new vt(e,qe(e.mode,t.state),n,t.lookAhead):new vt(e,qe(e.mode,t),n)},vt.prototype.save=function(e){var t=!1!==e?qe(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new mt(t,this.maxLookAhead):t};var St=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function _t(e,t,n,r){var i,o,s=e.doc,a=s.mode,l=Je(s,(t=ft(s,t)).line),c=wt(e,t.line,n),u=new Xe(l.text,e.options.tabSize,c);for(r&&(o=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,i=Ct(a,u,c.state),r&&o.push(new St(u,i,qe(s.mode,c.state)));return r?o:new St(u,i,c.state)}function Ot(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Et(e,t,n,r,i,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,h=new Xe(t,e.options.tabSize,r),d=e.options.addModeClass&&[null];for(""==t&&Ot(kt(n,r.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(a=!1,s&&xt(e,t,r,h.pos),h.pos=t.length,l=null):l=Ot(Ct(n,h,r.state,d),o),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<h.start;)i(c=Math.min(h.start,c+5e3),u);u=l}h.start=h.pos}for(;c<h.pos;){var p=Math.min(h.pos,c+5e3);i(p,u),c=p}}function Tt(e,t,n){for(var r,i,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=Je(o,a-1),c=l.stateAfter;if(c&&(!n||a+(c instanceof mt?c.lookAhead:0)<=o.modeFrontier))return a;var u=F(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=a-1,r=u)}return i}function At(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=Je(e,r).stateAfter;if(i&&(!(i instanceof mt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var $t=!1,Lt=!1;function Rt(){$t=!0}function Pt(){Lt=!0}function Mt(e,t,n){this.marker=e,this.from=t,this.to=n}function Dt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function jt(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Nt(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&e.markedSpans&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function It(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Mt(s,o.from,a?null:o.to))}}return r}function Ft(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Mt(s,a?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Bt(e,t){if(t.full)return null;var n=it(e,t.from.line)&&Je(e,t.from.line).markedSpans,r=it(e,t.to.line)&&Je(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,s=0==at(t.from,t.to),a=It(n,i,s),l=Ft(r,o,s),c=1==t.text.length,u=Y(t.text).length+(c?i:0);if(a)for(var h=0;h<a.length;++h){var d=a[h];if(null==d.to){var f=Dt(l,d.marker);f?c&&(d.to=null==f.to?null:f.to+u):d.to=i}}if(l)for(var p=0;p<l.length;++p){var g=l[p];null!=g.to&&(g.to+=u),null==g.from?Dt(a,g.marker)||(g.from=u,c&&(a||(a=[])).push(g)):(g.from+=u,c&&(a||(a=[])).push(g))}a&&(a=Ht(a)),l&&l!=a&&(l=Ht(l));var m=[a];if(!c){var v,y=t.text.length-2;if(y>0&&a)for(var b=0;b<a.length;++b)null==a[b].to&&(v||(v=[])).push(new Mt(a[b].marker,null,null));for(var w=0;w<y;++w)m.push(v);m.push(l)}return m}function Ht(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Zt(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=H(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),l=0;l<i.length;++l){var c=i[l];if(!(at(c.to,a.from)<0||at(c.from,a.to)>0)){var u=[l,1],h=at(c.from,a.from),d=at(c.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(d>0||!s.inclusiveRight&&!d)&&u.push({from:a.to,to:c.to}),i.splice.apply(i,u),l+=u.length-3}}return i}function zt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Vt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Wt(e){return e.inclusiveLeft?-1:0}function Ut(e){return e.inclusiveRight?1:0}function Gt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=at(r.from,i.from)||Wt(e)-Wt(t);return o?-o:at(r.to,i.to)||Ut(e)-Ut(t)||t.id-e.id}function qt(e,t){var n,r=Lt&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||Gt(n,i.marker)<0)&&(n=i.marker);return n}function Kt(e){return qt(e,!0)}function Yt(e){return qt(e,!1)}function Xt(e,t){var n,r=Lt&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Gt(n,o.marker)<0)&&(n=o.marker)}return n}function Jt(e,t,n,r,i){var o=Je(e,t),s=Lt&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=at(c.from,n)||Wt(l.marker)-Wt(i),h=at(c.to,r)||Ut(l.marker)-Ut(i);if(!(u>=0&&h<=0||u<=0&&h>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?at(c.to,n)>=0:at(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?at(c.from,r)<=0:at(c.from,r)<0)))return!0}}}function Qt(e){for(var t;t=Kt(e);)e=t.find(-1,!0).line;return e}function en(e){for(var t;t=Yt(e);)e=t.find(1,!0).line;return e}function tn(e){for(var t,n;t=Yt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function nn(e,t){var n=Je(e,t),r=Qt(n);return n==r?t:nt(r)}function rn(e,t){if(t>e.lastLine())return t;var n,r=Je(e,t);if(!on(e,r))return t;for(;n=Yt(r);)r=n.find(1,!0).line;return nt(r)+1}function on(e,t){var n=Lt&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&sn(e,t,r))return!0}}function sn(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return sn(e,r.line,Dt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&sn(e,t,i))return!0}function an(e){for(var t=0,n=(e=Qt(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;t+=a.height}return t}function ln(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Kt(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Yt(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function cn(e){var t=e.display,n=e.doc;t.maxLine=Je(n,n.first),t.maxLineLength=ln(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=ln(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var un=function(e,t,n){this.text=e,Vt(this,t),this.height=n?n(this):1};function hn(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),zt(e),Vt(e,n);var i=r?r(e):1;i!=e.height&&tt(e,i)}function dn(e){e.parent=null,zt(e)}un.prototype.lineNo=function(){return nt(this)},ke(un);var fn={},pn={};function gn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?pn:fn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function mn(e,t){var n=L("span",null,null,l?"padding-right: .1px":null),r={pre:L("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,s=void 0;r.pos=0,r.addToken=yn,Pe(e.display.measure)&&(s=fe(o,e.doc.direction))&&(r.addToken=wn(r.addToken,s)),r.map=[],kn(o,r,bt(e,o,t!=e.display.externalMeasured&&nt(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=D(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=D(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Re(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var a=r.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ye(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=D(r.pre.className,r.textClass||"")),r}function vn(e){var t=$("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function yn(e,t,n,r,i,o,l){if(t){var c,u=e.splitSpaces?bn(t,e.trailingSpace):t,h=e.cm.state.specialChars,d=!1;if(h.test(t)){c=document.createDocumentFragment();for(var f=0;;){h.lastIndex=f;var p=h.exec(t),g=p?p.index-f:t.length-f;if(g){var m=document.createTextNode(u.slice(f,f+g));s&&a<9?c.appendChild($("span",[m])):c.appendChild(m),e.map.push(e.pos,e.pos+g,m),e.col+=g,e.pos+=g}if(!p)break;f+=g+1;var v=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(v=c.appendChild($("span",K(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?((v=c.appendChild($("span","\r"==p[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),s&&a<9?c.appendChild($("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),s&&a<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||i||d||o||l){var w=n||"";r&&(w+=r),i&&(w+=i);var x=$("span",[c],w,o);if(l)for(var k in l)l.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&x.setAttribute(k,l[k]);return e.content.appendChild(x)}e.content.appendChild(c)}}function bn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="\xa0"),r+=o,n=" "==o}return r}function wn(e,t){return function(n,r,i,o,s,a,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var h=void 0,d=0;d<t.length&&!((h=t[d]).to>c&&h.from<=c);d++);if(h.to>=u)return e(n,r,i,o,s,a,l);e(n,r.slice(0,h.to-c),i,o,null,a,l),o=null,r=r.slice(h.to-c),c=h.to}}}function xn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function kn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var s,a,l,c,u,h,d,f=i.length,p=0,g=1,m="",v=0;;){if(v==p){l=c=u=a="",d=null,h=null,v=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var x=r[w],k=x.marker;if("bookmark"==k.type&&x.from==p&&k.widgetNode)y.push(k);else if(x.from<=p&&(null==x.to||x.to>p||k.collapsed&&x.to==p&&x.from==p)){if(null!=x.to&&x.to!=p&&v>x.to&&(v=x.to,c=""),k.className&&(l+=" "+k.className),k.css&&(a=(a?a+";":"")+k.css),k.startStyle&&x.from==p&&(u+=" "+k.startStyle),k.endStyle&&x.to==v&&(b||(b=[])).push(k.endStyle,x.to),k.title&&((d||(d={})).title=k.title),k.attributes)for(var C in k.attributes)(d||(d={}))[C]=k.attributes[C];k.collapsed&&(!h||Gt(h.marker,k)<0)&&(h=x)}else x.from>p&&v>x.from&&(v=x.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==v&&(c+=" "+b[S]);if(!h||h.from==p)for(var _=0;_<y.length;++_)xn(t,0,y[_]);if(h&&(h.from||0)==p){if(xn(t,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=f)break;for(var O=Math.min(f,v);;){if(m){var E=p+m.length;if(!h){var T=E>O?m.slice(0,O-p):m;t.addToken(t,T,s?s+l:l,u,p+T.length==v?c:"",a,d)}if(E>=O){m=m.slice(O-p),p=O;break}p=E,u=""}m=i.slice(o,o=n[g++]),s=gn(n[g++],t.cm.options)}}else for(var A=1;A<n.length;A+=2)t.addToken(t,i.slice(o,o=n[A]),gn(n[A+1],t.cm.options))}function Cn(e,t,n){this.line=t,this.rest=tn(t),this.size=this.rest?nt(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=on(e,t)}function Sn(e,t,n){for(var r,i=[],o=t;o<n;o=r){var s=new Cn(e.doc,Je(e.doc,o),o);r=o+s.size,i.push(s)}return i}var _n=null;function On(e){_n?_n.ops.push(e):e.ownsGroup=_n={ops:[e],delayedCallbacks:[]}}function En(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function Tn(e,t){var n=e.ownsGroup;if(n)try{En(n)}finally{_n=null,t(n)}}var An=null;function $n(e,t){var n=me(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);_n?r=_n.delayedCallbacks:An?r=An:(r=An=[],setTimeout(Ln,0));for(var o=function(e){r.push((function(){return n[e].apply(null,i)}))},s=0;s<n.length;++s)o(s)}}function Ln(){var e=An;An=null;for(var t=0;t<e.length;++t)e[t]()}function Rn(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?jn(e,t):"gutter"==o?In(e,t,n,r):"class"==o?Nn(e,t):"widget"==o&&Fn(e,t,r)}t.changes=null}function Pn(e){return e.node==e.text&&(e.node=$("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&a<8&&(e.node.style.zIndex=2)),e.node}function Mn(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Pn(t);t.background=r.insertBefore($("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Dn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):mn(e,t)}function jn(e,t){var n=t.text.className,r=Dn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Nn(e,t)):n&&(t.text.className=n)}function Nn(e,t){Mn(e,t),t.line.wrapClass?Pn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function In(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=Pn(t);t.gutterBackground=$("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=Pn(t),a=t.gutter=$("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(a.setAttribute("aria-hidden","true"),e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild($("div",ot(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&a.appendChild($("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function Fn(e,t,n){t.alignable&&(t.alignable=null);for(var r=_("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);Hn(e,t,n)}function Bn(e,t,n,r){var i=Dn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Nn(e,t),In(e,t,n,r),Hn(e,t,r),t.node}function Hn(e,t,n){if(Zn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Zn(e,t.rest[r],t,n,!1)}function Zn(e,t,n,r,i){if(t.widgets)for(var o=Pn(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=$("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),zn(l,c,n,r),e.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),$n(l,"redraw")}}function zn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Vn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!R(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),A(t.display.measure,$("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Wn(e,t){for(var n=Ee(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Un(e){return e.lineSpace.offsetTop}function Gn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function qn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=A(e.measure,$("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Kn(e){return Z-e.display.nativeBarWidth}function Yn(e){return e.display.scroller.clientWidth-Kn(e)-e.display.barWidth}function Xn(e){return e.display.scroller.clientHeight-Kn(e)-e.display.barHeight}function Jn(e,t,n){var r=e.options.lineWrapping,i=r&&Yn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Qn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(nt(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}}function er(e,t){var n=nt(t=Qt(t)),r=e.display.externalMeasured=new Cn(e.doc,t,n);r.lineN=n;var i=r.built=mn(e,r);return r.text=i.pre,A(e.display.lineMeasure,i.pre),r}function tr(e,t,n,r){return ir(e,rr(e,t),n,r)}function nr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Nr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function rr(e,t){var n=nt(t),r=nr(e,n);r&&!r.text?r=null:r&&r.changes&&(Rn(e,r,n,Rr(e)),e.curOp.forceUpdate=!0),r||(r=er(e,t));var i=Qn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function ir(e,t,n,r,i){t.before&&(n=-1);var o,s=n+(r||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Jn(e,t.view,t.rect),t.hasHeights=!0),(o=cr(e,t,n,r)).bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var or,sr={left:0,right:0,top:0,bottom:0};function ar(e,t,n){for(var r,i,o,s,a,l,c=0;c<e.length;c+=3)if(a=e[c],l=e[c+1],t<a?(i=0,o=1,s="left"):t<l?o=1+(i=t-a):(c==e.length-3||t==l&&e[c+3]>t)&&(i=(o=l-a)-1,t>=l&&(s="right")),null!=i){if(r=e[c+2],a==l&&n==(r.insertLeft?"left":"right")&&(s=n),"left"==n&&0==i)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)r=e[2+(c-=3)],s="left";if("right"==n&&i==l-a)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)r=e[(c+=3)+2],s="right";break}return{node:r,start:i,end:o,collapse:s,coverStart:a,coverEnd:l}}function lr(e,t){var n=sr;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function cr(e,t,n,r){var i,o=ar(t.map,n,r),l=o.node,c=o.start,u=o.end,h=o.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){for(;c&&se(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&se(t.line.text.charAt(o.coverStart+u));)++u;if((i=s&&a<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():lr(O(l,c,u).getClientRects(),r)).left||i.right||0==c)break;u=c,c-=1,h="right"}s&&a<11&&(i=ur(e.display.measure,i))}else{var f;c>0&&(h=r="right"),i=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==r?f.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!i||!i.left&&!i.right)){var p=l.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+Lr(e.display),top:p.top,bottom:p.bottom}:sr}for(var g=i.top-t.rect.top,m=i.bottom-t.rect.top,v=(g+m)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var w=b?y[b-1]:0,x=y[b],k={left:("right"==h?i.right:i.left)-t.rect.left,right:("left"==h?i.left:i.right)-t.rect.left,top:w,bottom:x};return i.left||i.right||(k.bogus=!0),e.options.singleCursorHeightPerLine||(k.rtop=g,k.rbottom=m),k}function ur(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Fe(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function hr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function dr(e){e.display.externalMeasure=null,T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)hr(e.display.view[t])}function fr(e){dr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function pr(){return u&&v?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function gr(){return u&&v?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function mr(e){var t=Qt(e).widgets,n=0;if(t)for(var r=0;r<t.length;++r)t[r].above&&(n+=Vn(t[r]));return n}function vr(e,t,n,r,i){if(!i){var o=mr(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var s=an(t);if("local"==r?s+=Un(e.display):s-=e.display.viewOffset,"page"==r||"window"==r){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:gr());var l=a.left+("window"==r?0:pr());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function yr(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=pr(),i-=gr();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:i-s.top}}function br(e,t,n,r,i){return r||(r=Je(e.doc,t.line)),vr(e,r,tr(e,r,t.ch,i),n)}function wr(e,t,n,r,i,o){function s(t,s){var a=ir(e,i,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,vr(e,r,a,n)}r=r||Je(e.doc,t.line),i||(i=rr(e,r));var a=fe(r,e.doc.direction),l=t.ch,c=t.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function u(e,t,n){return s(n?e-1:e,1==a[t].level!=n)}var h=he(a,l,c),d=ue,f=u(l,h,"before"==c);return null!=d&&(f.other=u(l,d,"before"!=c)),f}function xr(e,t){var n=0;t=ft(e.doc,t),e.options.lineWrapping||(n=Lr(e.display)*t.ch);var r=Je(e.doc,t.line),i=an(r)+Un(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function kr(e,t,n,r,i){var o=st(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function Cr(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return kr(r.first,0,null,-1,-1);var i=rt(r,n),o=r.first+r.size-1;if(i>o)return kr(r.first+r.size-1,Je(r,o).text.length,null,1,1);t<0&&(t=0);for(var s=Je(r,i);;){var a=Er(e,s,i,t,n),l=Xt(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l)return a;var c=l.find(1);if(c.line==i)return c;s=Je(r,i=c.line)}}function Sr(e,t,n,r){r-=mr(t);var i=t.text.length,o=le((function(t){return ir(e,n,t-1).bottom<=r}),i,0);return{begin:o,end:i=le((function(t){return ir(e,n,t).top>r}),o,i)}}function _r(e,t,n,r){return n||(n=rr(e,t)),Sr(e,t,n,vr(e,t,ir(e,n,r),"line").top)}function Or(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Er(e,t,n,r,i){i-=an(t);var o=rr(e,t),s=mr(t),a=0,l=t.text.length,c=!0,u=fe(t,e.doc.direction);if(u){var h=(e.options.lineWrapping?Ar:Tr)(e,t,n,o,u,r,i);a=(c=1!=h.level)?h.from:h.to-1,l=c?h.to:h.from-1}var d,f,p=null,g=null,m=le((function(t){var n=ir(e,o,t);return n.top+=s,n.bottom+=s,!!Or(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,g=n),!0)}),a,l),v=!1;if(g){var y=r-g.left<g.right-r,b=y==c;m=p+(b?0:1),f=b?"after":"before",d=y?g.left:g.right}else{c||m!=l&&m!=a||m++,f=0==m?"after":m==t.text.length?"before":ir(e,o,m-(c?1:0)).bottom+s<=i==c?"after":"before";var w=wr(e,st(n,m,f),"line",t,o);d=w.left,v=i<w.top?-1:i>=w.bottom?1:0}return kr(n,m=ae(t.text,m,1),f,v,r-d)}function Tr(e,t,n,r,i,o,s){var a=le((function(a){var l=i[a],c=1!=l.level;return Or(wr(e,st(n,c?l.to:l.from,c?"before":"after"),"line",t,r),o,s,!0)}),0,i.length-1),l=i[a];if(a>0){var c=1!=l.level,u=wr(e,st(n,c?l.from:l.to,c?"after":"before"),"line",t,r);Or(u,o,s,!0)&&u.top>s&&(l=i[a-1])}return l}function Ar(e,t,n,r,i,o,s){var a=Sr(e,t,r,s),l=a.begin,c=a.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,h=null,d=0;d<i.length;d++){var f=i[d];if(!(f.from>=c||f.to<=l)){var p=ir(e,r,1!=f.level?Math.min(c,f.to)-1:Math.max(l,f.from)).right,g=p<o?o-p+1e9:p-o;(!u||h>g)&&(u=f,h=g)}}return u||(u=i[i.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function $r(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==or){or=$("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)or.appendChild(document.createTextNode("x")),or.appendChild($("br"));or.appendChild(document.createTextNode("x"))}A(e.measure,or);var n=or.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),T(e.measure),n||1}function Lr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=$("span","xxxxxxxxxx"),n=$("pre",[t],"CodeMirror-line-like");A(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Rr(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=e.display.gutterSpecs[s].className;n[a]=o.offsetLeft+o.clientLeft+i,r[a]=o.clientWidth}return{fixedPos:Pr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Pr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Mr(e){var t=$r(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Lr(e.display)-3);return function(i){if(on(e.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Dr(e){var t=e.doc,n=Mr(e);t.iter((function(e){var t=n(e);t!=e.height&&tt(e,t)}))}function jr(e,t,n,r){var i=e.display;if(!n&&"true"==Ee(t).getAttribute("cm-not-content"))return null;var o,s,a=i.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(e){return null}var l,c=Cr(e,o,s);if(r&&c.xRel>0&&(l=Je(e.doc,c.line).text).length==c.ch){var u=F(l,l.length,e.options.tabSize)-l.length;c=st(c.line,Math.max(0,Math.round((o-qn(e.display).left)/Lr(e.display))-u))}return c}function Nr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function Ir(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Lt&&nn(e.doc,t)<i.viewTo&&Br(e);else if(n<=i.viewFrom)Lt&&rn(e.doc,n+r)>i.viewFrom?Br(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Br(e);else if(t<=i.viewFrom){var o=Hr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Br(e)}else if(n>=i.viewTo){var s=Hr(e,t,t,-1);s?(i.view=i.view.slice(0,s.index),i.viewTo=s.lineN):Br(e)}else{var a=Hr(e,t,t,-1),l=Hr(e,n,n+r,1);a&&l?(i.view=i.view.slice(0,a.index).concat(Sn(e,a.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):Br(e)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(i.externalMeasured=null))}function Fr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Nr(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==H(s,n)&&s.push(n)}}}function Br(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Hr(e,t,n,r){var i,o=Nr(e,t),s=e.display.view;if(!Lt||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=e.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=t){if(r>0){if(o==s.length-1)return null;i=a+s[o].size-t,o++}else i=a-t;t+=i,n+=i}for(;nn(e.doc,n)!=n;){if(o==(r<0?0:s.length-1))return null;n+=r*s[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function Zr(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=Sn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=Sn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Nr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(Sn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Nr(e,n)))),r.viewTo=n}function zr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Vr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Wr(e,t){void 0===t&&(t=!0);var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=e.options.$customCursor;s&&(t=!0);for(var a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var l=n.sel.ranges[a];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var c=l.empty();if(s){var u=s(e,l);u&&Ur(e,u,i)}else(c||e.options.showCursorWhenSelecting)&&Ur(e,l.head,i);c||qr(e,l,o)}}return r}function Ur(e,t,n){var r=wr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild($("div","\xa0","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var o=br(e,t,"div",null,null),s=o.right-o.left;i.style.width=(s>0?s:e.defaultCharWidth())+"px"}if(r.other){var a=n.appendChild($("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=r.other.left+"px",a.style.top=r.other.top+"px",a.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Gr(e,t){return e.top-t.top||e.left-t.left}function qr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),s=qn(e.display),a=s.left,l=Math.max(r.sizerWidth,Yn(e)-r.sizer.offsetLeft)-s.right,c="ltr"==i.direction;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild($("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(r-t)+"px"))}function h(t,n,r){var o,s,h=Je(i,t),d=h.text.length;function f(n,r){return br(e,st(t,n),"div",h,r)}function p(t,n,r){var i=_r(e,h,null,t),o="ltr"==n==("after"==r)?"left":"right";return f("after"==r?i.begin:i.end-(/\s/.test(h.text.charAt(i.end-1))?2:1),o)[o]}var g=fe(h,i.direction);return ce(g,n||0,null==r?d:r,(function(e,t,i,h){var m="ltr"==i,v=f(e,m?"left":"right"),y=f(t-1,m?"right":"left"),b=null==n&&0==e,w=null==r&&t==d,x=0==h,k=!g||h==g.length-1;if(y.top-v.top<=3){var C=(c?w:b)&&k,S=(c?b:w)&&x?a:(m?v:y).left,_=C?l:(m?y:v).right;u(S,v.top,_-S,v.bottom)}else{var O,E,T,A;m?(O=c&&b&&x?a:v.left,E=c?l:p(e,i,"before"),T=c?a:p(t,i,"after"),A=c&&w&&k?l:y.right):(O=c?p(e,i,"before"):a,E=!c&&b&&x?l:v.right,T=!c&&w&&k?a:y.left,A=c?p(t,i,"after"):l),u(O,v.top,E-O,v.bottom),v.bottom<y.top&&u(a,v.bottom,null,y.top),u(T,y.top,A-T,y.bottom)}(!o||Gr(v,o)<0)&&(o=v),Gr(y,o)<0&&(o=y),(!s||Gr(v,s)<0)&&(s=v),Gr(y,s)<0&&(s=y)})),{start:o,end:s}}var d=t.from(),f=t.to();if(d.line==f.line)h(d.line,d.ch,f.ch);else{var p=Je(i,d.line),g=Je(i,f.line),m=Qt(p)==Qt(g),v=h(d.line,d.ch,m?p.text.length+1:null).end,y=h(f.line,m?0:null,f.ch).start;m&&(v.top<y.top-2?(u(v.right,v.top,null,v.bottom),u(a,y.top,y.left,y.bottom)):u(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&u(a,v.bottom,null,y.top)}n.appendChild(o)}function Kr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||Qr(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Yr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Jr(e))}function Xr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Qr(e))}),100)}function Jr(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ye(e,"focus",e,t),e.state.focused=!0,M(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Kr(e))}function Qr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ye(e,"blur",e,t),e.state.focused=!1,E(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function ei(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),i=t.lineDiv.getBoundingClientRect().top,o=0,l=0;l<t.view.length;l++){var c=t.view[l],u=e.options.lineWrapping,h=void 0,d=0;if(!c.hidden){if(i+=c.line.height,s&&a<8){var f=c.node.offsetTop+c.node.offsetHeight;h=f-n,n=f}else{var p=c.node.getBoundingClientRect();h=p.bottom-p.top,!u&&c.text.firstChild&&(d=c.text.firstChild.getBoundingClientRect().right-p.left-1)}var g=c.line.height-h;if((g>.005||g<-.005)&&(i<r&&(o-=g),tt(c.line,h),ti(c.line),c.rest))for(var m=0;m<c.rest.length;m++)ti(c.rest[m]);if(d>e.display.sizerWidth){var v=Math.ceil(d/Lr(e.display));v>e.display.maxLineLength&&(e.display.maxLineLength=v,e.display.maxLine=c.line,e.display.maxLineChanged=!0)}}}Math.abs(o)>2&&(t.scroller.scrollTop+=o)}function ti(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ni(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Un(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=rt(t,r),s=rt(t,i);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=rt(t,an(Je(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=rt(t,an(Je(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function ri(e,t){if(!be(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!g){var o=$("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Un(e.display))+"px;\n                         height: "+(t.bottom-t.top+Kn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function ii(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==t.sticky?st(t.line,t.ch+1,"before"):t,t=t.ch?st(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var o=0;o<5;o++){var s=!1,a=wr(e,t),l=n&&n!=t?wr(e,n):a,c=si(e,i={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-r,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+r}),u=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=c.scrollTop&&(fi(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(s=!0)),null!=c.scrollLeft&&(gi(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-h)>1&&(s=!0)),!s)break}return i}function oi(e,t){var n=si(e,t);null!=n.scrollTop&&fi(e,n.scrollTop),null!=n.scrollLeft&&gi(e,n.scrollLeft)}function si(e,t){var n=e.display,r=$r(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Xn(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+Gn(n),l=t.top<r,c=t.bottom>a-r;if(t.top<i)s.scrollTop=l?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(c?a:t.bottom)-o);u!=i&&(s.scrollTop=u)}var h=e.options.fixedGutter?0:n.gutters.offsetWidth,d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-h,f=Yn(e)-n.gutters.offsetWidth,p=t.right-t.left>f;return p&&(t.right=t.left+f),t.left<10?s.scrollLeft=0:t.left<d?s.scrollLeft=Math.max(0,t.left+h-(p?0:10)):t.right>f+d-3&&(s.scrollLeft=t.right+(p?0:10)-f),s}function ai(e,t){null!=t&&(hi(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function li(e){hi(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function ci(e,t,n){null==t&&null==n||hi(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function ui(e,t){hi(e),e.curOp.scrollToPos=t}function hi(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,di(e,xr(e,t.from),xr(e,t.to),t.margin))}function di(e,t,n,r){var i=si(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});ci(e,i.scrollLeft,i.scrollTop)}function fi(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Vi(e,{top:t}),pi(e,t,!0),n&&Vi(e),ji(e,100))}function pi(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function gi(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,qi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function mi(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Gn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Kn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var vi=function(e,t,n){this.cm=n;var r=this.vert=$("div",[$("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=$("div",[$("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),ge(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),ge(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};vi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},vi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},vi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},vi.prototype.zeroWidthHack=function(){var e=b&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new B,this.disableVert=new B},vi.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.visibility="hidden":t.set(1e3,r)}e.style.visibility="",t.set(1e3,r)},vi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var yi=function(){};function bi(e,t){t||(t=mi(e));var n=e.display.barWidth,r=e.display.barHeight;wi(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&ei(e),wi(e,mi(e)),n=e.display.barWidth,r=e.display.barHeight}function wi(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}yi.prototype.update=function(){return{bottom:0,right:0}},yi.prototype.setScrollLeft=function(){},yi.prototype.setScrollTop=function(){},yi.prototype.clear=function(){};var xi={native:vi,null:yi};function ki(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&E(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new xi[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ge(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?gi(e,t):fi(e,t)}),e),e.display.scrollbars.addClass&&M(e.display.wrapper,e.display.scrollbars.addClass)}var Ci=0;function Si(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ci,markArrays:null},On(e.curOp)}function _i(e){var t=e.curOp;t&&Tn(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Oi(e)}))}function Oi(e){for(var t=e.ops,n=0;n<t.length;n++)Ei(t[n]);for(var r=0;r<t.length;r++)Ti(t[r]);for(var i=0;i<t.length;i++)Ai(t[i]);for(var o=0;o<t.length;o++)$i(t[o]);for(var s=0;s<t.length;s++)Li(t[s])}function Ei(e){var t=e.cm,n=t.display;Fi(t),e.updateMaxLine&&cn(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ii(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ti(e){e.updatedDisplay=e.mustUpdate&&Zi(e.cm,e.update)}function Ai(e){var t=e.cm,n=t.display;e.updatedDisplay&&ei(t),e.barMeasure=mi(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=tr(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Kn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Yn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function $i(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&gi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==P();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&bi(t,e.barMeasure),e.updatedDisplay&&Gi(t,e.barMeasure),e.selectionChanged&&Kr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Yr(e.cm)}function Li(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&zi(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&pi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&gi(t,e.scrollLeft,!0,!0),e.scrollToPos&&ri(t,ii(t,ft(r,e.scrollToPos.from),ft(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var s=0;s<i.length;++s)i[s].lines.length||ye(i[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&ye(o[a],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ye(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ri(e,t){if(e.curOp)return t();Si(e);try{return t()}finally{_i(e)}}function Pi(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Si(e);try{return t.apply(e,arguments)}finally{_i(e)}}}function Mi(e){return function(){if(this.curOp)return e.apply(this,arguments);Si(this);try{return e.apply(this,arguments)}finally{_i(this)}}}function Di(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Si(t);try{return e.apply(this,arguments)}finally{_i(t)}}}function ji(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,N(Ni,e))}function Ni(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=wt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(r.line>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength?qe(t.mode,r.state):null,l=yt(e,o,r,!0);a&&(r.state=a),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var h=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),d=0;!h&&d<s.length;++d)h=s[d]!=o.styles[d];h&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&xt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ji(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Ri(e,(function(){for(var t=0;t<i.length;t++)Fr(e,i[t],"text")}))}}var Ii=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ni(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Yn(e),this.force=n,this.dims=Rr(e),this.events=[]};function Fi(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Kn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Kn(e)+"px",t.scrollbarsClipped=!0)}function Bi(e){if(e.hasFocus())return null;var t=P();if(!t||!R(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&R(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Hi(e){if(e&&e.activeElt&&e.activeElt!=P()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&R(document.body,e.anchorNode)&&R(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Zi(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Br(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==zr(e))return!1;Ki(e)&&(Br(e),t.dims=Rr(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),s=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(i,n.viewTo)),Lt&&(o=nn(e.doc,o),s=rn(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Zr(e,o,s),n.viewOffset=an(Je(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=zr(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Bi(e);return l>4&&(n.lineDiv.style.display="none"),Wi(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Hi(c),T(n.cursorDiv),T(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ji(e,400)),n.updateLineNumbers=null,!0}function zi(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Yn(e))r&&(t.visible=ni(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Gn(e.display)-Xn(e),n.top)}),t.visible=ni(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Zi(e,t))break;ei(e);var i=mi(e);Vr(e),bi(e,i),Gi(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Vi(e,t){var n=new Ii(e,t);if(Zi(e,n)){ei(e),zi(e,n);var r=mi(e);Vr(e),bi(e,r),Gi(e,r),n.finish()}}function Wi(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,s=o.firstChild;function a(t){var n=t.nextSibling;return l&&b&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=r.view,u=r.viewFrom,h=0;h<c.length;h++){var d=c[h];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;s!=d.node;)s=a(s);var f=i&&null!=t&&t<=u&&d.lineNumber;d.changes&&(H(d.changes,"gutter")>-1&&(f=!1),Rn(e,d,u,n)),f&&(T(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(ot(e.options,u)))),s=d.node.nextSibling}else{var p=Bn(e,d,u,n);o.insertBefore(p,s)}u+=d.size}for(;s;)s=a(s)}function Ui(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",$n(e,"gutterChanged",e)}function Gi(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Kn(e)+"px"}function qi(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Pr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Ki(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=ot(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild($("div",[$("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Ui(e.display),!0}return!1}function Yi(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],s=null;if("string"!=typeof o&&(s=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:s})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Xi(e){var t=e.gutters,n=e.gutterSpecs;T(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,s=i.style,a=t.appendChild($("div",null,"CodeMirror-gutter "+o));s&&(a.style.cssText=s),"CodeMirror-linenumbers"==o&&(e.lineGutter=a,a.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Ui(e)}function Ji(e){Xi(e.display),Ir(e),qi(e)}function Qi(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=$("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=$("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=L("div",null,"CodeMirror-code"),o.selectionDiv=$("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=$("div",null,"CodeMirror-cursors"),o.measure=$("div",null,"CodeMirror-measure"),o.lineMeasure=$("div",null,"CodeMirror-measure"),o.lineSpace=L("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=L("div",[o.lineSpace],"CodeMirror-lines");o.mover=$("div",[c],null,"position: relative"),o.sizer=$("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=$("div",null,null,"position: absolute; height: "+Z+"px; width: 1px;"),o.gutters=$("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=$("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=$("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),o.wrapper.setAttribute("translate","no"),s&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&y||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Yi(i.gutters,i.lineNumbers),Xi(o),r.init(o)}Ii.prototype.signal=function(e,t){xe(e,t)&&this.events.push(arguments)},Ii.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ye.apply(null,this.events[e])};var eo=0,to=null;function no(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function ro(e){var t=no(e);return t.x*=to,t.y*=to,t}function io(e,t){u&&h>=102&&(null==e.display.chromeScrollHack?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout((function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""}),100));var r=no(t),i=r.x,o=r.y,s=to;0===t.deltaMode&&(i=t.deltaX,o=t.deltaY,s=1);var a=e.display,c=a.scroller,f=c.scrollWidth>c.clientWidth,p=c.scrollHeight>c.clientHeight;if(i&&f||o&&p){if(o&&b&&l)e:for(var g=t.target,m=a.view;g!=c;g=g.parentNode)for(var v=0;v<m.length;v++)if(m[v].node==g){e.display.currentWheelTarget=g;break e}if(i&&!n&&!d&&null!=s)return o&&p&&fi(e,Math.max(0,c.scrollTop+o*s)),gi(e,Math.max(0,c.scrollLeft+i*s)),(!o||o&&p)&&Ce(t),void(a.wheelStartX=null);if(o&&null!=s){var y=o*s,w=e.doc.scrollTop,x=w+a.wrapper.clientHeight;y<0?w=Math.max(0,w+y-50):x=Math.min(e.doc.height,x+y+50),Vi(e,{top:w,bottom:x})}eo<20&&0!==t.deltaMode&&(null==a.wheelStartX?(a.wheelStartX=c.scrollLeft,a.wheelStartY=c.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=c.scrollLeft-a.wheelStartX,t=c.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(to=(to*eo+n)/(eo+1),++eo)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}s?to=-.53:n?to=15:u?to=-.7:f&&(to=-1/3);var oo=function(e,t){this.ranges=e,this.primIndex=t};oo.prototype.primary=function(){return this.ranges[this.primIndex]},oo.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!lt(n.anchor,r.anchor)||!lt(n.head,r.head))return!1}return!0},oo.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new so(ct(this.ranges[t].anchor),ct(this.ranges[t].head));return new oo(e,this.primIndex)},oo.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},oo.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(at(t,r.from())>=0&&at(e,r.to())<=0)return n}return-1};var so=function(e,t){this.anchor=e,this.head=t};function ao(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return at(e.from(),t.from())})),n=H(t,i);for(var o=1;o<t.length;o++){var s=t[o],a=t[o-1],l=at(a.to(),s.from());if(r&&!s.empty()?l>0:l>=0){var c=ht(a.from(),s.from()),u=ut(a.to(),s.to()),h=a.empty()?s.from()==s.head:a.from()==a.head;o<=n&&--n,t.splice(--o,2,new so(h?u:c,h?c:u))}}return new oo(t,n)}function lo(e,t){return new oo([new so(e,t||e)],0)}function co(e){return e.text?st(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function uo(e,t){if(at(e,t.from)<0)return e;if(at(e,t.to)<=0)return co(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=co(t).ch-t.to.ch),st(n,r)}function ho(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new so(uo(i.anchor,t),uo(i.head,t)))}return ao(e.cm,n,e.sel.primIndex)}function fo(e,t,n){return e.line==t.line?st(n.line,e.ch-t.ch+n.ch):st(n.line+(e.line-t.line),e.ch)}function po(e,t,n){for(var r=[],i=st(e.first,0),o=i,s=0;s<t.length;s++){var a=t[s],l=fo(a.from,i,o),c=fo(co(a),i,o);if(i=a.to,o=c,"around"==n){var u=e.sel.ranges[s],h=at(u.head,u.anchor)<0;r[s]=new so(h?c:l,h?l:c)}else r[s]=new so(l,l)}return new oo(r,e.sel.primIndex)}function go(e){e.doc.mode=We(e.options,e.doc.modeOption),mo(e)}function mo(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ji(e,100),e.state.modeGen++,e.curOp&&Ir(e)}function vo(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function yo(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){hn(e,n,i,r),$n(e,"change",e,t)}function s(e,t){for(var n=[],o=e;o<t;++o)n.push(new un(c[o],i(o),r));return n}var a=t.from,l=t.to,c=t.text,u=Je(e,a.line),h=Je(e,l.line),d=Y(c),f=i(c.length-1),p=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(vo(e,t)){var g=s(0,c.length-1);o(h,h.text,f),p&&e.remove(a.line,p),g.length&&e.insert(a.line,g)}else if(u==h)if(1==c.length)o(u,u.text.slice(0,a.ch)+d+u.text.slice(l.ch),f);else{var m=s(1,c.length-1);m.push(new un(d+u.text.slice(l.ch),f,r)),o(u,u.text.slice(0,a.ch)+c[0],i(0)),e.insert(a.line+1,m)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),i(0)),e.remove(a.line+1,p);else{o(u,u.text.slice(0,a.ch)+c[0],i(0)),o(h,d+h.text.slice(l.ch),f);var v=s(1,c.length-1);p>1&&e.remove(a.line+1,p-1),e.insert(a.line+1,v)}$n(e,"change",e,t)}function bo(e,t,n){function r(e,i,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=i){var l=o&&a.sharedHist;n&&!l||(t(a.doc,l),r(a.doc,e,l))}}}r(e,null,!0)}function wo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Dr(e),go(e),xo(e),e.options.direction=t.direction,e.options.lineWrapping||cn(e),e.options.mode=t.modeOption,Ir(e)}function xo(e){("rtl"==e.doc.direction?M:E)(e.display.lineDiv,"CodeMirror-rtl")}function ko(e){Ri(e,(function(){xo(e),Ir(e)}))}function Co(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function So(e,t){var n={from:ct(t.from),to:co(t),text:Qe(e,t.from,t.to)};return Lo(e,n,t.from.line,t.to.line+1),bo(e,(function(e){return Lo(e,n,t.from.line,t.to.line+1)}),!0),n}function _o(e){for(;e.length&&Y(e).ranges;)e.pop()}function Oo(e,t){return t?(_o(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}function Eo(e,t,n,r){var i=e.history;i.undone.length=0;var o,s,a=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=Oo(i,i.lastOp==r)))s=Y(o.changes),0==at(t.from,t.to)&&0==at(t.from,s.to)?s.to=co(t):o.changes.push(So(e,t));else{var l=Y(i.done);for(l&&l.ranges||$o(e.sel,i.done),o={changes:[So(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||ye(e,"historyAdded")}function To(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ao(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||To(e,o,Y(i.done),t))?i.done[i.done.length-1]=t:$o(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&_o(i.undone)}function $o(e,t){var n=Y(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Lo(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function Ro(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Po(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Ro(n[i]));return r}function Mo(e,t){var n=Po(e,t),r=Bt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(n[i]=s)}return n}function Do(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?oo.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var h in c)(u=h.match(/^spans_(\d+)$/))&&H(t,Number(u[1]))>-1&&(Y(a)[h]=c[h],delete c[h])}}}return r}function jo(e,t,n,r){if(r){var i=e.anchor;if(n){var o=at(t,i)<0;o!=at(n,i)<0?(i=t,t=n):o!=at(t,n)<0&&(t=n)}return new so(i,t)}return new so(n||t,t)}function No(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),zo(e,new oo([jo(e.sel.primary(),t,n,i)],0),r)}function Io(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=jo(e.sel.ranges[o],t[o],null,i);zo(e,ao(e.cm,r,e.sel.primIndex),n)}function Fo(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,zo(e,ao(e.cm,i,e.sel.primIndex),r)}function Bo(e,t,n,r){zo(e,lo(t,n),r)}function Ho(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new so(ft(e,t[n].anchor),ft(e,t[n].head))},origin:n&&n.origin};return ye(e,"beforeSelectionChange",e,r),e.cm&&ye(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?ao(e.cm,r.ranges,r.ranges.length-1):t}function Zo(e,t,n){var r=e.history.done,i=Y(r);i&&i.ranges?(r[r.length-1]=t,Vo(e,t,n)):zo(e,t,n)}function zo(e,t,n){Vo(e,t,n),Ao(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Vo(e,t,n){(xe(e,"beforeSelectionChange")||e.cm&&xe(e.cm,"beforeSelectionChange"))&&(t=Ho(e,t,n));var r=n&&n.bias||(at(t.primary().head,e.sel.primary().head)<0?-1:1);Wo(e,Go(e,t,r,!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||li(e.cm)}function Wo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,we(e.cm)),$n(e,"cursorActivity",e))}function Uo(e){Wo(e,Go(e,e.sel,null,!1))}function Go(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Ko(e,s.anchor,a&&a.anchor,n,r),c=s.head==s.anchor?l:Ko(e,s.head,a&&a.head,n,r);(i||l!=s.anchor||c!=s.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new so(l,c))}return i?ao(e.cm,i,t.primIndex):t}function qo(e,t,n,r,i){var o=Je(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==a.from||(c?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(u?a.to>=t.ch:a.to>t.ch))){if(i&&(ye(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var h=l.find(r<0?1:-1),d=void 0;if((r<0?u:c)&&(h=Yo(e,h,-r,h&&h.line==t.line?o:null)),h&&h.line==t.line&&(d=at(h,n))&&(r<0?d<0:d>0))return qo(e,h,t,r,i)}var f=l.find(r<0?-1:1);return(r<0?c:u)&&(f=Yo(e,f,r,f.line==t.line?o:null)),f?qo(e,f,t,r,i):null}}return t}function Ko(e,t,n,r,i){var o=r||1;return qo(e,t,n,o,i)||!i&&qo(e,t,n,o,!0)||qo(e,t,n,-o,i)||!i&&qo(e,t,n,-o,!0)||(e.cantEdit=!0,st(e.first,0))}function Yo(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?ft(e,st(t.line-1)):null:n>0&&t.ch==(r||Je(e,t.line)).text.length?t.line<e.first+e.size-1?st(t.line+1,0):null:new st(t.line,t.ch+n)}function Xo(e){e.setSelection(st(e.firstLine(),0),st(e.lastLine()),V)}function Jo(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=ft(e,t)),n&&(r.to=ft(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),ye(e,"beforeChange",e,r),e.cm&&ye(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Qo(e,t,n){if(e.cm){if(!e.cm.curOp)return Pi(e.cm,Qo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(xe(e,"beforeChange")||e.cm&&xe(e.cm,"beforeChange"))||(t=Jo(e,t,!0))){var r=$t&&!n&&Zt(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)es(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else es(e,t)}}function es(e,t){if(1!=t.text.length||""!=t.text[0]||0!=at(t.from,t.to)){var n=ho(e,t);Eo(e,t,n,e.cm?e.cm.curOp.id:NaN),rs(e,t,n,Bt(e,t));var r=[];bo(e,(function(e,n){n||-1!=H(r,e.history)||(ls(e.history,t),r.push(e.history)),rs(e,t,null,Bt(e,t))}))}}function ts(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,s=e.sel,a="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<a.length&&(i=a[c],n?!i.ranges||i.equals(e.sel):i.ranges);c++);if(c!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=a.pop()).ranges){if(r)return void a.push(i);break}if($o(i,l),n&&!i.equals(e.sel))return void zo(e,i,{clearRedo:!1});s=i}var u=[];$o(s,l),l.push({changes:u,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var h=xe(e,"beforeChange")||e.cm&&xe(e.cm,"beforeChange"),d=function(n){var r=i.changes[n];if(r.origin=t,h&&!Jo(e,r,!1))return a.length=0,{};u.push(So(e,r));var o=n?ho(e,r):Y(a);rs(e,r,o,Mo(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:co(r)});var s=[];bo(e,(function(e,t){t||-1!=H(s,e.history)||(ls(e.history,r),s.push(e.history)),rs(e,r,null,Mo(e,r))}))},f=i.changes.length-1;f>=0;--f){var p=d(f);if(p)return p.v}}}}function ns(e,t){if(0!=t&&(e.first+=t,e.sel=new oo(X(e.sel.ranges,(function(e){return new so(st(e.anchor.line+t,e.anchor.ch),st(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Ir(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Fr(e.cm,r,"gutter")}}function rs(e,t,n,r){if(e.cm&&!e.cm.curOp)return Pi(e.cm,rs)(e,t,n,r);if(t.to.line<e.first)ns(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ns(e,i),t={from:st(e.first,0),to:st(t.to.line+i,t.to.ch),text:[Y(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:st(o,Je(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Qe(e,t.from,t.to),n||(n=ho(e,t)),e.cm?is(e.cm,t,r):yo(e,t,r),Vo(e,n,V),e.cantEdit&&Ko(e,st(e.firstLine(),0))&&(e.cantEdit=!1)}}function is(e,t,n){var r=e.doc,i=e.display,o=t.from,s=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=nt(Qt(Je(r,o.line))),r.iter(l,s.line+1,(function(e){if(e==i.maxLine)return a=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&we(e),yo(r,t,n,Mr(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,(function(e){var t=ln(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,a=!1)})),a&&(e.curOp.updateMaxLine=!0)),At(r,o.line),ji(e,400);var c=t.text.length-(s.line-o.line)-1;t.full?Ir(e):o.line!=s.line||1!=t.text.length||vo(e.doc,t)?Ir(e,o.line,s.line+1,c):Fr(e,o.line,"text");var u=xe(e,"changes"),h=xe(e,"change");if(h||u){var d={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};h&&$n(e,"change",e,d),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function os(e,t,n,r,i){var o;r||(r=n),at(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Qo(e,{from:n,to:r,text:t,origin:i})}function ss(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function as(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],s=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)ss(o.ranges[a].anchor,t,n,r),ss(o.ranges[a].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=st(c.from.line+r,c.from.ch),c.to=st(c.to.line+r,c.to.ch);else if(t<=c.to.line){s=!1;break}}s||(e.splice(0,i+1),i=0)}}}function ls(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;as(e.done,n,r,i),as(e.undone,n,r,i)}function cs(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Je(e,dt(e,t)):i=nt(t),null==i?null:(r(o,i)&&e.cm&&Fr(e.cm,i,n),o)}function us(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function hs(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}so.prototype.from=function(){return ht(this.anchor,this.head)},so.prototype.to=function(){return ut(this.anchor,this.head)},so.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},us.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,dn(i),$n(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},hs.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),s=r.height;if(r.removeInner(e,o),this.height-=s-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof us))){var a=[];this.collapse(a),this.children=[new us(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var s=i.lines.length%25+25,a=s;a<i.lines.length;){var l=new us(i.lines.slice(a,a+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new hs(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=H(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new hs(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var s=Math.min(t,o-e);if(i.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var ds=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function fs(e,t,n){an(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ai(e,n)}function ps(e,t,n,r){var i=new ds(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),cs(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!on(e,t)){var r=an(t)<e.scrollTop;tt(t,t.height+Vn(i)),r&&ai(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&$n(o,"lineWidgetAdded",o,i,"number"==typeof t?t:nt(t)),i}ds.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=nt(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=Vn(this);tt(n,Math.max(0,n.height-o)),e&&(Ri(e,(function(){fs(e,n,-o),Fr(e,r,"widget")})),$n(e,"lineWidgetCleared",e,this,r))}},ds.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Vn(this)-t;i&&(on(this.doc,r)||tt(r,r.height+i),n&&Ri(n,(function(){n.curOp.forceUpdate=!0,fs(n,r,i),$n(n,"lineWidgetChanged",n,e,nt(r))})))},ke(ds);var gs=0,ms=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++gs};function vs(e,t,n,r,i){if(r&&r.shared)return bs(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Pi(e.cm,vs)(e,t,n,r,i);var o=new ms(e,i),s=at(t,n);if(r&&I(r,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=L("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Jt(e,t.line,t,n,o)||t.line!=n.line&&Jt(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Pt()}o.addToHistory&&Eo(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,(function(r){c&&o.collapsed&&!c.options.lineWrapping&&Qt(r)==c.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&tt(r,0),Nt(r,new Mt(o,l==t.line?t.ch:null,l==n.line?n.ch:null),e.cm&&e.cm.curOp),++l})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){on(e,t)&&tt(t,0)})),o.clearOnEnter&&ge(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Rt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++gs,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)Ir(c,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=n.line;u++)Fr(c,u,"text");o.atomic&&Uo(c.doc),$n(c,"markerAdded",c,o)}return o}ms.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Si(e),xe(this,"clear")){var n=this.find();n&&$n(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Dt(s.markedSpans,this);e&&!this.collapsed?Fr(e,nt(s),"text"):e&&(null!=a.to&&(i=nt(s)),null!=a.from&&(r=nt(s))),s.markedSpans=jt(s.markedSpans,a),null==a.from&&this.collapsed&&!on(this.doc,s)&&e&&tt(s,$r(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Qt(this.lines[l]),u=ln(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Ir(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Uo(e.doc)),e&&$n(e,"markerCleared",e,this,r,i),t&&_i(e),this.parent&&this.parent.clear()}},ms.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],s=Dt(o.markedSpans,this);if(null!=s.from&&(n=st(t?o:nt(o),s.from),-1==e))return n;if(null!=s.to&&(r=st(t?o:nt(o),s.to),1==e))return r}return n&&{from:n,to:r}},ms.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Ri(r,(function(){var i=t.line,o=nt(t.line),s=nr(r,o);if(s&&(hr(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!on(n.doc,i)&&null!=n.height){var a=n.height;n.height=null;var l=Vn(n)-a;l&&tt(i,i.height+l)}$n(r,"markerChanged",r,e)}))},ms.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=H(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ms.prototype.detachLine=function(e){if(this.lines.splice(H(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ke(ms);var ys=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function bs(e,t,n,r,i){(r=I(r)).shared=!1;var o=[vs(e,t,n,r,i)],s=o[0],a=r.widgetNode;return bo(e,(function(e){a&&(r.widgetNode=a.cloneNode(!0)),o.push(vs(e,ft(e,t),ft(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=Y(o)})),new ys(o,s)}function ws(e){return e.findMarks(st(e.first,0),e.clipPos(st(e.lastLine())),(function(e){return e.parent}))}function xs(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),s=e.clipPos(i.to);if(at(o,s)){var a=vs(e,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}function ks(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];bo(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==H(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}ys.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();$n(this,"clear")}},ys.prototype.find=function(e,t){return this.primary.find(e,t)},ke(ys);var Cs=0,Ss=function e(t,n,r,i,o){if(!(this instanceof e))return new e(t,n,r,i,o);null==r&&(r=0),hs.call(this,[new us([new un("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var s=st(r,0);this.sel=lo(s),this.history=new Co(null),this.id=++Cs,this.modeOption=n,this.lineSep=i,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),yo(this,{from:s,to:s,text:t}),zo(this,lo(s),V)};Ss.prototype=ee(hs.prototype,{constructor:Ss,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=et(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Di((function(e){var t=st(this.first,0),n=this.first+this.size-1;Qo(this,{from:t,to:st(n,Je(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&ci(this.cm,0,0),zo(this,lo(t),V)})),replaceRange:function(e,t,n,r){os(this,e,t=ft(this,t),n=n?ft(this,n):t,r)},getRange:function(e,t,n){var r=Qe(this,ft(this,e),ft(this,t));return!1===n?r:""===n?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(it(this,e))return Je(this,e)},getLineNumber:function(e){return nt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Je(this,e)),Qt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ft(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Di((function(e,t,n){Bo(this,ft(this,"number"==typeof e?st(e,t||0):e),null,n)})),setSelection:Di((function(e,t,n){Bo(this,ft(this,e),ft(this,t||e),n)})),extendSelection:Di((function(e,t,n){No(this,ft(this,e),t&&ft(this,t),n)})),extendSelections:Di((function(e,t){Io(this,gt(this,e),t)})),extendSelectionsBy:Di((function(e,t){Io(this,gt(this,X(this.sel.ranges,e)),t)})),setSelections:Di((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new so(ft(this,e[i].anchor),ft(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),zo(this,ao(this.cm,r,t),n)}})),addSelection:Di((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new so(ft(this,e),ft(this,t||e))),zo(this,ao(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Qe(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Qe(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Di((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var s=i.ranges[o];r[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:n}}for(var a=t&&"end"!=t&&po(this,r,t),l=r.length-1;l>=0;l--)Qo(this,r[l]);a?Zo(this,a):this.cm&&li(this.cm)})),undo:Di((function(){ts(this,"undo")})),redo:Di((function(){ts(this,"redo")})),undoSelection:Di((function(){ts(this,"undo",!0)})),redoSelection:Di((function(){ts(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Co(this.history),bo(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Do(this.history.done),undone:Do(this.history.undone)}},setHistory:function(e){var t=this.history=new Co(this.history);t.done=Do(e.done.slice(0),null,!0),t.undone=Do(e.undone.slice(0),null,!0)},setGutterMarker:Di((function(e,t,n){return cs(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&ie(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:Di((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&cs(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,ie(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!it(this,e))return null;if(t=e,!(e=Je(this,e)))return null}else if(null==(t=nt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Di((function(e,t,n){return cs(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(_(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:Di((function(e,t,n){return cs(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(_(n));if(!o)return!1;var s=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0}))})),addLineWidget:Di((function(e,t,n){return ps(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return vs(this,ft(this,e),ft(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return vs(this,e=ft(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Je(this,(e=ft(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=ft(this,e),t=ft(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),ft(this,st(n,t))},indexFromPos:function(e){var t=(e=ft(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new Ss(et(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Ss(et(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],xs(r,ws(this)),r},unlinkDoc:function(e){if(e instanceof Ia&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),ks(ws(this));break}if(e.history==this.history){var n=[e.id];bo(e,(function(e){return n.push(e.id)}),!0),e.history=new Co(null),e.history.done=Do(this.history.done,n),e.history.undone=Do(this.history.undone,n)}},iterLinkedDocs:function(e){bo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):De(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Di((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&ko(this.cm))}))}),Ss.prototype.eachLine=Ss.prototype.iter;var _s=0;function Os(e){var t=this;if(As(t),!be(t,e)&&!Wn(t.display,e)){Ce(e),s&&(_s=+new Date);var n=jr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,l=function(){++a==i&&Pi(t,(function(){var e={from:n=ft(t.doc,n),to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};Qo(t.doc,e),Zo(t.doc,lo(ft(t.doc,n),ft(t.doc,co(e))))}))()},c=function(e,n){if(t.options.allowDropFileTypes&&-1==H(t.options.allowDropFileTypes,e.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[n]=e),l()},r.readAsText(e)}},u=0;u<r.length;u++)c(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var h=e.dataTransfer.getData("Text");if(h){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),Vo(t.doc,lo(n,n)),d)for(var f=0;f<d.length;++f)os(t.doc,"",d[f].anchor,d[f].head,"drag");t.replaceSelection(h,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Es(e,t){if(s&&(!e.state.draggingText||+new Date-_s<100))Oe(t);else if(!be(e,t)&&!Wn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var n=$("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}function Ts(e,t){var n=jr(e,t);if(n){var r=document.createDocumentFragment();Ur(e,n,r),e.display.dragCursor||(e.display.dragCursor=$("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),A(e.display.dragCursor,r)}}function As(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function $s(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Ls=!1;function Rs(){Ls||(Ps(),Ls=!0)}function Ps(){var e;ge(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,$s(Ms)}),100))})),ge(window,"blur",(function(){return $s(Qr)}))}function Ms(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ds={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},js=0;js<10;js++)Ds[js+48]=Ds[js+96]=String(js);for(var Ns=65;Ns<=90;Ns++)Ds[Ns]=String.fromCharCode(Ns);for(var Is=1;Is<=12;Is++)Ds[Is+111]=Ds[Is+63235]="F"+Is;var Fs={};function Bs(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Hs(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=X(n.split(" "),Bs),o=0;o<i.length;o++){var s=void 0,a=void 0;o==i.length-1?(a=i.join(" "),s=r):(a=i.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var c in t)e[c]=t[c];return e}function Zs(e,t,n,r){var i=(t=Us(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Zs(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var s=Zs(e,t.fallthrough[o],n,r);if(s)return s}}}function zs(e){var t="string"==typeof e?e:Ds[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Vs(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(C?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(C?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Ws(e,t){if(d&&34==e.keyCode&&e.char)return!1;var n=Ds[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Vs(n,e,t))}function Us(e){return"string"==typeof e?Fs[e]:e}function Gs(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&at(o.from,Y(r).to)<=0;){var s=r.pop();if(at(s.from,o.from)<0){o.from=s.from;break}}r.push(o)}Ri(e,(function(){for(var t=r.length-1;t>=0;t--)os(e.doc,"",r[t].from,r[t].to,"+delete");li(e)}))}function qs(e,t,n){var r=ae(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Ks(e,t,n){var r=qs(e,t.ch,n);return null==r?null:new st(t.line,r,n<0?"after":"before")}function Ys(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=fe(n,t.doc.direction);if(o){var s,a=i<0?Y(o):o[0],l=i<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==t.doc.direction){var c=rr(t,n);s=i<0?n.text.length-1:0;var u=ir(t,c,s).top;s=le((function(e){return ir(t,c,e).top==u}),i<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=qs(n,s,1))}else s=i<0?a.to:a.from;return new st(r,s,l)}}return new st(r,i<0?n.text.length:0,i<0?"before":"after")}function Xs(e,t,n,r){var i=fe(t,e.doc.direction);if(!i)return Ks(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=he(i,n.ch,n.sticky),s=i[o];if("ltr"==e.doc.direction&&s.level%2==0&&(r>0?s.to>n.ch:s.from<n.ch))return Ks(t,n,r);var a,l=function(e,n){return qs(t,e instanceof st?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(a=a||rr(e,t),_r(e,t,a,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==s.level){var h=1==s.level==r<0,d=l(n,h?1:-1);if(null!=d&&(h?d<=s.to&&d<=u.end:d>=s.from&&d>=u.begin)){var f=h?"before":"after";return new st(n.line,d,f)}}var p=function(e,t,r){for(var o=function(e,t){return t?new st(n.line,l(e,1),"before"):new st(n.line,e,"after")};e>=0&&e<i.length;e+=t){var s=i[e],a=t>0==(1!=s.level),c=a?r.begin:l(r.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),r.begin<=c&&c<r.end)return o(c,a)}},g=p(o+r,r,u);if(g)return g;var m=r>0?u.end:l(u.begin,-1);return null==m||r>0&&m==t.text.length||!(g=p(r>0?0:i.length-1,r,c(m)))?null:g}Fs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Fs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Fs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Fs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Fs.default=b?Fs.macDefault:Fs.pcDefault;var Js={selectAll:Xo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return Gs(e,(function(t){if(t.empty()){var n=Je(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:st(t.head.line+1,0)}:{from:t.head,to:st(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Gs(e,(function(t){return{from:st(t.from().line,0),to:ft(e.doc,st(t.to().line+1,0))}}))},delLineLeft:function(e){return Gs(e,(function(e){return{from:st(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Gs(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Gs(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(st(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(st(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Qs(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return ta(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return ea(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),U)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),U)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?ta(e,t.head):r}),U)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),s=F(e.getLine(o.line),o.ch,r);t.push(K(r-s%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ri(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=Je(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new st(i.line,i.ch-1)),i.ch>0)i=new st(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),st(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var s=Je(e.doc,i.line-1).text;s&&(i=new st(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),st(i.line-1,s.length-1),i,"+transpose"))}n.push(new so(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){return Ri(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);li(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Qs(e,t){var n=Je(e.doc,t),r=Qt(n);return r!=n&&(t=nt(r)),Ys(!0,e,r,t,1)}function ea(e,t){var n=Je(e.doc,t),r=en(n);return r!=n&&(t=nt(r)),Ys(!0,e,n,t,-1)}function ta(e,t){var n=Qs(e,t.line),r=Je(e.doc,n.line),i=fe(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return st(n.line,s?0:o,n.sticky)}return n}function na(e,t,n){if("string"==typeof t&&!(t=Js[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=z}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function ra(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Zs(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Zs(t,e.options.extraKeys,n,e)||Zs(t,e.options.keyMap,n,e)}var ia=new B;function oa(e,t,n,r){var i=e.state.keySeq;if(i){if(zs(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ia.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),sa(e,i+" "+t,n,r))return!0}return sa(e,t,n,r)}function sa(e,t,n,r){var i=ra(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&$n(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(Ce(n),Kr(e)),!!i}function aa(e,t){var n=Ws(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?oa(e,"Shift-"+n,t,(function(t){return na(e,t,!0)}))||oa(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return na(e,t)})):oa(e,n,t,(function(t){return na(e,t)})))}function la(e,t,n){return oa(e,"'"+n+"'",t,(function(t){return na(e,t,!0)}))}var ca=null;function ua(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=P(),be(t,e)))){s&&a<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=aa(t,e);d&&(ca=i?r:null,i||88!=r||Ne||!(b?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!b&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||ha(t)}}function ha(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(E(t,"CodeMirror-crosshair"),ve(document,"keyup",n),ve(document,"mouseover",n))}M(t,"CodeMirror-crosshair"),ge(document,"keyup",n),ge(document,"mouseover",n)}function da(e){16==e.keyCode&&(this.doc.sel.shift=!1),be(this,e)}function fa(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Wn(t.display,e)||be(t,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(d&&n==ca)return ca=null,void Ce(e);if(!d||e.which&&!(e.which<10)||!aa(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(la(t,e,i)||t.display.input.onKeyPress(e))}}}var pa,ga,ma=400,va=function(e,t,n){this.time=e,this.pos=t,this.button=n};function ya(e,t){var n=+new Date;return ga&&ga.compare(n,e,t)?(pa=ga=null,"triple"):pa&&pa.compare(n,e,t)?(ga=new va(n,e,t),pa=null,"double"):(pa=new va(n,e,t),ga=null,"single")}function ba(e){var t=this,n=t.display;if(!(be(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Wn(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Ta(t,e)){var r=jr(t,e),i=Te(e),o=r?ya(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&wa(t,i,r,o,e)||(1==i?r?ka(t,r,o,e):Ee(e)==n.scroller&&Ce(e):2==i?(r&&No(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(S?t.display.input.onContextMenu(e):Xr(t)))}}function wa(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),oa(e,Vs(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=Js[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=z}finally{e.state.suppressEdits=!1}return r}))}function xa(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=w?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=b?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(b?n.altKey:n.ctrlKey)),i}function ka(e,t,n,r){s?setTimeout(N(Yr,e),0):e.curOp.focus=P();var i,o=xa(e,n,r),a=e.doc.sel;e.options.dragDrop&&Le&&!e.isReadOnly()&&"single"==n&&(i=a.contains(t))>-1&&(at((i=a.ranges[i]).from(),t)<0||t.xRel>0)&&(at(i.to(),t)>0||t.xRel<0)?Ca(e,r,t,o):_a(e,r,t,o)}function Ca(e,t,n,r){var i=e.display,o=!1,c=Pi(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Xr(e)),ve(i.wrapper.ownerDocument,"mouseup",c),ve(i.wrapper.ownerDocument,"mousemove",u),ve(i.scroller,"dragstart",h),ve(i.scroller,"drop",c),o||(Ce(t),r.addNew||No(e.doc,n,null,null,r.extend),l&&!f||s&&9==a?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},h=function(){return o=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=c,c.copy=!r.moveOnDrag,ge(i.wrapper.ownerDocument,"mouseup",c),ge(i.wrapper.ownerDocument,"mousemove",u),ge(i.scroller,"dragstart",h),ge(i.scroller,"drop",c),e.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}function Sa(e,t,n){if("char"==n)return new so(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new so(st(t.line,0),ft(e.doc,st(t.line+1,0)));var r=n(e,t);return new so(r.from,r.to)}function _a(e,t,n,r){s&&Xr(e);var i=e.display,o=e.doc;Ce(t);var a,l,c=o.sel,u=c.ranges;if(r.addNew&&!r.extend?(l=o.sel.contains(n),a=l>-1?u[l]:new so(n,n)):(a=o.sel.primary(),l=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new so(n,n)),n=jr(e,t,!0,!0),l=-1;else{var h=Sa(e,n,r.unit);a=r.extend?jo(a,h.anchor,h.head,r.extend):h}r.addNew?-1==l?(l=u.length,zo(o,ao(e,u.concat([a]),l),{scroll:!1,origin:"*mouse"})):u.length>1&&u[l].empty()&&"char"==r.unit&&!r.extend?(zo(o,ao(e,u.slice(0,l).concat(u.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):Fo(o,l,a,W):(l=0,zo(o,new oo([a],0),W),c=o.sel);var d=n;function f(t){if(0!=at(d,t))if(d=t,"rectangle"==r.unit){for(var i=[],s=e.options.tabSize,u=F(Je(o,n.line).text,n.ch,s),h=F(Je(o,t.line).text,t.ch,s),f=Math.min(u,h),p=Math.max(u,h),g=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));g<=m;g++){var v=Je(o,g).text,y=G(v,f,s);f==p?i.push(new so(st(g,y),st(g,y))):v.length>y&&i.push(new so(st(g,y),st(g,G(v,p,s))))}i.length||i.push(new so(n,n)),zo(o,ao(e,c.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,w=a,x=Sa(e,t,r.unit),k=w.anchor;at(x.anchor,k)>0?(b=x.head,k=ht(w.from(),x.anchor)):(b=x.anchor,k=ut(w.to(),x.head));var C=c.ranges.slice(0);C[l]=Oa(e,new so(ft(o,k),b)),zo(o,ao(e,C,l),W)}}var p=i.wrapper.getBoundingClientRect(),g=0;function m(t){var n=++g,s=jr(e,t,!0,"rectangle"==r.unit);if(s)if(0!=at(s,d)){e.curOp.focus=P(),f(s);var a=ni(i,o);(s.line>=a.to||s.line<a.from)&&setTimeout(Pi(e,(function(){g==n&&m(t)})),150)}else{var l=t.clientY<p.top?-20:t.clientY>p.bottom?20:0;l&&setTimeout(Pi(e,(function(){g==n&&(i.scroller.scrollTop+=l,m(t))})),50)}}function v(t){e.state.selectingText=!1,g=1/0,t&&(Ce(t),i.input.focus()),ve(i.wrapper.ownerDocument,"mousemove",y),ve(i.wrapper.ownerDocument,"mouseup",b),o.history.lastSelOrigin=null}var y=Pi(e,(function(e){0!==e.buttons&&Te(e)?m(e):v(e)})),b=Pi(e,v);e.state.selectingText=b,ge(i.wrapper.ownerDocument,"mousemove",y),ge(i.wrapper.ownerDocument,"mouseup",b)}function Oa(e,t){var n=t.anchor,r=t.head,i=Je(e.doc,n.line);if(0==at(n,r)&&n.sticky==r.sticky)return t;var o=fe(i);if(!o)return t;var s=he(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return t;var l,c=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=he(o,r.ch,r.sticky),h=u-s||(r.ch-n.ch)*(1==a.level?-1:1);l=u==c-1||u==c?h<0:h>0}var d=o[c+(l?-1:0)],f=l==(1==d.level),p=f?d.from:d.to,g=f?"after":"before";return n.ch==p&&n.sticky==g?t:new so(new st(n.line,p,g),r)}function Ea(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Ce(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!xe(e,n))return _e(t);o-=a.top-s.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i)return ye(e,n,e,rt(e.doc,o),e.display.gutterSpecs[l].className,t),_e(t)}}function Ta(e,t){return Ea(e,t,"gutterClick",!0)}function Aa(e,t){Wn(e.display,t)||$a(e,t)||be(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function $a(e,t){return!!xe(e,"gutterContextMenu")&&Ea(e,t,"gutterContextMenu",!1)}function La(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),fr(e)}va.prototype.compare=function(e,t,n){return this.time+ma>e&&0==at(t,this.pos)&&n==this.button};var Ra={toString:function(){return"CodeMirror.Init"}},Pa={},Ma={};function Da(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=Ra&&i(e,t,n)}:i)}e.defineOption=n,e.Init=Ra,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,go(e)}),!0),n("indentUnit",2,go,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){mo(e),fr(e),Ir(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(st(r,o))}r++}));for(var i=n.length-1;i>=0;i--)os(e.doc,t,n[i],st(n[i].line,n[i].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ra&&e.refresh()})),n("specialCharPlaceholder",vn,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",y?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!x),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){La(e),Ji(e)}),!0),n("keyMap","default",(function(e,t,n){var r=Us(t),i=n!=Ra&&Us(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Na,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=Yi(t,e.options.lineNumbers),Ji(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Pr(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return bi(e)}),!0),n("scrollbarStyle","native",(function(e){ki(e),bi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Yi(e.options.gutters,t),Ji(e)}),!0),n("firstLineNumber",1,Ji,!0),n("lineNumberFormatter",(function(e){return e}),Ji,!0),n("showCursorWhenSelecting",!1,Vr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Qr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,ja),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Vr,!0),n("singleCursorHeightPerLine",!0,Vr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,mo,!0),n("addModeClass",!1,mo,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,mo,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}function ja(e,t,n){if(!t!=!(n&&n!=Ra)){var r=e.display.dragFunctions,i=t?ge:ve;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function Na(e){e.options.lineWrapping?(M(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(E(e.display.wrapper,"CodeMirror-wrap"),cn(e)),Dr(e),Ir(e),fr(e),setTimeout((function(){return bi(e)}),100)}function Ia(e,t){var n=this;if(!(this instanceof Ia))return new Ia(e,t);this.options=t=t?I(t):{},I(Pa,t,!1);var r=t.value;"string"==typeof r?r=new Ss(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Ia.inputStyles[t.inputStyle](this),o=this.display=new Qi(e,r,i,t);for(var c in o.wrapper.CodeMirror=this,La(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ki(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new B,keySeq:null,specialChars:null},t.autofocus&&!y&&o.input.focus(),s&&a<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Fa(this),Rs(),Si(this),this.curOp.forceUpdate=!0,wo(this,r),t.autofocus&&!y||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Jr(n)}),20):Qr(this),Ma)Ma.hasOwnProperty(c)&&Ma[c](this,t[c],Ra);Ki(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Ba.length;++u)Ba[u](this);_i(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Fa(e){var t=e.display;ge(t.scroller,"mousedown",Pi(e,ba)),ge(t.scroller,"dblclick",s&&a<11?Pi(e,(function(t){if(!be(e,t)){var n=jr(e,t);if(n&&!Ta(e,t)&&!Wn(e.display,t)){Ce(t);var r=e.findWordAt(n);No(e.doc,r.anchor,r.head)}}})):function(t){return be(e,t)||Ce(t)}),ge(t.scroller,"contextmenu",(function(t){return Aa(e,t)})),ge(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||Aa(e,n)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}ge(t.scroller,"touchstart",(function(i){if(!be(e,i)&&!o(i)&&!Ta(e,i)){t.input.ensurePolled(),clearTimeout(n);var s=+new Date;t.activeTouch={start:s,moved:!1,prev:s-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),ge(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),ge(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!Wn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o,s=e.coordsChar(t.activeTouch,"page");o=!r.prev||l(r,r.prev)?new so(s,s):!r.prev.prev||l(r,r.prev.prev)?e.findWordAt(s):new so(st(s.line,0),ft(e.doc,st(s.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),Ce(n)}i()})),ge(t.scroller,"touchcancel",i),ge(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(fi(e,t.scroller.scrollTop),gi(e,t.scroller.scrollLeft,!0),ye(e,"scroll",e))})),ge(t.scroller,"mousewheel",(function(t){return io(e,t)})),ge(t.scroller,"DOMMouseScroll",(function(t){return io(e,t)})),ge(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){be(e,t)||Oe(t)},over:function(t){be(e,t)||(Ts(e,t),Oe(t))},start:function(t){return Es(e,t)},drop:Pi(e,Os),leave:function(t){be(e,t)||As(e)}};var c=t.input.getField();ge(c,"keyup",(function(t){return da.call(e,t)})),ge(c,"keydown",Pi(e,ua)),ge(c,"keypress",Pi(e,fa)),ge(c,"focus",(function(t){return Jr(e,t)})),ge(c,"blur",(function(t){return Qr(e,t)}))}Ia.defaults=Pa,Ia.optionHandlers=Ma;var Ba=[];function Ha(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=wt(e,t).state:n="prev");var s=e.options.tabSize,a=Je(o,t),l=F(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&((c=o.mode.indent(i,a.text.slice(u.length),a.text))==z||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?F(Je(o,t-1).text,null,s):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var h="",d=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/s);f;--f)d+=s,h+="\t";if(d<c&&(h+=K(c-d)),h!=u)return os(o,h,st(t,0),st(t,u.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var g=o.sel.ranges[p];if(g.head.line==t&&g.head.ch<u.length){var m=st(t,u.length);Fo(o,p,new so(m,m));break}}}Ia.defineInitHook=function(e){return Ba.push(e)};var Za=null;function za(e){Za=e}function Va(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var s=+new Date-200,a="paste"==i||e.state.pasteIncoming>s,l=De(t),c=null;if(a&&r.ranges.length>1)if(Za&&Za.text.join("\n")==t){if(r.ranges.length%Za.text.length==0){c=[];for(var u=0;u<Za.text.length;u++)c.push(o.splitLines(Za.text[u]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=X(l,(function(e){return[e]})));for(var h=e.curOp.updateInput,d=r.ranges.length-1;d>=0;d--){var f=r.ranges[d],p=f.from(),g=f.to();f.empty()&&(n&&n>0?p=st(p.line,p.ch-n):e.state.overwrite&&!a?g=st(g.line,Math.min(Je(o,g.line).text.length,g.ch+Y(l).length)):a&&Za&&Za.lineWise&&Za.text.join("\n")==l.join("\n")&&(p=g=st(p.line,0)));var m={from:p,to:g,text:c?c[d%c.length]:l,origin:i||(a?"paste":e.state.cutIncoming>s?"cut":"+input")};Qo(e.doc,m),$n(e,"inputRead",e,m)}t&&!a&&Ua(e,t),li(e),e.curOp.updateInput<2&&(e.curOp.updateInput=h),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Wa(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||!t.hasFocus()||Ri(t,(function(){return Va(t,n,0,null,"paste")})),!0}function Ua(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=Ha(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Je(e.doc,i.head.line).text.slice(0,i.head.ch))&&(s=Ha(e,i.head.line,"smart"));s&&$n(e,"electricInput",e,i.head.line)}}}function Ga(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:st(i,0),head:st(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function qa(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Ka(){var e=$("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=$("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),qa(e),t}function Ya(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Pi(this,t[e])(this,n,i),ye(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Us(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Mi((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");J(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,Ir(this)})),removeOverlay:Mi((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Ir(this)}})),indentLine:Mi((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),it(this.doc,e)&&Ha(this,e,t,n)})),indentSelection:Mi((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Ha(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&li(this));else{var o=i.from(),s=i.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)Ha(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[r].from().ch>0&&Fo(this.doc,r,new so(o,c[r].to()),V)}}})),getTokenAt:function(e,t){return _t(this,e,t)},getLineTokens:function(e,t){return _t(this,st(e),t,!0)},getTokenTypeAt:function(e){e=ft(this.doc,e);var t,n=bt(this,Je(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=r+i>>1;if((s?n[2*s-1]:0)>=o)i=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}r=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var s=0;s<o[t].length;s++){var a=i[o[t][s]];a&&r.push(a)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var c=i._global[l];c.pred(o,this)&&-1==H(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(e,t){var n=this.doc;return wt(this,(e=dt(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return wr(this,null==e?n.head:"object"==typeof e?ft(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return br(this,ft(this.doc,e),t||"page")},coordsChar:function(e,t){return Cr(this,(e=yr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=yr(this,{top:e,left:0},t||"page").top,rt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=Je(this.doc,e)}else r=e;return vr(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-an(r):0)},defaultTextHeight:function(){return $r(this.display)},defaultCharWidth:function(){return Lr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,s=(e=wr(this,ft(this.doc,e))).bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)s=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==i?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&oi(this,{left:a,top:s,right:a+t.offsetWidth,bottom:s+t.offsetHeight})},triggerOnKeyDown:Mi(ua),triggerOnKeyPress:Mi(fa),triggerOnKeyUp:da,triggerOnMouseDown:Mi(ba),execCommand:function(e){if(Js.hasOwnProperty(e))return Js[e].call(null,this)},triggerElectric:Mi((function(e){Ua(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=ft(this.doc,e),s=0;s<t&&!(o=Xa(this.doc,o,i,n,r)).hitSide;++s);return o},moveH:Mi((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Xa(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),U)})),deleteH:Mi((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Gs(this,(function(n){var i=Xa(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var s=ft(this.doc,e),a=0;a<t;++a){var l=wr(this,s,"div");if(null==o?o=l.left:l.left=o,(s=Ja(this,l,i,n)).hitSide)break}return s},moveV:Mi((function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(s){if(o)return e<0?s.from():s.to();var a=wr(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var l=Ja(n,a,e,t);return"page"==t&&s==r.sel.primary()&&ai(n,br(n,l,"div").top-a.top),l}),U),i.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=i[s]})),findWordAt:function(e){var t=Je(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),s=re(o,i)?function(e){return re(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!re(e)};n>0&&s(t.charAt(n-1));)--n;for(;r<t.length&&s(t.charAt(r));)++r}return new so(st(e.line,n),st(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?M(this.display.cursorDiv,"CodeMirror-overwrite"):E(this.display.cursorDiv,"CodeMirror-overwrite"),ye(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==P()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Mi((function(e,t){ci(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Kn(this)-this.display.barHeight,width:e.scrollWidth-Kn(this)-this.display.barWidth,clientHeight:Xn(this),clientWidth:Yn(this)}},scrollIntoView:Mi((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:st(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?ui(this,e):di(this,e.from,e.to,e.margin)})),setSize:Mi((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&dr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Fr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,ye(this,"refresh",this)})),operation:function(e){return Ri(this,e)},startOperation:function(){return Si(this)},endOperation:function(){return _i(this)},refresh:Mi((function(){var e=this.display.cachedTextHeight;Ir(this),this.curOp.forceUpdate=!0,fr(this),ci(this,this.doc.scrollLeft,this.doc.scrollTop),Ui(this.display),(null==e||Math.abs(e-$r(this.display))>.5||this.options.lineWrapping)&&Dr(this),ye(this,"refresh",this)})),swapDoc:Mi((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),wo(this,e),fr(this),this.display.input.reset(),ci(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,$n(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ke(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}function Xa(e,t,n,r,i){var o=t,s=n,a=Je(e,t.line),l=i&&"rtl"==e.direction?-n:n;function c(){var n=t.line+l;return!(n<e.first||n>=e.first+e.size)&&(t=new st(n,t.ch,t.sticky),a=Je(e,n))}function u(o){var s;if("codepoint"==r){var u=a.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(u))s=null;else{var h=n>0?u>=55296&&u<56320:u>=56320&&u<57343;s=new st(t.line,Math.max(0,Math.min(a.text.length,t.ch+n*(h?2:1))),-n)}}else s=i?Xs(e.cm,a,t,n):Ks(a,t,n);if(null==s){if(o||!c())return!1;t=Ys(i,e.cm,a,t.line,l)}else t=s;return!0}if("char"==r||"codepoint"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var h=null,d="group"==r,f=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||u(!p);p=!1){var g=a.text.charAt(t.ch)||"\n",m=re(g,f)?"w":d&&"\n"==g?"n":!d||/\s/.test(g)?null:"p";if(!d||p||m||(m="s"),h&&h!=m){n<0&&(n=1,u(),t.sticky="after");break}if(m&&(h=m),n>0&&!u(!p))break}var v=Ko(e,t,o,s,!0);return lt(o,v)&&(v.hitSide=!0),v}function Ja(e,t,n,r){var i,o,s=e.doc,a=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*$r(e.display),3);i=(n>0?t.bottom:t.top)+n*c}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=Cr(e,a,i)).outside;){if(n<0?i<=0:i>=s.height){o.hitSide=!0;break}i+=5*n}return o}var Qa=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new B,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function el(e,t){var n=nr(e,t.line);if(!n||n.hidden)return null;var r=Je(e.doc,t.line),i=Qn(n,r,t.line),o=fe(r,e.doc.direction),s="left";o&&(s=he(o,t.ch)%2?"right":"left");var a=ar(i.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function tl(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function nl(e,t){return t&&(e.bad=!0),e}function rl(e,t,n,r,i){var o="",s=!1,a=e.doc.lineSeparator(),l=!1;function c(e){return function(t){return t.id==e}}function u(){s&&(o+=a,l&&(o+=a),s=l=!1)}function h(e){e&&(u(),o+=e)}function d(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void h(n);var o,f=t.getAttribute("cm-marker");if(f){var p=e.findMarks(st(r,0),st(i+1,0),c(+f));return void(p.length&&(o=p[0].find(0))&&h(Qe(e.doc,o.from,o.to).join(a)))}if("false"==t.getAttribute("contenteditable"))return;var g=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;g&&u();for(var m=0;m<t.childNodes.length;m++)d(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),g&&(s=!0)}else 3==t.nodeType&&h(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;d(t),t!=n;)t=t.nextSibling,l=!1;return o}function il(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return nl(e.clipPos(st(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return ol(o,t,n)}}function ol(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!R(r,t))return nl(st(nt(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?Y(e.rest):e.line;return nl(st(nt(o),o.text.length),i)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));a.parentNode!=r;)a=a.parentNode;var l=e.measure,c=l.maps;function u(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var u=nt(i<0?e.line:e.rest[i]),h=o[s]+r;return(r<0||a!=t)&&(h=o[s+(r?1:0)]),st(u,h)}}}var h=u(s,a,n);if(h)return nl(h,i);for(var d=a.nextSibling,f=s?s.nodeValue.length-n:0;d;d=d.nextSibling){if(h=u(d,d.firstChild,0))return nl(st(h.line,h.ch-f),i);f+=d.textContent.length}for(var p=a.previousSibling,g=n;p;p=p.previousSibling){if(h=u(p,p.firstChild,-1))return nl(st(h.line,h.ch+g),i);g+=p.textContent.length}}Qa.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function s(e){if(o(e)&&!be(r,e)){if(r.somethingSelected())za({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Ga(r);za({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,V),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var s=Za.text.join("\n");if(e.clipboardData.setData("Text",s),e.clipboardData.getData("Text")==s)return void e.preventDefault()}var a=Ka(),l=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),l.value=Za.text.join("\n");var c=P();j(l),setTimeout((function(){r.display.lineSpace.removeChild(a),c.focus(),c==i&&n.showPrimarySelection()}),50)}}i.contentEditable=!0,qa(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),ge(i,"paste",(function(e){!o(e)||be(r,e)||Wa(e,r)||a<=11&&setTimeout(Pi(r,(function(){return t.updateFromDOM()})),20)})),ge(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),ge(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),ge(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),ge(i,"touchstart",(function(){return n.forceCompositionEnd()})),ge(i,"input",(function(){t.composing||t.readFromDOMSoon()})),ge(i,"copy",s),ge(i,"cut",s)},Qa.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Qa.prototype.prepareSelection=function(){var e=Wr(this.cm,!1);return e.focus=P()==this.div,e},Qa.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Qa.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Qa.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var s=il(t,e.anchorNode,e.anchorOffset),a=il(t,e.focusNode,e.focusOffset);if(!s||s.bad||!a||a.bad||0!=at(ht(s,a),i)||0!=at(ut(s,a),o)){var l=t.display.view,c=i.line>=t.display.viewFrom&&el(t,i)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&el(t,o);if(!u){var h=l[l.length-1].measure,d=h.maps?h.maps[h.maps.length-1]:h.map;u={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(c&&u){var f,p=e.rangeCount&&e.getRangeAt(0);try{f=O(c.node,c.offset,u.offset,u.node)}catch(e){}f&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),p&&null==e.anchorNode?e.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Qa.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Qa.prototype.showMultipleSelections=function(e){A(this.cm.display.cursorDiv,e.cursors),A(this.cm.display.selectionDiv,e.selection)},Qa.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Qa.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return R(this.div,t)},Qa.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&P()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Qa.prototype.blur=function(){this.div.blur()},Qa.prototype.getField=function(){return this.div},Qa.prototype.supportsTouch=function(){return!0},Qa.prototype.receivedFocus=function(){var e=this,t=this;function n(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,n))}this.selectionInEditor()?setTimeout((function(){return e.pollSelection()}),20):Ri(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,n)},Qa.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Qa.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(v&&u&&this.cm.display.gutterSpecs.length&&tl(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=il(t,e.anchorNode,e.anchorOffset),r=il(t,e.focusNode,e.focusOffset);n&&r&&Ri(t,(function(){zo(t.doc,lo(n,r),V),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Qa.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>r.firstLine()&&(s=st(s.line-1,Je(r.doc,s.line-1).length)),a.ch==Je(r.doc,a.line).text.length&&a.line<r.lastLine()&&(a=st(a.line+1,0)),s.line<i.viewFrom||a.line>i.viewTo-1)return!1;s.line==i.viewFrom||0==(e=Nr(r,s.line))?(t=nt(i.view[0].line),n=i.view[0].node):(t=nt(i.view[e].line),n=i.view[e-1].node.nextSibling);var l,c,u=Nr(r,a.line);if(u==i.view.length-1?(l=i.viewTo-1,c=i.lineDiv.lastChild):(l=nt(i.view[u+1].line)-1,c=i.view[u+1].node.previousSibling),!n)return!1;for(var h=r.doc.splitLines(rl(r,n,c,t,l)),d=Qe(r.doc,st(t,0),st(l,Je(r.doc,l).text.length));h.length>1&&d.length>1;)if(Y(h)==Y(d))h.pop(),d.pop(),l--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),t++}for(var f=0,p=0,g=h[0],m=d[0],v=Math.min(g.length,m.length);f<v&&g.charCodeAt(f)==m.charCodeAt(f);)++f;for(var y=Y(h),b=Y(d),w=Math.min(y.length-(1==h.length?f:0),b.length-(1==d.length?f:0));p<w&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==h.length&&1==d.length&&t==s.line)for(;f&&f>s.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)f--,p++;h[h.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(f).replace(/\u200b+$/,"");var x=st(t,f),k=st(l,d.length?Y(d).length-p:0);return h.length>1||h[0]||at(x,k)?(os(r.doc,h,x,k,"+input"),!0):void 0},Qa.prototype.ensurePolled=function(){this.forceCompositionEnd()},Qa.prototype.reset=function(){this.forceCompositionEnd()},Qa.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Qa.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Qa.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Ri(this.cm,(function(){return Ir(e.cm)}))},Qa.prototype.setUneditable=function(e){e.contentEditable="false"},Qa.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Pi(this.cm,Va)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Qa.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Qa.prototype.onContextMenu=function(){},Qa.prototype.resetPosition=function(){},Qa.prototype.needsContentAttribute=!0;var sl=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new B,this.hasSelection=!1,this.composing=null};function al(e,t){if((t=t?I(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=P();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=a.getValue()}var i;if(e.form&&(ge(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s}}catch(e){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(ve(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var a=Ia((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return a}function ll(e){e.off=ve,e.on=ge,e.wheelEventPixels=ro,e.Doc=Ss,e.splitLines=De,e.countColumn=F,e.findColumn=G,e.isWordChar=ne,e.Pass=z,e.signal=ye,e.Line=un,e.changeEnd=co,e.scrollbarModel=xi,e.Pos=st,e.cmpPos=at,e.modes=Be,e.mimeModes=He,e.resolveMode=Ve,e.getMode=We,e.modeExtensions=Ue,e.extendMode=Ge,e.copyState=qe,e.startState=Ye,e.innerMode=Ke,e.commands=Js,e.keyMap=Fs,e.keyName=Ws,e.isModifierKey=zs,e.lookupKey=Zs,e.normalizeKeyMap=Hs,e.StringStream=Xe,e.SharedTextMarker=ys,e.TextMarker=ms,e.LineWidget=ds,e.e_preventDefault=Ce,e.e_stopPropagation=Se,e.e_stop=Oe,e.addClass=M,e.contains=R,e.rmClass=E,e.keyNames=Ds}sl.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!be(r,e)){if(r.somethingSelected())za({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Ga(r);za({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,V):(n.prevInput="",i.value=t.text.join("\n"),j(i))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),ge(i,"input",(function(){s&&a>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),ge(i,"paste",(function(e){be(r,e)||Wa(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),ge(i,"cut",o),ge(i,"copy",o),ge(e.scroller,"paste",(function(t){if(!Wn(e,t)&&!be(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),ge(e.lineSpace,"selectstart",(function(t){Wn(e,t)||Ce(t)})),ge(i,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),ge(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},sl.prototype.createField=function(e){this.wrapper=Ka(),this.textarea=this.wrapper.firstChild},sl.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},sl.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Wr(e);if(e.options.moveInputWithCursor){var i=wr(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+s.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+s.left-o.left))}return r},sl.prototype.showSelection=function(e){var t=this.cm.display;A(t.cursorDiv,e.cursors),A(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},sl.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&j(this.textarea),s&&a>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},sl.prototype.getField=function(){return this.textarea},sl.prototype.supportsTouch=function(){return!1},sl.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!y||P()!=this.textarea))try{this.textarea.focus()}catch(e){}},sl.prototype.blur=function(){this.textarea.blur()},sl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},sl.prototype.receivedFocus=function(){this.slowPoll()},sl.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},sl.prototype.fastPoll=function(){var e=!1,t=this;function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},sl.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||je(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===i||b&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(r.length,i.length);l<c&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return Ri(t,(function(){Va(t,i.slice(l),r.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},sl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},sl.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},sl.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=jr(n,e),c=r.scroller.scrollTop;if(o&&!d){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Pi(n,zo)(n.doc,lo(o),V);var u,h=i.style.cssText,f=t.wrapper.style.cssText,p=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=window.scrollY),r.input.focus(),l&&window.scrollTo(null,u),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=m,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),s&&a>=9&&g(),S?(Oe(e),ge(window,"mouseup",(function e(){ve(window,"mouseup",e),setTimeout(m,20)}))):setTimeout(m,50)}function g(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="\u200b"+(e?i.value:"");i.value="\u21da",i.value=o,t.prevInput=e?"":"\u200b",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function m(){if(t.contextMenuPending==m&&(t.contextMenuPending=!1,t.wrapper.style.cssText=f,i.style.cssText=h,s&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=i.selectionStart)){(!s||s&&a<9)&&g();var e=0,o=function o(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?Pi(n,Xo)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},sl.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},sl.prototype.setUneditable=function(){},sl.prototype.needsContentAttribute=!1,Da(Ia),Ya(Ia);var cl="iter insert remove copy getEditor constructor".split(" ");for(var ul in Ss.prototype)Ss.prototype.hasOwnProperty(ul)&&H(cl,ul)<0&&(Ia.prototype[ul]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ss.prototype[ul]));return ke(Ss),Ia.inputStyles={textarea:sl,contenteditable:Qa},Ia.defineMode=function(e){Ia.defaults.mode||"null"==e||(Ia.defaults.mode=e),Ze.apply(this,arguments)},Ia.defineMIME=ze,Ia.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Ia.defineMIME("text/plain","null"),Ia.defineExtension=function(e,t){Ia.prototype[e]=t},Ia.defineDocExtension=function(e,t){Ss.prototype[e]=t},Ia.fromTextArea=al,ll(Ia),Ia.version="5.65.6",Ia}()},6629:function(e,t,n){!function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}e.defineMode("css",(function(t,n){var r=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var i,o,s=t.indentUnit,a=n.tokenHooks,l=n.documentTypes||{},c=n.mediaTypes||{},u=n.mediaFeatures||{},h=n.mediaValueKeywords||{},d=n.propertyKeywords||{},f=n.nonStandardPropertyKeywords||{},p=n.fontProperties||{},g=n.counterDescriptors||{},m=n.colorKeywords||{},v=n.valueKeywords||{},y=n.allowNested,b=n.lineComment,w=!0===n.supportsAtComponent,x=!1!==t.highlightNonStandardPropertyKeywords;function k(e,t){return i=t,e}function C(e,t){var n=e.next();if(a[n]){var r=a[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),k("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?k(null,"compare"):'"'==n||"'"==n?(t.tokenize=S(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),k("atom","hash")):"!"==n?(e.match(/^\s*\w*/),k("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),k("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?k(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?k("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?k(null,n):e.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(e.current())&&(t.tokenize=_),k("variable callee","variable")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),k("property","word")):k(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),k("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?k("variable-2","variable-definition"):k("variable-2","variable")):e.match(/^\w+-/)?k("meta","meta"):void 0}function S(e){return function(t,n){for(var r,i=!1;null!=(r=t.next());){if(r==e&&!i){")"==e&&t.backUp(1);break}i=!i&&"\\"==r}return(r==e||!i&&")"!=e)&&(n.tokenize=null),k("string","string")}}function _(e,t){return e.next(),e.match(/^\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=S(")"),k(null,"(")}function O(e,t,n){this.type=e,this.indent=t,this.prev=n}function E(e,t,n,r){return e.context=new O(n,t.indentation()+(!1===r?0:s),e.context),n}function T(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function A(e,t,n){return R[n.context.type](e,t,n)}function $(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return A(e,t,n)}function L(e){var t=e.current().toLowerCase();o=v.hasOwnProperty(t)?"atom":m.hasOwnProperty(t)?"keyword":"variable"}var R={top:function(e,t,n){if("{"==e)return E(n,t,"block");if("}"==e&&n.context.prev)return T(n);if(w&&/@component/i.test(e))return E(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return E(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return E(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return E(n,t,"at");if("hash"==e)o="builtin";else if("word"==e)o="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return E(n,t,"interpolation");if(":"==e)return"pseudo";if(y&&"("==e)return E(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return d.hasOwnProperty(r)?(o="property","maybeprop"):f.hasOwnProperty(r)?(o=x?"string-2":"property","maybeprop"):y?(o=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(o+=" error","maybeprop")}return"meta"==e?"block":y||"hash"!=e&&"qualifier"!=e?R.top(e,t,n):(o="error","block")},maybeprop:function(e,t,n){return":"==e?E(n,t,"prop"):A(e,t,n)},prop:function(e,t,n){if(";"==e)return T(n);if("{"==e&&y)return E(n,t,"propBlock");if("}"==e||"{"==e)return $(e,t,n);if("("==e)return E(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)L(t);else if("interpolation"==e)return E(n,t,"interpolation")}else o+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?T(n):"word"==e?(o="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?$(e,t,n):")"==e?T(n):"("==e?E(n,t,"parens"):"interpolation"==e?E(n,t,"interpolation"):("word"==e&&L(t),"parens")},pseudo:function(e,t,n){return"meta"==e?"pseudo":"word"==e?(o="variable-3",n.context.type):A(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&l.hasOwnProperty(t.current())?(o="tag",n.context.type):R.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return E(n,t,"atBlock_parens");if("}"==e||";"==e)return $(e,t,n);if("{"==e)return T(n)&&E(n,t,y?"block":"top");if("interpolation"==e)return E(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();o="only"==r||"not"==r||"and"==r||"or"==r?"keyword":c.hasOwnProperty(r)?"attribute":u.hasOwnProperty(r)?"property":h.hasOwnProperty(r)?"keyword":d.hasOwnProperty(r)?"property":f.hasOwnProperty(r)?x?"string-2":"property":v.hasOwnProperty(r)?"atom":m.hasOwnProperty(r)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?$(e,t,n):"{"==e?T(n)&&E(n,t,y?"block":"top",!1):("word"==e&&(o="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?T(n):"{"==e||"}"==e?$(e,t,n,2):R.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?E(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(o="variable","restricted_atBlock_before"):A(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,T(n)):"word"==e?(o="@font-face"==n.stateArg&&!p.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!g.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(o="variable","keyframes"):"{"==e?E(n,t,"top"):A(e,t,n)},at:function(e,t,n){return";"==e?T(n):"{"==e||"}"==e?$(e,t,n):("word"==e?o="tag":"hash"==e&&(o="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?T(n):"{"==e||";"==e?$(e,t,n):("word"==e?o="variable":"variable"!=e&&"("!=e&&")"!=e&&(o="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:r?"block":"top",stateArg:null,context:new O(r?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||C)(e,t);return n&&"object"==typeof n&&(i=n[1],n=n[0]),o=n,"comment"!=i&&(t.state=R[t.state](i,e,t)),o},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(i=Math.max(0,n.indent-s)):i=(n=n.prev).indent),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:b,fold:"brace"}}));var n=["domain","regexp","url","url-prefix"],r=t(n),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(i),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],a=t(s),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],c=t(l),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],h=t(u),d=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],f=t(d),p=t(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),g=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),m=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],v=t(m),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],b=t(y),w=n.concat(i).concat(s).concat(l).concat(u).concat(d).concat(m).concat(y);function x(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.registerHelper("hintWords","css",w),e.defineMIME("text/css",{documentTypes:r,mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:h,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:g,colorKeywords:v,valueKeywords:b,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=x,x(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:h,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:b,fontProperties:p,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=x,x(e,t)):["operator","operator"]},":":function(e){return!!e.match(/^\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:h,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:b,fontProperties:p,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=x,x(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:o,mediaFeatures:a,propertyKeywords:h,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:g,colorKeywords:v,valueKeywords:b,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=x,x(e,t))}},name:"css",helperType:"gss"})}(n(4631))},6531:function(e,t,n){!function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function n(e,t,n){var r=e.current(),i=r.search(t);return i>-1?e.backUp(r.length-i):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}var r={};function i(e){return r[e]||(r[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}function o(e,t){var n=e.match(i(t));return n?/^\s*(.*?)\s*$/.exec(n[2])[1]:""}function s(e,t){return new RegExp((t?"^":"")+"</\\s*"+e+"\\s*>","i")}function a(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),i=e[n],o=i.length-1;o>=0;o--)r.unshift(i[o])}function l(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(o(t,r[0])))return r[2]}}e.defineMode("htmlmixed",(function(r,i){var o=e.getMode(r,{name:"xml",htmlMode:!0,multilineTagIndentFactor:i.multilineTagIndentFactor,multilineTagIndentPastTag:i.multilineTagIndentPastTag,allowMissingTagName:i.allowMissingTagName}),c={},u=i&&i.tags,h=i&&i.scriptTypes;if(a(t,c),u&&a(u,c),h)for(var d=h.length-1;d>=0;d--)c.script.unshift(["type",h[d].matches,h[d].mode]);function f(t,i){var a,u=o.token(t,i.htmlState),h=/\btag\b/.test(u);if(h&&!/[<>\s\/]/.test(t.current())&&(a=i.htmlState.tagName&&i.htmlState.tagName.toLowerCase())&&c.hasOwnProperty(a))i.inTag=a+" ";else if(i.inTag&&h&&/>$/.test(t.current())){var d=/^([\S]+) (.*)/.exec(i.inTag);i.inTag=null;var p=">"==t.current()&&l(c[d[1]],d[2]),g=e.getMode(r,p),m=s(d[1],!0),v=s(d[1],!1);i.token=function(e,t){return e.match(m,!1)?(t.token=f,t.localState=t.localMode=null,null):n(e,v,t.localMode.token(e,t.localState))},i.localMode=g,i.localState=e.startState(g,o.indent(i.htmlState,"",""))}else i.inTag&&(i.inTag+=t.current(),t.eol()&&(i.inTag+=" "));return u}return{startState:function(){return{token:f,inTag:null,localMode:null,localState:null,htmlState:e.startState(o)}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(o,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?o.indent(t.htmlState,n,r):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||o}}}}),"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}(n(4631),n(9589),n(6876),n(6629))},6876:function(e,t,n){!function(e){"use strict";e.defineMode("javascript",(function(t,n){var r,i,o=t.indentUnit,s=n.statementIndent,a=n.jsonld,l=n.json||a,c=!1!==n.trackScope,u=n.typescript,h=n.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),s={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:s,false:s,null:s,undefined:s,NaN:s,Infinity:s,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),f=/[+\-*&%=<>!?|~^@]/,p=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function g(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function m(e,t,n){return r=e,i=n,t}function v(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=y(n),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return m("number","number");if("."==n&&e.match(".."))return m("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return m(n);if("="==n&&e.eat(">"))return m("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return m("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),m("number","number");if("/"==n)return e.eat("*")?(t.tokenize=b,b(e,t)):e.eat("/")?(e.skipToEnd(),m("comment","comment")):it(e,t,1)?(g(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),m("regexp","string-2")):(e.eat("="),m("operator","operator",e.current()));if("`"==n)return t.tokenize=w,w(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),m("meta","meta");if("#"==n&&e.eatWhile(h))return m("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),m("comment","comment");if(f.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-|&?]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?m("."):m("operator","operator",e.current());if(h.test(n)){e.eatWhile(h);var r=e.current();if("."!=t.lastType){if(d.propertyIsEnumerable(r)){var i=d[r];return m(i.type,i.style,r)}if("async"==r&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return m("async","keyword",r)}return m("variable","variable",r)}}function y(e){return function(t,n){var r,i=!1;if(a&&"@"==t.peek()&&t.match(p))return n.tokenize=v,m("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||i);)i=!i&&"\\"==r;return i||(n.tokenize=v),m("string","string")}}function b(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=v;break}r="*"==n}return m("comment","comment")}function w(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=v;break}r=!r&&"\\"==n}return m("quasi","string-2",e.current())}var x="([{}])";function k(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(u){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,s=n-1;s>=0;--s){var a=e.string.charAt(s),l=x.indexOf(a);if(l>=0&&l<3){if(!i){++s;break}if(0==--i){"("==a&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(h.test(a))o=!0;else if(/["'\/`]/.test(a))for(;;--s){if(0==s)return;if(e.string.charAt(s-1)==a&&"\\"!=e.string.charAt(s-2)){s--;break}}else if(o&&!i){++s;break}}o&&!i&&(t.fatArrowAt=s)}}var C={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function S(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function _(e,t){if(!c)return!1;for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}function O(e,t,n,r,i){var o=e.cc;for(E.state=e,E.stream=i,E.marked=null,E.cc=o,E.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():l?W:z)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return E.marked?E.marked:"variable"==n&&_(e,r)?"variable-2":t}}var E={state:null,column:null,marked:null,cc:null};function T(){for(var e=arguments.length-1;e>=0;e--)E.cc.push(arguments[e])}function A(){return T.apply(null,arguments),!0}function $(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function L(e){var t=E.state;if(E.marked="def",c){if(t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=R(e,t.context);if(null!=r)return void(t.context=r)}else if(!$(e,t.localVars))return void(t.localVars=new D(e,t.localVars));n.globalVars&&!$(e,t.globalVars)&&(t.globalVars=new D(e,t.globalVars))}}function R(e,t){if(t){if(t.block){var n=R(e,t.prev);return n?n==t.prev?t:new M(n,t.vars,!0):null}return $(e,t.vars)?t:new M(t.prev,new D(e,t.vars),!1)}return null}function P(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function M(e,t,n){this.prev=e,this.vars=t,this.block=n}function D(e,t){this.name=e,this.next=t}var j=new D("this",new D("arguments",null));function N(){E.state.context=new M(E.state.context,E.state.localVars,!1),E.state.localVars=j}function I(){E.state.context=new M(E.state.context,E.state.localVars,!0),E.state.localVars=null}function F(){E.state.localVars=E.state.context.vars,E.state.context=E.state.context.prev}function B(e,t){var n=function(){var n=E.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new S(r,E.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function H(){var e=E.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function Z(e){function t(n){return n==e?A():";"==e||"}"==n||")"==n||"]"==n?T():A(t)}return t}function z(e,t){return"var"==e?A(B("vardef",t),Te,Z(";"),H):"keyword a"==e?A(B("form"),G,z,H):"keyword b"==e?A(B("form"),z,H):"keyword d"==e?E.stream.match(/^\s*$/,!1)?A():A(B("stat"),K,Z(";"),H):"debugger"==e?A(Z(";")):"{"==e?A(B("}"),I,de,H,F):";"==e?A():"if"==e?("else"==E.state.lexical.info&&E.state.cc[E.state.cc.length-1]==H&&E.state.cc.pop()(),A(B("form"),G,z,H,Me)):"function"==e?A(Ie):"for"==e?A(B("form"),I,De,z,F,H):"class"==e||u&&"interface"==t?(E.marked="keyword",A(B("form","class"==e?e:t),ze,H)):"variable"==e?u&&"declare"==t?(E.marked="keyword",A(z)):u&&("module"==t||"enum"==t||"type"==t)&&E.stream.match(/^\s*\w/,!1)?(E.marked="keyword","enum"==t?A(tt):"type"==t?A(Be,Z("operator"),ve,Z(";")):A(B("form"),Ae,Z("{"),B("}"),de,H,H)):u&&"namespace"==t?(E.marked="keyword",A(B("form"),W,z,H)):u&&"abstract"==t?(E.marked="keyword",A(z)):A(B("stat"),oe):"switch"==e?A(B("form"),G,Z("{"),B("}","switch"),I,de,H,H,F):"case"==e?A(W,Z(":")):"default"==e?A(Z(":")):"catch"==e?A(B("form"),N,V,z,H,F):"export"==e?A(B("stat"),Ge,H):"import"==e?A(B("stat"),Ke,H):"async"==e?A(z):"@"==t?A(W,z):T(B("stat"),W,Z(";"),H)}function V(e){if("("==e)return A(He,Z(")"))}function W(e,t){return q(e,t,!1)}function U(e,t){return q(e,t,!0)}function G(e){return"("!=e?T():A(B(")"),K,Z(")"),H)}function q(e,t,n){if(E.state.fatArrowAt==E.stream.start){var r=n?te:ee;if("("==e)return A(N,B(")"),ue(He,")"),H,Z("=>"),r,F);if("variable"==e)return T(N,Ae,Z("=>"),r,F)}var i=n?X:Y;return C.hasOwnProperty(e)?A(i):"function"==e?A(Ie,i):"class"==e||u&&"interface"==t?(E.marked="keyword",A(B("form"),Ze,H)):"keyword c"==e||"async"==e?A(n?U:W):"("==e?A(B(")"),K,Z(")"),H,i):"operator"==e||"spread"==e?A(n?U:W):"["==e?A(B("]"),et,H,i):"{"==e?he(ae,"}",null,i):"quasi"==e?T(J,i):"new"==e?A(ne(n)):A()}function K(e){return e.match(/[;\}\)\],]/)?T():T(W)}function Y(e,t){return","==e?A(K):X(e,t,!1)}function X(e,t,n){var r=0==n?Y:X,i=0==n?W:U;return"=>"==e?A(N,n?te:ee,F):"operator"==e?/\+\+|--/.test(t)||u&&"!"==t?A(r):u&&"<"==t&&E.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?A(B(">"),ue(ve,">"),H,r):"?"==t?A(W,Z(":"),i):A(i):"quasi"==e?T(J,r):";"!=e?"("==e?he(U,")","call",r):"."==e?A(se,r):"["==e?A(B("]"),K,Z("]"),H,r):u&&"as"==t?(E.marked="keyword",A(ve,r)):"regexp"==e?(E.state.lastType=E.marked="operator",E.stream.backUp(E.stream.pos-E.stream.start-1),A(i)):void 0:void 0}function J(e,t){return"quasi"!=e?T():"${"!=t.slice(t.length-2)?A(J):A(K,Q)}function Q(e){if("}"==e)return E.marked="string-2",E.state.tokenize=w,A(J)}function ee(e){return k(E.stream,E.state),T("{"==e?z:W)}function te(e){return k(E.stream,E.state),T("{"==e?z:U)}function ne(e){return function(t){return"."==t?A(e?ie:re):"variable"==t&&u?A(_e,e?X:Y):T(e?U:W)}}function re(e,t){if("target"==t)return E.marked="keyword",A(Y)}function ie(e,t){if("target"==t)return E.marked="keyword",A(X)}function oe(e){return":"==e?A(H,z):T(Y,Z(";"),H)}function se(e){if("variable"==e)return E.marked="property",A()}function ae(e,t){return"async"==e?(E.marked="property",A(ae)):"variable"==e||"keyword"==E.style?(E.marked="property","get"==t||"set"==t?A(le):(u&&E.state.fatArrowAt==E.stream.start&&(n=E.stream.match(/^\s*:\s*/,!1))&&(E.state.fatArrowAt=E.stream.pos+n[0].length),A(ce))):"number"==e||"string"==e?(E.marked=a?"property":E.style+" property",A(ce)):"jsonld-keyword"==e?A(ce):u&&P(t)?(E.marked="keyword",A(ae)):"["==e?A(W,fe,Z("]"),ce):"spread"==e?A(U,ce):"*"==t?(E.marked="keyword",A(ae)):":"==e?T(ce):void 0;var n}function le(e){return"variable"!=e?T(ce):(E.marked="property",A(Ie))}function ce(e){return":"==e?A(U):"("==e?T(Ie):void 0}function ue(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var s=E.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),A((function(n,r){return n==t||r==t?T():T(e)}),r)}return i==t||o==t?A():n&&n.indexOf(";")>-1?T(e):A(Z(t))}return function(n,i){return n==t||i==t?A():T(e,r)}}function he(e,t,n){for(var r=3;r<arguments.length;r++)E.cc.push(arguments[r]);return A(B(t,n),ue(e,t),H)}function de(e){return"}"==e?A():T(z,de)}function fe(e,t){if(u){if(":"==e)return A(ve);if("?"==t)return A(fe)}}function pe(e,t){if(u&&(":"==e||"in"==t))return A(ve)}function ge(e){if(u&&":"==e)return E.stream.match(/^\s*\w+\s+is\b/,!1)?A(W,me,ve):A(ve)}function me(e,t){if("is"==t)return E.marked="keyword",A()}function ve(e,t){return"keyof"==t||"typeof"==t||"infer"==t||"readonly"==t?(E.marked="keyword",A("typeof"==t?U:ve)):"variable"==e||"void"==t?(E.marked="type",A(Se)):"|"==t||"&"==t?A(ve):"string"==e||"number"==e||"atom"==e?A(Se):"["==e?A(B("]"),ue(ve,"]",","),H,Se):"{"==e?A(B("}"),be,H,Se):"("==e?A(ue(Ce,")"),ye,Se):"<"==e?A(ue(ve,">"),ve):"quasi"==e?T(xe,Se):void 0}function ye(e){if("=>"==e)return A(ve)}function be(e){return e.match(/[\}\)\]]/)?A():","==e||";"==e?A(be):T(we,be)}function we(e,t){return"variable"==e||"keyword"==E.style?(E.marked="property",A(we)):"?"==t||"number"==e||"string"==e?A(we):":"==e?A(ve):"["==e?A(Z("variable"),pe,Z("]"),we):"("==e?T(Fe,we):e.match(/[;\}\)\],]/)?void 0:A()}function xe(e,t){return"quasi"!=e?T():"${"!=t.slice(t.length-2)?A(xe):A(ve,ke)}function ke(e){if("}"==e)return E.marked="string-2",E.state.tokenize=w,A(xe)}function Ce(e,t){return"variable"==e&&E.stream.match(/^\s*[?:]/,!1)||"?"==t?A(Ce):":"==e?A(ve):"spread"==e?A(Ce):T(ve)}function Se(e,t){return"<"==t?A(B(">"),ue(ve,">"),H,Se):"|"==t||"."==e||"&"==t?A(ve):"["==e?A(ve,Z("]"),Se):"extends"==t||"implements"==t?(E.marked="keyword",A(ve)):"?"==t?A(ve,Z(":"),ve):void 0}function _e(e,t){if("<"==t)return A(B(">"),ue(ve,">"),H,Se)}function Oe(){return T(ve,Ee)}function Ee(e,t){if("="==t)return A(ve)}function Te(e,t){return"enum"==t?(E.marked="keyword",A(tt)):T(Ae,fe,Re,Pe)}function Ae(e,t){return u&&P(t)?(E.marked="keyword",A(Ae)):"variable"==e?(L(t),A()):"spread"==e?A(Ae):"["==e?he(Le,"]"):"{"==e?he($e,"}"):void 0}function $e(e,t){return"variable"!=e||E.stream.match(/^\s*:/,!1)?("variable"==e&&(E.marked="property"),"spread"==e?A(Ae):"}"==e?T():"["==e?A(W,Z("]"),Z(":"),$e):A(Z(":"),Ae,Re)):(L(t),A(Re))}function Le(){return T(Ae,Re)}function Re(e,t){if("="==t)return A(U)}function Pe(e){if(","==e)return A(Te)}function Me(e,t){if("keyword b"==e&&"else"==t)return A(B("form","else"),z,H)}function De(e,t){return"await"==t?A(De):"("==e?A(B(")"),je,H):void 0}function je(e){return"var"==e?A(Te,Ne):"variable"==e?A(Ne):T(Ne)}function Ne(e,t){return")"==e?A():";"==e?A(Ne):"in"==t||"of"==t?(E.marked="keyword",A(W,Ne)):T(W,Ne)}function Ie(e,t){return"*"==t?(E.marked="keyword",A(Ie)):"variable"==e?(L(t),A(Ie)):"("==e?A(N,B(")"),ue(He,")"),H,ge,z,F):u&&"<"==t?A(B(">"),ue(Oe,">"),H,Ie):void 0}function Fe(e,t){return"*"==t?(E.marked="keyword",A(Fe)):"variable"==e?(L(t),A(Fe)):"("==e?A(N,B(")"),ue(He,")"),H,ge,F):u&&"<"==t?A(B(">"),ue(Oe,">"),H,Fe):void 0}function Be(e,t){return"keyword"==e||"variable"==e?(E.marked="type",A(Be)):"<"==t?A(B(">"),ue(Oe,">"),H):void 0}function He(e,t){return"@"==t&&A(W,He),"spread"==e?A(He):u&&P(t)?(E.marked="keyword",A(He)):u&&"this"==e?A(fe,Re):T(Ae,fe,Re)}function Ze(e,t){return"variable"==e?ze(e,t):Ve(e,t)}function ze(e,t){if("variable"==e)return L(t),A(Ve)}function Ve(e,t){return"<"==t?A(B(">"),ue(Oe,">"),H,Ve):"extends"==t||"implements"==t||u&&","==e?("implements"==t&&(E.marked="keyword"),A(u?ve:W,Ve)):"{"==e?A(B("}"),We,H):void 0}function We(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||u&&P(t))&&E.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(E.marked="keyword",A(We)):"variable"==e||"keyword"==E.style?(E.marked="property",A(Ue,We)):"number"==e||"string"==e?A(Ue,We):"["==e?A(W,fe,Z("]"),Ue,We):"*"==t?(E.marked="keyword",A(We)):u&&"("==e?T(Fe,We):";"==e||","==e?A(We):"}"==e?A():"@"==t?A(W,We):void 0}function Ue(e,t){if("!"==t)return A(Ue);if("?"==t)return A(Ue);if(":"==e)return A(ve,Re);if("="==t)return A(U);var n=E.state.lexical.prev;return T(n&&"interface"==n.info?Fe:Ie)}function Ge(e,t){return"*"==t?(E.marked="keyword",A(Qe,Z(";"))):"default"==t?(E.marked="keyword",A(W,Z(";"))):"{"==e?A(ue(qe,"}"),Qe,Z(";")):T(z)}function qe(e,t){return"as"==t?(E.marked="keyword",A(Z("variable"))):"variable"==e?T(U,qe):void 0}function Ke(e){return"string"==e?A():"("==e?T(W):"."==e?T(Y):T(Ye,Xe,Qe)}function Ye(e,t){return"{"==e?he(Ye,"}"):("variable"==e&&L(t),"*"==t&&(E.marked="keyword"),A(Je))}function Xe(e){if(","==e)return A(Ye,Xe)}function Je(e,t){if("as"==t)return E.marked="keyword",A(Ye)}function Qe(e,t){if("from"==t)return E.marked="keyword",A(W)}function et(e){return"]"==e?A():T(ue(U,"]"))}function tt(){return T(B("form"),Ae,Z("{"),B("}"),ue(nt,"}"),H,H)}function nt(){return T(Ae,Re)}function rt(e,t){return"operator"==e.lastType||","==e.lastType||f.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function it(e,t,n){return t.tokenize==v&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return N.lex=I.lex=!0,F.lex=!0,H.lex=!0,{startState:function(e){var t={tokenize:v,lastType:"sof",cc:[],lexical:new S((e||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new M(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),k(e,t)),t.tokenize!=b&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==r?n:(t.lastType="operator"!=r||"++"!=i&&"--"!=i?r:"incdec",O(t,n,r,i,e))},indent:function(t,r){if(t.tokenize==b||t.tokenize==w)return e.Pass;if(t.tokenize!=v)return 0;var i,a=r&&r.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(r))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==H)l=l.prev;else if(u!=Me&&u!=F)break}for(;("stat"==l.type||"form"==l.type)&&("}"==a||(i=t.cc[t.cc.length-1])&&(i==Y||i==X)&&!/^[,\.=+\-*:?[\(]/.test(r));)l=l.prev;s&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var h=l.type,d=a==h;return"vardef"==h?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==h&&"{"==a?l.indented:"form"==h?l.indented+o:"stat"==h?l.indented+(rt(t,r)?s||o:0):"switch"!=l.info||d||0==n.doubleIndentSwitch?l.align?l.column+(d?0:1):l.indented+(d?0:o):l.indented+(/^(?:case|default)\b/.test(r)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:a,jsonMode:l,expressionAllowed:it,skipExpression:function(t){O(t,"atom","atom","true",new e.StringStream("",2,null))}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n(4631))},9589:function(e,t,n){!function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",(function(r,i){var o,s,a=r.indentUnit,l={},c=i.htmlMode?t:n;for(var u in c)l[u]=c[u];for(var u in i)l[u]=i[u];function h(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();return"<"==r?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(p("atom","]]>")):null:e.match("--")?n(p("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(g(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=p("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=d,"tag bracket"):"&"==r?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function d(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=h,o=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return o="equals",null;if("<"==n){t.tokenize=h,t.state=w,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=f(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function f(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=d;break}return"string"};return t.isInAttribute=!0,t}function p(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=h;break}n.next()}return e}}function g(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=g(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=h;break}return n.tokenize=g(e-1),n.tokenize(t,n)}}return"meta"}}function m(e){return e&&e.toLowerCase()}function v(e,t,n){this.prev=e.context,this.tagName=t||"",this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function y(e){e.context&&(e.context=e.context.prev)}function b(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(m(n))||!l.contextGrabbers[m(n)].hasOwnProperty(m(t)))return;y(e)}}function w(e,t,n){return"openTag"==e?(n.tagStart=t.column(),x):"closeTag"==e?k:w}function x(e,t,n){return"word"==e?(n.tagName=t.current(),s="tag",_):l.allowMissingTagName&&"endTag"==e?(s="tag bracket",_(e,t,n)):(s="error",x)}function k(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(m(n.context.tagName))&&y(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(s="tag",C):(s="tag error",S)}return l.allowMissingTagName&&"endTag"==e?(s="tag bracket",C(e,t,n)):(s="error",S)}function C(e,t,n){return"endTag"!=e?(s="error",C):(y(n),w)}function S(e,t,n){return s="error",C(e,t,n)}function _(e,t,n){if("word"==e)return s="attribute",O;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(m(r))?b(n,r):(b(n,r),n.context=new v(n,r,i==n.indented)),w}return s="error",_}function O(e,t,n){return"equals"==e?E:(l.allowMissing||(s="error"),_(e,t,n))}function E(e,t,n){return"string"==e?T:"word"==e&&l.allowUnquoted?(s="string",_):(s="error",_(e,t,n))}function T(e,t,n){return"string"==e?T:_(e,t,n)}return h.isInText=!0,{startState:function(e){var t={tokenize:h,state:w,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var n=t.tokenize(e,t);return(n||o)&&"comment"!=n&&(s=null,t.state=t.state(o||n,e,t),s&&(n="error"==s?n+" error":s)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+a;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=d&&t.tokenize!=h)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+a*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])for(;i;){if(i.tagName==o[2]){i=i.prev;break}if(!l.implicitlyClosed.hasOwnProperty(m(i.tagName)))break;i=i.prev}else if(o)for(;i;){var s=l.contextGrabbers[m(i.tagName)];if(!s||!s.hasOwnProperty(m(o[2])))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+a:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==E&&(e.state=_)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],n=e.context;n;n=n.prev)t.push(n.tagName);return t.reverse()}}})),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n(4631))},9714:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(4942),i=n(2982),o=n(5671),s=n(3144),a=n(9050),l=n(1163);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,[{key:"getConfig",value:function(e){return this.__getConfig(e)}},{key:"getProjectData",value:function(e){var t={},n=this.storageKey;return n&&(t[n]=e||this.getAll()),t}},{key:"loadProjectData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.all,r=t.onResult,i=t.reset,o=this.storageKey,s={action:"load"},a=n||this.getAll(),c=e[o];if("string"==typeof c)try{c=JSON.parse(c)}catch(e){this.__logWarn("Data parsing failed",{input:c})}return i&&c&&a.reset(null,s),r?c&&r(c,s):c&&(0,l.isDef)(c.length)&&a.reset(c,s),c}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.all;return t&&t.reset(null,e),this}},{key:"__getConfig",value:function(e){var t=this.config||{};return e?t[e]:t}},{key:"getAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.all?e.array?(0,i.Z)(this.all.models):this.all:[]}},{key:"getAllMap",value:function(){return this.getAll().reduce((function(e,t){return e[t.get(t.idAttribute)]=t,e}),{})}},{key:"__initConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=(0,l.deepMerge)(e,t),this.em=this.config.em,this.cls=[]}},{key:"__initListen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.all,n=this.em,r=this.events;t&&n&&t.on("add",(function(e,t,i){return n.trigger(r.add,e,i)})).on("remove",(function(e,t,i){return n.trigger(r.remove,e,i)})).on("change",(function(e,t){return n.trigger(r.update,e,e.changedAttributes(),t)})).on("all",this.__catchAllEvent,this),this.cls=[t].concat(e.collections||[]),(e.propagate||[]).forEach((function(e){var r=e.entity,i=e.event;r.on("all",(function(e,r,o,s){var a=u({event:e},s||o);[n,t].map((function(e){return e.trigger(i,r,a)}))}))}))}},{key:"__remove",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.em,i=(0,a.isString)(e)?this.get(e):e,o=function(){return i&&t.all.remove(i,n),i};return!n.silent&&r&&r.trigger(this.events.removeBefore,i,o,n),!n.abort&&o()}},{key:"__catchAllEvent",value:function(e,t,n,r){var i=this.em,o=this.events,s=r||n;i&&o.all&&i.trigger(o.all,{event:e,model:t,options:s}),this.__onAllEvent()}},{key:"__appendTo",value:function(){var e=this.getConfig().appendTo;if(e){var t=(0,a.isElement)(e)?e:document.querySelector(e);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}}},{key:"__onAllEvent",value:function(){}},{key:"__logWarn",value:function(e,t){this.em.logWarning("[".concat(this.name,"]: ").concat(e),t)}},{key:"_createId",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,n=this.getAll().length+t,r=this.getAllMap();do{e=(0,l.createId)(n)}while(r[e]);return e}},{key:"__listenAdd",value:function(e,t){var n=this;e.on("add",(function(e,r,i){return n.em.trigger(t,e,i)}))}},{key:"__listenRemove",value:function(e,t){var n=this;e.on("remove",(function(e,r,i){return n.em.trigger(t,e,i)}))}},{key:"__listenUpdate",value:function(e,t){var n=this;e.on("change",(function(e,r){return n.em.trigger(t,e,e.changedAttributes(),r)}))}},{key:"__destroy",value:function(){var e;this.cls.forEach((function(e){e.stopListening(),e.reset()})),this.em=0,this.config=0,null===(e=this.view)||void 0===e||e.remove(),this.view=0}}]),e}()},1030:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ne},evAdd:function(){return W},evAll:function(){return H},evClose:function(){return Y},evCustom:function(){return q},evOpen:function(){return K},evPfx:function(){return Z},evRemove:function(){return U},evRemoveBefore:function(){return G},evSelect:function(){return z},evUpdate:function(){return V},evUpload:function(){return X},evUploadEnd:function(){return Q},evUploadError:function(){return ee},evUploadRes:function(){return te},evUploadStart:function(){return J}});var i=n(4942),o=n(9050),s=n(9304),a={assets:[],noAssets:"",stylePrefix:"am-",upload:0,uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:!0,customFetch:null,uploadFile:null,embedAsBase64:!0,handleAdd:null,beforeUpload:null,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:1,dropzoneContent:""},l=n(3144),c=n(5671),u=n(9340),h=n(2963),d=n(1120),f=n(2316);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var g=function(e){(0,u.Z)(n,e);var t=p(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"defaults",value:function(){return{type:"",src:""}}},{key:"getType",value:function(){return this.get("type")}},{key:"getSrc",value:function(){return this.get("src")}},{key:"getFilename",value:function(){return this.get("src").split("/").pop().split("?").shift()}},{key:"getExtension",value:function(){return this.getFilename().split(".").pop()}}]),n}(f.Model);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}g.prototype.idAttribute="src",g.getDefaults=function(){return(0,o.result)(this.prototype,"defaults")};var b=function(e){(0,u.Z)(n,e);var t=y(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"defaults",value:function(){return v(v({},g.getDefaults()),{},{type:"image",unitDim:"px",height:0,width:0})}}]),n}(g),w=n(168);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var k,C,S=function(e){(0,u.Z)(n,e);var t=x(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,this.collection=e.collection;var t=e.config||{};this.config=t,this.pfx=t.stylePrefix||"",this.ppfx=t.pStylePrefix||"",this.em=t.em,this.className=this.pfx+"asset",this.listenTo(this.model,"destroy remove",this.remove),this.model.view=this;var n=this.init&&this.init.bind(this);n&&n(e)}},{key:"__getBhv",value:function(){var e=this.em,t=e&&e.get("AssetManager");return t&&t.__getBehaviour()||{}}},{key:"template",value:function(){var e=this.pfx;return'\n      <div class="'.concat(e,'preview-cont">\n        ').concat(this.getPreview(),'\n      </div>\n      <div class="').concat(e,'meta">\n        ').concat(this.getInfo(),'\n      </div>\n      <div class="').concat(e,'close" data-toggle="asset-remove">\n        &Cross;\n      </div>\n    ')}},{key:"updateTarget",value:function(e){e&&e.set&&(e.set("attributes",(0,o.clone)(e.get("attributes"))),e.set("src",this.model.get("src")))}},{key:"getPreview",value:function(){return""}},{key:"getInfo",value:function(){return""}},{key:"render",value:function(){var e=this.el;return e.innerHTML=this.template(this,this.model),e.className=this.className,this}}]),n}(f.View),_=n(7539);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var E=function(e){(0,u.Z)(n,e);var t=O(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"getPreview",value:function(){var e=this.pfx,t=this.ppfx,n=this.model.get("src");return(0,_.Z)(k||(k=(0,w.Z)(['\n      <div class="','preview" style="background-image: url(\'','\');"></div>\n      <div class="',"preview-bg ",'checker-bg"></div>\n    '])),e,n,e,t)}},{key:"getInfo",value:function(){var e=this.pfx,t=this.model,n=t.get("name"),r=t.get("width"),i=t.get("height"),o=t.get("unitDim"),s=r&&i?"".concat(r,"x").concat(i).concat(o):"";return n=n||t.getFilename(),(0,_.Z)(C||(C=(0,w.Z)(['\n      <div class="','name">','</div>\n      <div class="','dimensions">',"</div>\n    "])),e,n,e,s)}},{key:"init",value:function(e){var t=this.pfx;this.className+=" ".concat(t,"asset-image")}},{key:"onClick",value:function(){var e=this.model,t=this.pfx,n=this.__getBhv().select,r=this.config.onClick,i=this.collection;i.trigger("deselectAll"),this.$el.addClass(t+"highlight"),(0,o.isFunction)(n)?n(e,!1):(0,o.isFunction)(r)?r(e):this.updateTarget(i.target)}},{key:"onDblClick",value:function(){var e=this.em,t=this.model,n=this.__getBhv().select,r=this.config.onDblClick,i=this.collection,s=i.target,a=i.onSelect;(0,o.isFunction)(n)?n(t,!0):(0,o.isFunction)(r)?r(t):(this.updateTarget(s),e&&e.get("Modal").close()),(0,o.isFunction)(a)&&a(t)}},{key:"onRemove",value:function(e){e.stopImmediatePropagation(),this.model.collection.remove(this.model)}}]),n}(S);E.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var T=n(793);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var $=function(e){(0,u.Z)(n,e);var t=A(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n)}(f.Collection.extend(T.Z));function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}$.prototype.types=[{id:"image",model:b,view:E,isType:function(e){return"string"==typeof e?{type:"image",src:e}:e}}];var R=function(e){(0,u.Z)(n,e);var t=L(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"template",value:function(e){var t=e.pfx,n=e.ppfx,r=e.em,i="";return this.config.showUrlInput&&(i='\n          <form class="'.concat(t,'add-asset">\n            <div class="').concat(n,"field ").concat(t,'add-field">\n              <input placeholder="').concat(r&&r.t("assetManager.inputPlh"),'"/>\n            </div>\n            <button class="').concat(n,'btn-prim">').concat(r&&r.t("assetManager.addButton"),'</button>\n            <div style="clear:both"></div>\n          </form>\n      ')),'\n    <div class="'.concat(t,'assets-cont">\n      <div class="').concat(t,'assets-header">\n        ').concat(i,'\n      </div>\n      <div class="').concat(t,'assets" data-el="assets"></div>\n      <div style="clear:both"></div>\n    </div>\n    ')}},{key:"initialize",value:function(e){this.options=e,this.config=e.config,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var t=this.collection;this.listenTo(t,"reset",this.renderAssets),this.listenTo(t,"add",this.addToAsset),this.listenTo(t,"remove",this.removedAsset),this.listenTo(t,"deselectAll",this.deselectAll)}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.getAddInput(),n=t&&t.value.trim(),r=this.config.handleAdd;n&&(t.value="",this.getAssetsEl().scrollTop=0,r?r.bind(this)(n):this.options.globalCollection.add(n,{at:0}))}},{key:"getAssetsEl",value:function(){return this.el.querySelector(".".concat(this.pfx,"assets"))}},{key:"getAddInput",value:function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl}},{key:"removedAsset",value:function(e){this.collection.length||this.toggleNoAssets()}},{key:"addToAsset",value:function(e){1==this.collection.length&&this.toggleNoAssets(1),this.addAsset(e)}},{key:"addAsset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.collection,r=this.config,i=new e.typeView({model:e,collection:n,config:r}).render().el;if(t)t.appendChild(i);else{var o=this.getAssetsEl();o&&o.insertBefore(i,o.firstChild)}return i}},{key:"toggleNoAssets",value:function(e){var t=this.$el.find(".".concat(this.pfx,"assets"));if(e)t.empty();else{var n=this.config.noAssets;n&&t.append(n)}}},{key:"deselectAll",value:function(){var e=this.pfx;this.$el.find(".".concat(e,"highlight")).removeClass("".concat(e,"highlight"))}},{key:"renderAssets",value:function(){var e=this,t=document.createDocumentFragment(),n=this.$el.find(".".concat(this.pfx,"assets"));n.empty(),this.toggleNoAssets(this.collection.length),this.collection.each((function(n){return e.addAsset(n,t)})),n.append(t)}},{key:"render",value:function(){var e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this}}]),n}(f.View);R.prototype.events={submit:"handleSubmit"};var P,M=n(9661);function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var I=function(e){(0,u.Z)(n,e);var t=N(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"template",value:function(e){var t=e.pfx,n=e.title,r=e.uploadId,i=e.disabled,o=e.multiUpload;return(0,_.Z)(P||(P=(0,w.Z)(['\n      <form>\n        <div id="','title">','</div>\n        <input\n          type="file"\n          id="','"\n          name="file"\n          accept="*/*"\n          ',"\n          ",'\n        />\n        <div style="clear:both;"></div>\n      </form>\n    '])),t,n,r,i?"disabled":"",o?"multiple":"")}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e;var t=e.config||{};this.module=e.module,this.config=t,this.em=this.config.em,this.pfx=t.stylePrefix||"",this.ppfx=t.pStylePrefix||"",this.target=this.options.globalCollection||{},this.uploadId=this.pfx+"uploadFile",this.disabled=void 0!==t.disableUpload?t.disableUpload:!t.upload&&!t.embedAsBase64,this.multiUpload=void 0===t.multiUpload||t.multiUpload,this.events=r({},"change #".concat(this.uploadId),"uploadFile");var n=t.uploadFile;n?this.uploadFile=n.bind(this):!t.upload&&t.embedAsBase64&&(this.uploadFile=this.constructor.embedAsBase64),this.delegateEvents()}},{key:"onUploadStart",value:function(){var e=this.module;e&&e.__propEv("asset:upload:start")}},{key:"onUploadEnd",value:function(e){var t=this.$el,n=this.module;n&&n.__propEv("asset:upload:end",e);var r=t.find("input");r&&r.val("")}},{key:"onUploadError",value:function(e){var t=this.module;console.error(e),this.onUploadEnd(e),t&&t.__propEv("asset:upload:error",e)}},{key:"onUploadResponse",value:function(e,t){var n,r=this.module,i=this.config,o=this.target;try{n="string"==typeof e?JSON.parse(e):e}catch(t){n=e}r&&r.__propEv("asset:upload:response",n),i.autoAdd&&o&&o.add(n.data,{at:0}),this.onUploadEnd(e),t&&t(n)}},{key:"uploadFile",value:function(e,t){var n=this,r=e.dataTransfer?e.dataTransfer.files:e.target.files,i=this.config,o=i.beforeUpload;if(!1!==(o&&o(r))){var s=new FormData,a=i.params,l=i.customFetch;for(var c in a)s.append(c,a[c]);if(this.multiUpload)for(var u=0;u<r.length;u++)s.append("".concat(i.uploadName,"[]"),r[u]);else r.length&&s.append(i.uploadName,r[0]);this.target;var h=i.upload,d=i.headers,f="X-Requested-With";if(void 0===d[f]&&(d[f]="XMLHttpRequest"),h){this.onUploadStart();var p={method:"post",credentials:i.credentials||"include",headers:d,body:s};return(l?l(h,p):(0,M.Z)(h,p).then((function(e){return 1==(e.status/200|0)?e.text():e.text().then((function(e){return Promise.reject(e)}))}))).then((function(e){return n.onUploadResponse(e,t)})).catch((function(e){return n.onUploadError(e)}))}}}},{key:"initDrop",value:function(){var e=this;!this.uploadForm&&(this.uploadForm=this.$el.find("form").get(0),"draggable"in this.uploadForm)&&(this.uploadFile,this.uploadForm.ondragover=function(){return this.className=e.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return this.className="",!1},this.uploadForm.ondrop=function(t){this.className="",t.preventDefault(),e.uploadFile(t)})}},{key:"initDropzone",value:function(e){var t=this,n=0,r=this.config,i=e.model,o=e.el,s=i.get("Editor"),a=(i.get("Config").el,i.get("Canvas").getBody()),l=this.ppfx,c="".concat(l,"dropzone-active"),u="".concat(l,"dropzone"),h=function(){o.className=o.className.replace(c,"").trim(),n=0},d=function(){return n||(o.className+=" ".concat(c),n=1),!1},f=function(){return h(),!1},p=function(e){if(h(),e.preventDefault(),e.stopPropagation(),t.uploadFile(e),r.openAssetsOnDrop&&s){var n=s.getSelected();s.runCommand("open-assets",{target:n,onSelect:function(){s.Modal.close(),s.AssetManager.setTarget(null)}})}return!1};e.$el.append('<div class="'.concat(u,'">').concat(r.dropzoneContent,"</div>")),h(),"draggable"in o&&[o,a].forEach((function(e){e.ondragover=d,e.ondragleave=f,e.ondrop=p}))}},{key:"render",value:function(){var e=this.$el,t=this.pfx,n=this.em;return e.html(this.template({title:n&&n.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:t})),this.initDrop(),e.attr("class",t+"file-uploader"),this}}]),n}(f.View);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.embedAsBase64=function(e,t){var n=this,r=e.dataTransfer?e.dataTransfer.files:e.target.files,i={data:[]};if(FileReader){var o,s=[],a=/^(.+)\/(.+)$/,l=D(r);try{var c=function(){var e=o.value,t=new Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(i){var o,s=e.name,l=a.exec(e.type);if("image"===(o=l?l[1]:e.type)){var c={src:r.result,name:s,type:o,height:0,width:0},u=new Image;u.addEventListener("error",(function(e){n(e)})),u.addEventListener("load",(function(){c.height=u.height,c.width=u.width,t(c)})),u.src=c.src}else t(o?{src:r.result,name:s,type:o}:r.result)})),r.addEventListener("error",(function(e){n(e)})),r.addEventListener("abort",(function(e){n("Aborted")})),r.readAsDataURL(e)}));s.push(t)};for(l.s();!(o=l.n()).done;)c()}catch(e){l.e(e)}finally{l.f()}Promise.all(s).then((function(e){i.data=e,n.onUploadResponse(i,t)}),(function(e){n.onUploadError(e)}))}else this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))};var H="asset",Z="".concat(H,":"),z="".concat(Z,"select"),V="".concat(Z,"update"),W="".concat(Z,"add"),U="".concat(Z,"remove"),G="".concat(U,":before"),q="".concat(Z,"custom"),K="".concat(Z,"open"),Y="".concat(Z,"close"),X="".concat(Z,"upload"),J="".concat(X,":start"),Q="".concat(X,":end"),ee="".concat(X,":error"),te="".concat(X,":response"),ne=function(){var e,t,n,r,i={},l="open-assets";return B(B({},s.Z),{},{name:"AssetManager",storageKey:"assets",Asset:$,Assets:$,events:{all:H,select:z,update:V,add:W,remove:U,removeBefore:G,custom:q,open:K,close:Y,uploadStart:J,uploadEnd:Q,uploadError:ee,uploadResponse:te},init:function(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(i=B(B({},a),r)).pStylePrefix,s=i.em;return this.config=i,this.em=s,o&&(i.stylePrefix=o+i.stylePrefix),e=new $([]),t=new $([]),this.all=e,this.__initListen(),e.on("add",(function(e){return n.getAllVisible().add(e)})),e.on("remove",(function(e){return n.getAllVisible().remove(e)})),this},__propEv:function(e){for(var t,n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(t=this.em).trigger.apply(t,[e].concat(i)),(n=this.getAll()).trigger.apply(n,[e].concat(i))},__onAllEvent:(0,o.debounce)((function(){this.__trgCustom()})),__trgCustom:function(){(this.__getBehaviour().container||this.getConfig().custom.open)&&this.em.trigger(this.events.custom,this.__customData())},__customData:function(){var e=this,t=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:t.types||[],container:t.container,close:function(){return e.close()},remove:function(){return e.remove.apply(e,arguments)},select:function(n,r){var i=e.add(n);(0,o.isFunction)(t.select)&&t.select(i,r)},options:t.options||{}}},open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.em.get("Commands").run(l,B({types:["image"],select:function(){}},e))},close:function(){this.em.get("Commands").stop(l)},isOpen:function(){var e=this.em.get("Commands");return!(!e||!e.isActive(l))},add:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===n.at&&(n.at=0),e.add(t,n)},get:function(t){return e.where({src:t})[0]||null},getAll:function(){return e},getAllVisible:function(){return t},remove:function(e,t){return this.__remove(e,t)},store:function(){return this.getProjectData()},load:function(e){return this.loadProjectData(e)},getContainer:function(){return this.__getBehaviour().container||n&&n.el},getAssetsEl:function(){return n.el.querySelector("[data-el=assets]")},render:function(e){if(!this.getConfig().custom){var r=e||this.getAll().models;if(!n){var i=this.__viewParams();i.fu=this.FileUploader();var o=n&&n.el;(n=new R(B({el:o},i))).render()}return t.reset(r),this.getContainer()}},__viewParams:function(){return{collection:t,globalCollection:e,config:i,module:this}},addType:function(e,t){this.getAll().addType(e,t)},getType:function(e){return this.getAll().getType(e)},getTypes:function(){return this.getAll().getTypes()},AssetsView:function(){return n},FileUploader:function(){return r||(r=new I(this.__viewParams())),r},onLoad:function(){var e=this;this.getAll().reset(i.assets);var t=this.em,n=this.events;t.on("run:".concat(l),(function(){return e.__propEv(n.open)})),t.on("stop:".concat(l),(function(){return e.__propEv(n.close)}))},postRender:function(e){i.dropzone&&r&&r.initDropzone(e)},setTarget:function(e){t.target=e},onSelect:function(e){t.onSelect=e},onClick:function(e){i.onClick=e},onDblClick:function(e){i.onDblClick=e},__behaviour:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._bhv=B(B({},this._bhv||{}),e)},__getBehaviour:function(){return this._bhv||{}},destroy:function(){e.stopListening(),t.stopListening(),e.reset(),t.reset(),r&&r.remove(),n&&n.remove(),[e,t,n,r].forEach((function(e){return null})),this._bhv={},this.all={},i={}}})}},6407:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G},evAdd:function(){return F},evAll:function(){return N},evCustom:function(){return U},evDrag:function(){return z},evDragStart:function(){return V},evDragStop:function(){return W},evPfx:function(){return I},evRemove:function(){return H},evRemoveBefore:function(){return Z},evUpdate:function(){return B}});var r=n(5671),i=n(3144),o=n(7326),s=n(9340),a=n(2963),l=n(1120),c=n(4942),u=n(9050),h=n(9714),d={appendTo:"",appendOnClick:!1,blocks:[],custom:!1},f=n(2316);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var g=function(e){(0,s.Z)(n,e);var t=p(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"defaults",value:function(){return{label:"",content:"",media:"",category:"",activate:!1,select:null,resetId:!1,disable:!1,onClick:null,attributes:{}}}},{key:"getId",value:function(){return this.id}},{key:"getLabel",value:function(){return this.get("label")}},{key:"getMedia",value:function(){return this.get("media")}},{key:"getContent",value:function(){return this.get("content")}},{key:"getCategoryLabel",value:function(){var e=this.get("category");return(0,u.isFunction)(e.get)?e.get("label"):e.label?e.label:e}}]),n}(f.Model);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var v=function(e){(0,s.Z)(n,e);var t=m(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(f.Collection);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}v.prototype.model=g;var b=function(e){(0,s.Z)(n,e);var t=y(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"defaults",value:function(){return{id:"",label:"",open:!0,attributes:{}}}}]),n}(f.Model);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var x=function(e){(0,s.Z)(n,e);var t=w(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(f.Collection);x.prototype.model=b;var k=n(1163);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var S,_=function(e){(0,s.Z)(n,e);var t=C(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"events",value:function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}}},{key:"initialize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.model;this.em=t.em,this.config=t,this.endDrag=this.endDrag.bind(this),this.ppfx=t.pStylePrefix||"",this.listenTo(n,"destroy remove",this.remove),this.listenTo(n,"change",this.render)}},{key:"__getModule",value:function(){return this.em.get("BlockManager")}},{key:"handleClick",value:function(e){var t=this.config,n=this.model,r=this.em,i=n.get("onClick")||t.appendOnClick;if(r.trigger("block:click",n,e),i){if((0,u.isFunction)(i))return i(n,r.getEditor(),{event:e});var o,s,a=t.getSorter(),l=n.get("content"),c=r.getSelected();if(a.setDropContent(l),c)if(a.validTarget(c.getEl(),l).valid)o=c;else{var h=c.parent();a.validTarget(h.getEl(),l).valid&&(o=h,s=h.components().indexOf(c)+1)}if(!o){var d=r.getWrapper();a.validTarget(d.getEl(),l).valid&&(o=d)}var f=o&&o.append(l,{at:s})[0];f&&r.setSelected(f,{scroll:1})}}},{key:"startDrag",value:function(e){var t=this.config,n=this.em,r=this.model.get("disable");if(0===e.button&&t.getSorter&&!this.el.draggable&&!r){n.refreshCanvas();var i=t.getSorter();i.setDragHelper(this.el,e),i.setDropContent(this.model.get("content")),i.startSort(this.el),(0,k.on)(document,"mouseup",this.endDrag)}}},{key:"handleDragStart",value:function(e){this.__getModule().__startDrag(this.model,e)}},{key:"handleDrag",value:function(e){this.__getModule().__drag(e)}},{key:"handleDragEnd",value:function(){this.__getModule().__endDrag()}},{key:"endDrag",value:function(e){(0,k.off)(document,"mouseup",this.endDrag);var t=this.config.getSorter();t.moved=0,t.endMove()}},{key:"render",value:function(){var e=this.em,t=this.el,n=this.$el,r=this.ppfx,i=this.model,o=i.get("disable"),s=i.get("attributes")||{},a=s.class||"",l="".concat(r,"block"),c=e&&e.t("blockManager.labels.".concat(i.id))||i.get("label"),u=i.get("render"),h=i.get("media"),d=o?"".concat(l,"--disable"):"".concat(r,"four-color-h");n.attr(s),t.className="".concat(a," ").concat(l," ").concat(r,"one-bg ").concat(d).trim(),t.innerHTML="\n      ".concat(h?'<div class="'.concat(l,'__media">').concat(h,"</div>"):"",'\n      <div class="').concat(l,'-label">').concat(c,"</div>\n    "),t.title=s.title||t.textContent.trim(),t.setAttribute("draggable",!(!(0,k.hasDnd)(e)||o));var f=u&&u({el:t,model:i,className:l,prefix:r});return f&&(t.innerHTML=f),this}}]),n}(f.View),O=n(168),E=n(7539);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var A=function(e){(0,s.Z)(n,e);var t=T(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"template",value:function(e){var t=e.pfx,n=e.label;return(0,E.Z)(S||(S=(0,O.Z)(['\n      <div class="','title">\n        <i class="','caret-icon"></i>\n        ','\n      </div>\n      <div class="','blocks-c"></div>\n    '])),t,t,n,t)}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=e;var t=e.pStylePrefix||"";this.em=e.em,this.pfx=t,this.caretR="fa fa-caret-right",this.caretD="fa fa-caret-down",this.iconClass="".concat(t,"caret-icon"),this.activeClass="".concat(t,"open"),this.className="".concat(t,"block-category"),this.events={},this.events["click .".concat(t,"title")]="toggle",this.listenTo(this.model,"change:open",this.updateVisibility),this.delegateEvents(),this.model.view=this}},{key:"updateVisibility",value:function(){this.model.get("open")?this.open():this.close()}},{key:"open",value:function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""}},{key:"close",value:function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"}},{key:"toggle",value:function(){var e=this.model;e.set("open",!e.get("open"))}},{key:"getIconEl",value:function(){return this.iconEl||(this.iconEl=this.el.querySelector("."+this.iconClass)),this.iconEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector("."+this.pfx+"blocks-c")),this.blocksEl}},{key:"append",value:function(e){this.getBlocksEl().appendChild(e)}},{key:"render",value:function(){var e=this.em,t=this.el,n=this.$el,r=this.model,i=this.pfx,o=e.t("blockManager.categories.".concat(r.id))||r.get("label");return t.innerHTML=this.template({pfx:i,label:o}),n.addClass(this.className),n.css({order:r.get("order")}),this.updateVisibility(),this}}]),n}(f.View);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var P=function(e){(0,s.Z)(n,e);var t=R(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"initialize",value:function(e,t){(0,u.bindAll)(this,"getSorter","onDrag","onDrop","onMove"),this.config=t||{},this.categories=e.categories||"",this.renderedCategories=[];var n=this.config.pStylePrefix||"";this.ppfx=n,this.noCatClass="".concat(n,"blocks-no-cat"),this.blockContClass="".concat(n,"blocks-c"),this.catsClass="".concat(n,"block-categories");var r=this.collection;this.listenTo(r,"add",this.addTo),this.listenTo(r,"reset",this.render),this.em=this.config.em,this.tac="test-tac",this.grabbingCls=this.ppfx+"grabbing",this.em&&(this.config.getSorter=this.getSorter,this.canvas=this.em.get("Canvas"))}},{key:"updateConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=L(L({},this.config),e)}},{key:"getSorter",value:function(){if(this.em){if(!this.sorter){var e=this.em.get("Utils"),t=this.canvas;this.sorter=new e.Sorter({container:t.getBody(),placer:t.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:t.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:this.em,canvasRelative:1})}return this.sorter}}},{key:"onDrag",value:function(e){this.em.stopDefault(),this.em.trigger("block:drag:start",e)}},{key:"onMove",value:function(e){this.em.trigger("block:drag:move",e)}},{key:"onDrop",value:function(e){var t=this.em;if(t.runDefault(),e&&e.get){var n="activeOnRender";e.get(n)&&(e.trigger("active"),e.unset(n)),t.trigger("block:drag:stop",e)}}},{key:"addTo",value:function(e){this.add(e)}},{key:"add",value:function(e,t){var n=this.config,r=t||null,i=new _({model:e,attributes:e.get("attributes")},n).render().el,o=e.get("category");if(o&&this.categories&&!n.ignoreCategories){(0,u.isString)(o)?o={id:o,label:o}:(0,u.isObject)(o)&&!o.id&&(o.id=o.label);var s=this.categories.add(o),a=s.get("id"),l=this.renderedCategories[a],c=this.getCategoriesEl();return e.set("category",s,{silent:!0}),!l&&c&&(l=new A({model:s},this.config).render(),this.renderedCategories[a]=l,c.appendChild(l.el)),void(l&&l.append(i))}r?r.appendChild(i):this.append(i)}},{key:"getCategoriesEl",value:function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl}},{key:"append",value:function(e){var t=this.getBlocksEl();t&&t.appendChild(e)}},{key:"render",value:function(){var e=this,t=this.ppfx,n=document.createDocumentFragment();this.catsEl=null,this.blocksEl=null,this.renderedCategories=[],this.el.innerHTML='\n      <div class="'.concat(this.catsClass,'"></div>\n      <div class="').concat(this.noCatClass,'">\n        <div class="').concat(this.blockContClass,'"></div>\n      </div>\n    '),this.collection.each((function(t){return e.add(t,n)})),this.append(n);var r="".concat(this.blockContClass,"s ").concat(t,"one-bg ").concat(t,"two-color");return this.$el.addClass(r),this.rendered=!0,this}}]),n}(f.View);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var N="block",I="".concat(N,":"),F="".concat(I,"add"),B="".concat(I,"update"),H="".concat(I,"remove"),Z="".concat(H,":before"),z="".concat(I,"drag"),V="".concat(z,":start"),W="".concat(z,":stop"),U="".concat(I,"custom"),G=function(e){(0,s.Z)(n,e);var t=j(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),(0,c.Z)((0,o.Z)(e),"name","BlockManager"),(0,c.Z)((0,o.Z)(e),"Block",g),(0,c.Z)((0,o.Z)(e),"Blocks",v),(0,c.Z)((0,o.Z)(e),"Category",b),(0,c.Z)((0,o.Z)(e),"Categories",x),(0,c.Z)((0,o.Z)(e),"events",{all:N,update:B,add:F,remove:H,removeBefore:Z,drag:z,dragStart:V,dragEnd:W,custom:U}),e}return(0,i.Z)(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.c=D(D({},d),t);var n=this.c.em;return this.em=n,this.blocks=new v(this.c.blocks),this.blocksVisible=new v(this.blocks.models),this.categories=new x,this.all=this.blocks,this.__initListen(),this.blocks.on("add",(function(t){return e.blocksVisible.add(t)})),this.blocks.on("remove",(function(t){return e.blocksVisible.remove(t)})),this.blocks.on("reset",(function(t){return e.blocksVisible.reset(t.models)})),this}},{key:"__trgCustom",value:function(){this.em.trigger(this.events.custom,this.__customData())}},{key:"__customData",value:function(){var e=this,t=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:t.container,dragStart:function(t,n){return e.startDrag(t,n)},drag:function(t){return e.__drag(t)},dragStop:function(t){return e.endDrag(t)}}}},{key:"__startDrag",value:function(e,t){var n=this.em,r=this.events,i=this.blocks,o=e.getContent?e.getContent():e;this._dragBlock=e,n.set({dragResult:null,dragContent:o}),[n,i].map((function(n){return n.trigger(r.dragStart,e,t)}))}},{key:"__drag",value:function(e){var t=this.em,n=this.events,r=this.blocks,i=this._dragBlock;[t,r].map((function(t){return t.trigger(n.drag,i,e)}))}},{key:"__endDrag",value:function(){var e=this.em,t=this.events,n=this.blocks,r=this._dragBlock,i=e.get("dragResult");if(this._dragBlock=null,i){var o="activeOnRender",s=i.get&&i.get(o),a=r.get("activate")||s,l=r.get("select"),c=(0,u.isArray)(i)?i[0]:i;(l||a&&!1!==l)&&e.setSelected(c),a&&(c.trigger("active"),s&&c.unset(o)),r.get("resetId")&&c.onAll((function(e){return e.resetId()}))}e.set({dragResult:null,dragContent:null}),[e,n].map((function(e){return e.trigger(t.dragEnd,i,r)}))}},{key:"__getFrameViews",value:function(){return this.em.get("Canvas").getFrames().map((function(e){return e.view}))}},{key:"__behaviour",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._bhv=D(D({},this._bhv||{}),e)}},{key:"__getBehaviour",value:function(){return this._bhv||{}}},{key:"startDrag",value:function(e,t){this.__startDrag(e,t),this.__getFrameViews().forEach((function(e){return e.droppable.startCustom()}))}},{key:"endDrag",value:function(e){this.__getFrameViews().forEach((function(t){return t.droppable.endCustom(e)})),this.__endDrag()}},{key:"getConfig",value:function(){return this.c}},{key:"postRender",value:function(){var e=this.categories,t=this.blocksVisible;this.blocksView=new P({collection:t,categories:e},this.c);var n=this.getConfig().appendTo;if(n){var r=(0,u.isElement)(n)?n:document.querySelector(n);if(!r)return this.__logWarn('"appendTo" element not found');r.appendChild(this.render(this.blocksVisible.models))}this.__trgCustom()}},{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t||{};return r.id=e,this.blocks.add(r,n)}},{key:"get",value:function(e){return this.blocks.get(e)}},{key:"getAll",value:function(){return this.blocks}},{key:"getAllVisible",value:function(){return this.blocksVisible}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.__remove(e,t)}},{key:"getCategories",value:function(){return this.categories}},{key:"getContainer",value:function(){return this.blocksView.el}},{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.categories.categories,r=e||this.getAll().models;if(t.external){var i=new v(r);return new P({collection:i,categories:n},D(D({},this.c),t)).render().el}return this.blocksView&&(this.blocksView.updateConfig(t),this.blocksView.collection.reset(r),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=1)),this.getContainer()}},{key:"destroy",value:function(){var e,t=[this.blocks,this.blocksVisible,this.categories];t.map((function(e){return e.stopListening()})),t.map((function(e){return e.reset()})),null===(e=this.blocksView)||void 0===e||e.remove(),this.c={},this.blocks={},this.blocksVisible={},this.blocksView={},this.categories=[],this.all={}}}]),n}(h.Z)},7619:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var i=n(9050),o={stylePrefix:"cm-",inlineCss:!1},s=n(4925),a=n(5671),l=n(3144),c=n(9340),u=n(2963),h=n(1120),d=n(2316),f=["em"];function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var i=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var g=function(e){(0,c.Z)(n,e);var t=p(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"build",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.em,r=(0,s.Z)(t,f);if(t.cleanId&&n){var i=n.get("CssComposer").getAll().toJSON().map((function(e){var t=e.selectors,n=t&&1===t.length&&t.models[0];return n&&n.isId()&&n.get("name")})).filter((function(e){return e}));r.attributes||(r.attributes=function(e,t){var n=t.id;return n&&"i"===n[0]&&!e.get("script")&&!e.get("attributes").id&&i.indexOf(n)<0&&delete t.id,t})}return e.toHTML(r)}}]),n}(d.Model),m=n(8795);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var i=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var y=function(e){(0,c.Z)(n,e);var t=v(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"build",value:function(e){var t=e.toJSON();return this.beforeEach(t),(0,i.each)(t,(function(e,n){var r=t[n];if(r instanceof d.Model)t[n]=this.build(r);else if(r instanceof d.Collection){var i=r;t[n]=[],i.length&&i.each((function(e,r){t[n][r]=this.build(e)}),this)}}),this),t}},{key:"beforeEach",value:function(e){delete e.status}}]),n}(d.Model);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var i=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var w,x=function(e){(0,c.Z)(n,e);var t=b(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"mapModel",value:function(e){var t="",n=e.get("script-export")||e.get("script"),o=e.get("type"),s=e.get("components"),a=e.getId();if(n){var l=e.get("attributes");l=(0,i.extend)({},l,{id:a}),e.set("attributes",l,{silent:1});var c=e.getScriptString(n),u=e.get("script-props");if(e.get("scriptUpdated")&&!u)this.mapJs[o+"-"+a]={ids:[a],code:c};else{var h,d=this.mapJs[o];if(u&&(h=e.__getScriptProps()),d)d.ids.push(a),h&&(d.props[a]=h);else{var f={ids:[a],code:c};h&&(f.props=r({},a,h)),this.mapJs[o]=f}}}return s.each((function(e){t+=this.mapModel(e)}),this),t}},{key:"build",value:function(e){this.mapJs={},this.mapModel(e);var t="";for(var n in this.mapJs){var r=this.mapJs[n];if(r.code)if(r.props){if(0===r.code.toString().match(/\{([\s\S]*)\}/m)[1].replace(/^\s*\/\/.*$/gm,"").trim().length)continue;t+="\n          var props = ".concat(JSON.stringify(r.props),";\n          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');\n          var els = document.querySelectorAll(ids);\n          for (var i = 0, len = els.length; i < len; i++) {\n            var el = els[i];\n            (").concat(r.code,".bind(el))(props[el.id]);\n          }")}else{var i="#"+r.ids.join(", #");t+="\n          var items = document.querySelectorAll('".concat(i,"');\n          for (var i = 0, len = items.length; i < len; i++) {\n            (function(){\n").concat(r.code,"\n}.bind(items[i]))();\n          }")}}return t}}]),n}(d.Model),k=n(4942);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var i=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}(0,n(1163).hasWin)()&&(w=n(4631),n(6531),n(6629),n(9210));var _=function(e){(0,c.Z)(n,e);var t=S(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"defaults",value:function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0}}},{key:"init",value:function(e){return(0,i.bindAll)(this,"onChange"),this.editor=w.fromTextArea(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,k.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=e,this.editor.on("change",this.onChange),this}},{key:"onChange",value:function(){this.trigger("update",this)}},{key:"getEditor",value:function(){return this.editor}},{key:"getElement",value:function(){return this.element}},{key:"setElement",value:function(e){return this.element=e,this}},{key:"refresh",value:function(){return this.getEditor().refresh(),this}},{key:"focus",value:function(){return this.getEditor().focus(),this}},{key:"getContent",value:function(){var e=this.getEditor();return e&&e.getValue()}},{key:"setContent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.editor;r&&(r.setValue(e),r.autoFormatRange&&(w.commands.selectAll(r),r.autoFormatRange(r.getCursor(!0),r.getCursor(!1)),w.commands.goDocStart(r)),!n.noRefresh&&setTimeout((function(){return t.refresh()})))}}]),n}(d.Model);_.prototype.CodeMirror=w;var O,E=n(168),T=n(7539);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var i=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var $=function(e){(0,c.Z)(n,e);var t=A(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"template",value:function(e){var t=e.pfx,n=e.codeName,r=e.label;return(0,T.Z)(O||(O=(0,E.Z)(['\n      <div class="','editor" id="',"",'">\n        <div id="','title">','</div>\n        <div id="','code"></div>\n      </div>\n    '])),t,t,n,t,r,t)}},{key:"initialize",value:function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix}},{key:"render",value:function(){var e=this.model,t=this.pfx,n=this.$el,r=e.toJSON();return r.pfx=t,n.html(this.template(r)),n.attr("class","".concat(t,"editor-c")),n.find("#".concat(t,"code")).append(e.get("input")),this}}]),n}(d.View),L=function(){var e={},t={},n={},r={},s={},a="CodeMirror";return{getConfig:function(){return e},config:e,EditorView:$,name:"CodeManager",init:function(t){for(var r in e=t||{},o)r in e||(e[r]=o[r]);var i=e.pStylePrefix;return i&&(e.stylePrefix=i+e.stylePrefix),n.html=new g,n.css=new m.Z,n.json=new y,n.js=new x,s.CodeMirror=new _,this.loadDefaultGenerators().loadDefaultViewers(),this},addGenerator:function(e,n){return t[e]=n,this},getGenerator:function(e){return t[e]||null},getGenerators:function(){return t},addViewer:function(e,t){return r[e]=t,this},getViewer:function(e){return r[e]||null},getViewers:function(){return r},createViewer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.isUndefined)(e.type)?a:e.type,n=this.getViewer(t)&&this.getViewer(t).clone(),r=document.createElement("div"),o=document.createElement("textarea");return r.appendChild(o),n.set(e),n.init(o),n.setElement(r),n},updateViewer:function(e,t){e.setContent(t)},getCode:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.em=e.em;var i=this.getGenerator(n);return i?i.build(t,r):""},loadDefaultGenerators:function(){for(var e in n)this.addGenerator(e,n[e]);return this},loadDefaultViewers:function(){for(var e in s)this.addViewer(e,s[e]);return this},destroy:function(){[e,t,n,r,s].forEach((function(e){return{}}))}}}},8795:function(e,t,n){"use strict";n.d(t,{U:function(){return f},Z:function(){return p}});var r=n(5671),i=n(3144),o=n(9340),s=n(2963),a=n(1120),l=n(9050),c=n(2316),u=n(1163);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.Z)(e);if(t){var i=(0,a.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var d=Number.MAX_VALUE,f=function(e){var t=/(-?\d*\.?\d+)\w{0,}/.exec(e);return t?t[0]:""},p=function(e){(0,o.Z)(n,e);var t=h(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"initialize",value:function(){(0,l.bindAll)(this,"sortRules"),this.compCls=[],this.ids=[]}},{key:"buildFromModel",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="",i=this.em,o=i&&i.getConfig().avoidInlineStyle,s=e.styleToString(),a=e.get("classes");return this.ids.push("#".concat(e.getId())),a.each((function(e){return t.compCls.push(e.getFullName())})),!o&&s&&(r="#".concat(e.getId(),"{").concat(s,"}")),e.components().each((function(e){return r+=t.buildFromModel(e,n)})),r}},{key:"build",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.json,i=n.em||"",o=n.cssc||i&&i.get("CssComposer");this.em=i,this.compCls=[],this.ids=[],this.model=e;var s=[],a=e?this.buildFromModel(e,n):"",c=(0,l.isUndefined)(n.clearStyles)&&i?i.getConfig().clearStyles:n.clearStyles;if(o){var h=n.rules||o.getAll(),d={},f=[];n.onlyMatched&&e&&(0,u.hasWin)()&&(h=this.matchedRules(e,h)),h.forEach((function(e){var i=e.getAtRule();if(i){var o=d[i];o?o.push(e):d[i]=[e]}else{var l=t.buildFromRule(e,f,n);r?s.push(l):a+=l}})),this.sortMediaObject(d).forEach((function(e){var i="",o=e.key;e.value.forEach((function(e){var l=t.buildFromRule(e,f,n);e.get("singleAtRule")?a+="".concat(o,"{").concat(l,"}"):i+=l,r&&s.push(l)})),i&&(a+="".concat(o,"{").concat(i,"}"))})),i&&c&&h.remove&&h.remove(f)}return r?s.filter((function(e){return e})):a}},{key:"buildFromRule",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="",s=this.model,a=e.selectorsToString({skipAdd:1}),l=e.get("selectorsAdd"),c=e.get("singleAtRule");if(e.get("selectors").each((function(e){var t=e.getFullName();(r.compCls.indexOf(t)>=0||r.ids.indexOf(t)>=0||i.keepUnusedStyles)&&(n=1)})),a&&n||l||c||!s){var u=e.getDeclaration({body:1});u&&(i.json?o=e:o+=u)}else t.push(e);return o}},{key:"matchedRules",value:function(e,t){var n=this,r=e.getEl(),i=[];return t.forEach((function(e){try{e.selectorsToString().split(",").some((function(e){return r.matches(n.__cleanSelector(e))}))&&i.push(e)}catch(e){}})),e.components().forEach((function(e){i=i.concat(n.matchedRules(e,t))})),i=i.filter((function(e,t){return i.indexOf(e)===t}))}},{key:"getQueryLength",value:function(e){var t=/(-?\d*\.?\d+)\w{0,}/.exec(e);return t?parseFloat(t[1]):d}},{key:"sortMediaObject",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[];return(0,l.each)(t,(function(e,t){return n.push({key:t,value:e})})),n.sort((function(t,n){var r=[t.key,n.key].every((function(e){return-1!==e.indexOf("min-width")})),i=r?t.key:n.key,o=r?n.key:t.key;return e.getQueryLength(i)-e.getQueryLength(o)}))}},{key:"sortRules",value:function(e,t){var n=function(e){return e.get("mediaText")},r=[n(e),n(t)].every((function(e){return-1!==e.indexOf("min-width")})),i=n(r?e:t),o=n(r?t:e);return this.getQueryLength(i)-this.getQueryLength(o)}},{key:"__cleanSelector",value:function(e){return e.split(" ").map((function(e){return e.split(":")[0]})).join(" ")}}]),n}(c.Model)},289:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(2982),i=n(4942),o=n(9050),s=n(238),a={stylePrefix:"com-",defaults:[],strict:1},l=n(9138);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],d=function(){var e,t={},i={},c={},d={};return{CommandAbstract:s.default,name:"Commands",init:function(){var i=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=u(u({},a),s),e=t.em;var d=t.pStylePrefix;return d&&(t.stylePrefix=d+t.stylePrefix),Object.keys(t.defaults).forEach((function(e){var n=t.defaults[e];n.id&&i.add(n.id,n)})),c["tlb-delete"]={run:function(e){return e.runCommand("core:component-delete")}},c["tlb-clone"]={run:function(e){e.runCommand("core:copy"),e.runCommand("core:paste",{action:"clone-component"})}},c["tlb-move"]={run:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.getModel(),s=n&&n.event,a=n.target,c=a||e.getSelected(),u=a?[a]:(0,r.Z)(e.getSelectedAll()),h=s&&"dragstart"==s.type,d={preserveSelected:1},f=["absolute","translate"];if(!c||!c.get("draggable"))return i.logWarning("The element is not draggable");var p=c.get("dmode")||i.get("dmode"),g=function(){return i.stopDefault(d)},m=(0,o.includes)(f,p);u.forEach((function(e){return e.trigger("disable")})),h?setTimeout(g,0):g();var v=function(e){i.trigger("".concat(l.OA,":start"),e)},y=function(e){i.trigger(l.OA,e)},b=function(t,n,r){u.forEach((function(e){return e.set("status","selected")})),e.select(u),c.emitUpdate(),i.trigger("".concat(l.OA,":end"),r),setTimeout((function(){return i.runDefault(d)})),(m||r.cancelled)&&i.set("_cmpDrag",1)};if(m)e.runCommand("core:component-drag",{guidesInfo:1,mode:p,target:c,onStart:v,onDrag:y,onEnd:b,event:s});else{h&&s.dataTransfer.setDragImage(c.view.el,0,0);var w=e.Commands.get("move-comp");w.onStart=v,w.onDrag=y,w.onEndMoveFromModel=b,w.initSorterFromModels(u)}u.forEach((function(e){return e.set("status","freezed-selected")}))}},c["core:undo"]=function(e){return e.UndoManager.undo()},c["core:redo"]=function(e){return e.UndoManager.redo()},h.forEach((function(t){var r=t[2],i=n(2828)("./".concat(t[1])).default,o="core:".concat(t[0]);c[o]=i,r&&(c[r]=i,["run","stop"].forEach((function(t){e.on("".concat(t,":").concat(r),(function(){for(var n,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=e).trigger.apply(n,["".concat(t,":").concat(o)].concat(i))}))})))})),t.em&&(t.model=t.em.get("Canvas")),this.loadDefaultCommands(),this},add:function(e,t){return(0,o.isFunction)(t)&&(t={run:t}),t.stop||(t.noStop=1),delete t.initialize,t.id=e,i[e]=s.default.extend(t),this},get:function(n){var r=i[n];return(0,o.isFunction)(r)?(r=new r(t),i[n]=r):r||e.logWarning("'".concat(n,"' command not found")),r},extend:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.get(e);if(n){var r=u(u({},n.constructor.prototype),t);this.add(e,r);var i=h.filter((function(t){return"core:".concat(t[0])===e&&t[2]}))[0];i&&this.add(i[2],r)}return this},has:function(e){return!!i[e]},getAll:function(){return i},run:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.runCommand(this.get(e),t)},stop:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.stopCommand(this.get(e),t)},isActive:function(e){return this.getActive().hasOwnProperty(e)},getActive:function(){return d},loadDefaultCommands:function(){for(var e in c)this.add(e,c[e]);return this},runCommand:function(n){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n&&n.run){var o=n.id,s=e.get("Editor");this.isActive(o)&&!i.force&&t.strict||(r=s&&n.callRun(s,i),o&&n.stop&&!n.noStop&&!i.abort&&(d[o]=r))}return r},stopCommand:function(n){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n&&n.run){var o=n.id,s=e.get("Editor");(this.isActive(o)||i.force||!t.strict)&&(o&&delete d[o],r=n.callStop(s,i))}return r},create:function(e){return e.stop||(e.noStop=1),new(s.default.extend(e))(t)},destroy:function(){[e,t,i,c,d].forEach((function(e){return{}}))}}}},7202:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var r={run:function(e){e.DomComponents.clear(),e.CssComposer.clear()}}},327:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9050),i=n(1163),o=n(5610),s={run:function(e){(0,r.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=e,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(e){this.toggleMove(),this.disableDragger()},onKeyUp:function(e){" "===(0,i.getKeyChar)(e)&&this.editor.stopCommand(this.id)},enableDragger:function(e){this.toggleDragger(1,e)},disableDragger:function(e){this.toggleDragger(0,e)},toggleDragger:function(e,t){var n=this.canvasModel,r=this.em,i=this.dragger,s=e?"add":"remove";this.getCanvas().classList[s]("".concat(this.ppfx,"is__grabbing")),i||(i=new o.Z({getPosition:function(){return{x:n.get("x"),y:n.get("y")}},setPosition:function(e){var t=e.x,r=e.y;n.set({x:t,y:r})},onStart:function(e,t){r.trigger("canvas:move:start",t)},onDrag:function(e,t){r.trigger("canvas:move",t)},onEnd:function(e,t){r.trigger("canvas:move:end",t)}}),this.dragger=i),e?i.start(t):i.stop()},toggleMove:function(e){var t=this.ppfx,n=e?"add":"remove",r=e?"on":"off",o={on:i.on,off:i.off},s=this.getCanvas(),a=["".concat(t,"is__grab")];!e&&a.push("".concat(t,"is__grabbing")),a.forEach((function(e){return s.classList[n](e)})),o[r](document,"keyup",this.onKeyUp),o[r](s,"mousedown",this.enableDragger),o[r](document,"mouseup",this.disableDragger)}}},238:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(5671),i=n(3144),o=n(9340),s=n(2963),a=n(1120);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.Z)(e);if(t){var i=(0,a.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var c=function(e){(0,o.Z)(n,e);var t=l(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"initialize",value:function(e){this.config=e||{},this.editorModel=this.em=this.config.em||{},this.pfx=this.config.stylePrefix,this.ppfx=this.config.pStylePrefix,this.hoverClass=this.pfx+"hover",this.badgeClass=this.pfx+"badge",this.plhClass=this.pfx+"placeholder",this.freezClass=this.ppfx+"freezed",this.canvas=this.em.get&&this.em.get("Canvas"),this.init(this.config)}},{key:"onFrameScroll",value:function(e){}},{key:"getCanvas",value:function(){return this.canvas.getElement()}},{key:"getCanvasBody",value:function(){return this.canvas.getBody()}},{key:"getCanvasTools",value:function(){return this.canvas.getToolsEl()}},{key:"offset",value:function(e){var t=e.getBoundingClientRect();return{top:t.top+e.ownerDocument.body.scrollTop,left:t.left+e.ownerDocument.body.scrollLeft}}},{key:"init",value:function(e){}},{key:"callRun",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.id;if(e.trigger("run:".concat(n,":before"),t),!t||!t.abort){var r=t.sender||e,i=this.run(e,r,t);return e.trigger("run:".concat(n),i,t),e.trigger("run",n,i,t),i}e.trigger("abort:".concat(n),t)}},{key:"callStop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.id,r=t.sender||e;e.trigger("stop:".concat(n,":before"),t);var i=this.stop(e,r,t);return e.trigger("stop:".concat(n),i,t),e.trigger("stop",n,i,t),i}},{key:"stopCommand",value:function(){this.em.get("Commands").stop(this.id)}},{key:"run",value:function(e,t){}},{key:"stop",value:function(e,t){}}]),n}(n(2316).Model)},5820:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(2982),i=n(9050),o={run:function(e,t){var n=this,o=[],s=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).component||e.getSelectedAll();return(s=(0,i.isArray)(s)?(0,r.Z)(s):[s]).filter(Boolean).forEach((function(e){if(!e.get("removable"))return o.push(e),n.em.logWarning("The element is not removable",{component:e});e.remove()})),e.select(o),s}}},6694:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(4942),i=n(9050),o=n(5610);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l="dmode",c={run:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var s=r.target,c=r.event,u=r.mode,h=r.dragger,d=void 0===h?{}:h,f=a({doc:s.getEl().ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return n.guidesStatic},guidesTarget:function(){return n.guidesTarget}},d);this.setupGuides(),this.opts=r,this.editor=e,this.em=e.getModel(),this.target=s,this.isTran="translate"==u,this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var p=this.dragger;return p?p.setOptions(f):(p=new o.Z(f),this.dragger=p),c&&p.start(c),this.toggleDrag(1),this.em.trigger("".concat(l,":start"),this.getEventOpts()),p},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach((function(e){var t=e.guide;t&&t.parentNode.removeChild(t)})),this.guides=[]},getGuidesContainer:function(){var e=this,t=this.guidesEl;if(!t){var n=this.editor,r=this.em,o=this.opts,s=n.getConfig().stylePrefix,a=document.createElement("div"),l=document.createElement("div"),c='<div class="'.concat(s,"guide-info__line ").concat(s,'danger-bg">\n        <div class="').concat(s,"guide-info__content ").concat(s,'danger-color"></div>\n      </div>');(t=document.createElement("div")).className="".concat(s,"guides"),a.className="".concat(s,"guide-info ").concat(s,"guide-info__x"),l.className="".concat(s,"guide-info ").concat(s,"guide-info__y"),a.innerHTML=c,l.innerHTML=c,t.appendChild(a),t.appendChild(l),n.Canvas.getGlobalToolsEl().appendChild(t),this.guidesEl=t,this.elGuideInfoX=a,this.elGuideInfoY=l,this.elGuideInfoContentX=a.querySelector(".".concat(s,"guide-info__content")),this.elGuideInfoContentY=l.querySelector(".".concat(s,"guide-info__content")),r.on("canvas:update frame:scroll",(0,i.debounce)((function(){e.updateGuides(),o.debug&&e.guides.forEach((function(t){return e.renderGuide(t)}))}),200))}return t},getGuidesStatic:function(){var e=this,t=[],n=this.target.getEl(),r=n.parentNode,o=void 0===r?{}:r;return(0,i.each)(o.children,(function(r){return t=t.concat(n!==r?e.getElementGuides(r):[])})),t.concat(this.getElementGuides(o))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(e){var t,n,r=this;(e||this.guides).forEach((function(e){var o=e.origin,s=t===o?n:r.getElementPos(o);t=o,n=s,(0,i.each)(r.getGuidePosUpdate(e,s),(function(t,n){return e[n]=t})),e.originRect=s}))},getGuidePosUpdate:function(e,t){var n={},r=t.top,i=t.height,o=t.left,s=t.width;switch(e.type){case"t":n.y=r;break;case"b":n.y=r+i;break;case"l":n.x=o;break;case"r":n.x=o+s;break;case"x":n.x=o+s/2;break;case"y":n.y=r+i/2}return n},renderGuide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.guide||document.createElement("div"),n="px",r=e.active?2:1,i=t.children[0];return t.style="position: absolute; background-color: ".concat(e.active?"green":"red",";"),t.children.length||((i=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",t.appendChild(i)),e.y?(t.style.width="100%",t.style.height="".concat(r).concat(n),t.style.top="".concat(e.y).concat(n),t.style.left=0):(t.style.width="".concat(r).concat(n),t.style.height="100%",t.style.left="".concat(e.x).concat(n),t.style.top="0".concat(n)),!e.guide&&this.guidesContainer.appendChild(t),t},getElementPos:function(e){return this.editor.Canvas.getElementPos(e,{noScroll:1})},getElementGuides:function(e){var t=this,n=this.opts,r=this.getElementPos(e),i=r.top,o=r.height,s=r.left,l=r.width,c=[{type:"t",y:i},{type:"b",y:i+o},{type:"l",x:s},{type:"r",x:s+l},{type:"x",x:s+l/2},{type:"y",y:i+o/2}].map((function(i){return a(a({},i),{},{origin:e,originRect:r,guide:n.debug&&t.renderGuide(i)})}));return c.forEach((function(e){return t.guides.push(e)})),c},getTranslate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=0;return(e||"").split(" ").forEach((function(e){var r=e.trim(),i="translate".concat(t.toUpperCase(),"(");0===r.indexOf(i)&&(n=parseFloat(r.replace(i,"")))})),n},setTranslate:function(e,t,n){var r="translate".concat(t.toUpperCase(),"("),i="".concat(r).concat(n,")"),o=(e||"").split(" ").map((function(e){return 0===e.trim().indexOf(r)&&(e=i),e})).join(" ");return o.indexOf(r)<0&&(o+=" ".concat(i)),o},getPosition:function(){var e=this.target,t=this.isTran,n=e.getStyle(),r=n.left,i=n.top,o=n.transform,s=0,a=0;return t?(s=this.getTranslate(o),a=this.getTranslate(o,"y")):(s=parseFloat(r||0),a=parseFloat(i||0)),{x:s,y:a}},setPosition:function(e){var t=e.x,n=e.y,r=e.end,o=e.position,s=e.width,a=e.height,l=this.target,c=this.isTran,u=this.em,h="px",d=r?"":1,f="".concat(t).concat(h),p="".concat(n).concat(h),g={};if(c){var m=l.getStyle().transform||"";m=this.setTranslate(m,"x",f),g={transform:m=this.setTranslate(m,"y",p),en:d},l.addStyle(g,{avoidStore:!r})}else{var v={position:o,width:s,height:a},y={left:f,top:p,en:d};(0,i.keys)(v).forEach((function(e){var t=v[e];t&&(y[e]=t)})),g=y,l.addStyle(g,{avoidStore:!r})}u.getSelected()&&(0,i.keys)(g).forEach((function(e){return u.trigger("update:component:style:".concat(e))}))},_getDragData:function(){var e=this.target;return{target:e,parent:e.parent(),index:e.index()}},onStart:function(e){var t=this.target,n=this.editor,r=this.isTran,i=this.opts,o=i.center,s=i.onStart,a=n.Canvas,l=t.getStyle(),c="absolute",u=[c,"relative"];if(s&&s(this._getDragData()),!r&&l.position!==c){var h,d=a.offset(t.getEl()),f=d.left,p=d.top,g=d.width,m=d.height,v=t.parent();do{var y=v.getStyle();h=u.indexOf(y.position)>=0?v:null,v=v.parent()}while(v&&!h);if(o){var b=a.getMouseRelativeCanvas(e);f=b.x,p=b.y}else if(h){var w=a.offset(h.getEl());f-=w.left,p-=w.top}this.setPosition({x:f,y:p,width:"".concat(g,"px"),height:"".concat(m,"px"),position:c})}},onDrag:function(){var e=this,t=this.guidesTarget,n=this.opts,r=n.onDrag;this.updateGuides(t),n.debug&&t.forEach((function(t){return e.renderGuide(t)})),n.guidesInfo&&this.renderGuideInfo(t.filter((function(e){return e.active}))),r&&r(this._getDragData())},onEnd:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.editor,i=this.opts,o=this.id,s=i.onEnd;s&&s(e,n,a(a({event:e},n),this._getDragData())),r.stopCommand(o),this.hideGuidesInfo(),this.em.trigger("".concat(l,":end"),this.getEventOpts())},hideGuidesInfo:function(){var e=this;["X","Y"].forEach((function(t){var n=e["elGuideInfo".concat(t)];n&&(n.style.display="none")}))},renderGuideInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.guidesStatic;this.hideGuidesInfo(),t.forEach((function(t){var r=t.origin,o=t.x,s=e.getElementPos(r),c=(0,i.isUndefined)(o)?"y":"x",u="y"===c,h=s[u?"left":"top"],d=s.rect[u?"left":"top"],f=u?h+s.width:h+s.height,p=u?d+s.rect.width:d+s.rect.height,g=e["elGuideInfo".concat(c.toUpperCase())],m=e["elGuideInfoContent".concat(c.toUpperCase())],v=g.style,y=n.filter((function(e){return e.type===t.type})).map((function(e){var t=e.originRect,n=t.left,r=t.width,i=t.top,o=t.height,s=u?n+r:i+o;return{gap:s<h?h-s:(u?n:i)-f,guide:e}})).filter((function(e){return e.gap>0})).sort((function(e,t){return e.gap-t.gap})).map((function(e){return e.guide}))[0];if(y){var b=y.originRect,w=b.left,x=b.width,k=b.top,C=b.height,S=b.rect,_=u?w<s.left:k<s.top,O=u?w:k,E=u?S.left:S.top,T=u?w+x:k+C,A=u?S.left+S.width:S.top+S.height,$=u?t.y:t.x,L=_?T:f,R="".concat($,"px"),P=_?h-T:O-f,M=_?d-A:E-p;v.display="",v[u?"top":"left"]=R,v[u?"left":"top"]="".concat(L,"px"),v[u?"width":"height"]="".concat(P,"px"),m.innerHTML="".concat(Math.round(M),"px"),e.em.trigger("".concat(l,":active"),a(a({},e.getEventOpts()),{},{guide:t,guidesStatic:n,matched:y,posFirst:$,posSecond:L,size:P,sizeRaw:M,elGuideInfo:g,elGuideInfoCnt:m}))}}))},toggleDrag:function(e){var t=this.ppfx,n=this.editor,r=e?"add":"remove",i=["".concat(t,"is__grabbing")],o=n.Canvas,s=o.getBody();i.forEach((function(e){return s.classList[r](e)})),o[e?"startAutoscroll":"stopAutoscroll"]()}}},1947:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var r={run:function(e){if(e.Canvas.hasFocus()){var t=[];e.getSelectedAll().forEach((function(e){var n=e.components(),r=n&&n.filter((function(e){return e.get("selectable")}))[0];r&&t.push(r)})),t.length&&e.select(t)}}}},3888:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var r={run:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.Canvas.hasFocus()||n.force){var r=[];e.getSelectedAll().forEach((function(e){for(var t=e.parent();t&&!t.get("selectable");)t=t.parent();t&&r.push(t)})),r.length&&e.select(r)}}}},5883:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var r={run:function(e){if(e.Canvas.hasFocus()){var t=[];e.getSelectedAll().forEach((function(e){var n=e.parent();if(n){var r,i=n.components().length,o=0,s=0;do{o++,r=(s=e.index()+o)<=i?n.getChildAt(s):null}while(r&&!r.get("selectable"));t.push(r||e)}})),t.length&&e.select(t)}}}},7508:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var r={run:function(e){if(e.Canvas.hasFocus()){var t=[];e.getSelectedAll().forEach((function(e){var n=e.parent();if(n){var r,i=0,o=0;do{i++,r=(o=e.index()-i)>=0?n.getChildAt(o):null}while(r&&!r.get("selectable"));t.push(r||e)}})),t.length&&e.select(t)}}}},8769:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(9050),i={run:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).target,i=[];if(!n.get("styles"))return i;var o=n.get("type"),s=e.Pages.getAllWrappers(),a=(0,r.flatten)(s.map((function(e){return e.findType(o)}))).length;if(!a){var l=e.CssComposer.getAll();i=l.filter((function(e){return e.get("group")==="cmp:".concat(o)})),l.remove(i)}return i}}},2213:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(2982),i={run:function(e){var t=e.getModel(),n=(0,r.Z)(e.getSelectedAll());n.length&&t.set("clipboard",n)}}},5049:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(9050),i=n(2316),o=n.n(i),s=n(2620),a=o().$,l=(0,r.extend)({},s.default,{init:function(e){(0,r.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(e){e.stopPropagation();var t=a(e.target);t.data("model").get("removable")&&(t.addClass(this.hoverClass),this.attachBadge(t.get(0)))},stopDelete:function(e){e.stopPropagation(),a(e.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(e){e.stopPropagation();var t=a(e.target);t.data("model").get("removable")&&(t.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(e){this.badge.html("Remove "+e.getName())}})},3775:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(2316),i=n.n(r)().$,o={run:function(e,t){var n=this;t&&t.set&&t.set("active",0);var r=e.getConfig(),o=e.Modal,s=r.stylePrefix;if(this.cm=e.CodeManager||null,!this.$editors){var a=this.buildEditor("htmlmixed","hopscotch","HTML"),l=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=a.el,this.cssEditor=l.el;var c=i('<div class="'.concat(s,'export-dl"></div>'));c.append(a.$el).append(l.$el),this.$editors=c}o.open({title:r.textViewCode,content:this.$editors}).getModel().once("change:open",(function(){return e.stopCommand(n.id)})),this.htmlEditor.setContent(e.getHtml()),this.cssEditor.setContent(e.getCss())},stop:function(e){var t=e.Modal;t&&t.close()},buildEditor:function(e,t,n){var r=document.createElement("textarea");!this.codeMirror&&(this.codeMirror=this.cm.getViewer("CodeMirror"));var i=this.codeMirror.clone().set({label:n,codeName:e,theme:t,input:r}),o=new this.cm.EditorView({model:i,config:this.cm.getConfig()}).render().$el;return i.init(r),{el:i,$el:o}}}},58:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(9050),i={isEnabled:function(){var e=document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement?1:0},enable:function(e){var t="";return e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?(t="webkit",e.webkitRequestFullscreen()):e.mozRequestFullScreen?(t="moz",e.mozRequestFullScreen()):e.msRequestFullscreen?e.msRequestFullscreen():console.warn("Fullscreen not supported"),t},disable:function(){var e=document;this.isEnabled()&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},fsChanged:function(e,t){document;var n=(e||"")+"fullscreenchange";this.isEnabled()||(this.stop(null,this.sender),document.removeEventListener(n,this.fsChanged))},run:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.sender=t;var i=n.target,o=(0,r.isElement)(i)?i:document.querySelector(i),s=this.enable(o||e.getContainer());this.fsChanged=this.fsChanged.bind(this,s),document.addEventListener(s+"fullscreenchange",this.fsChanged),e.trigger("change:canvasOffset")},stop:function(e,t){t&&t.set&&t.set("active",!1),this.disable(),e&&e.trigger("change:canvasOffset")}}},8658:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(9050),i=n(2316),o=n.n(i),s=n(1163),a=n(2620),l=n(8463),c=o().$,u=(0,r.extend)({},l.default,a.default,{init:function(e){a.default.init.apply(this,arguments),(0,r.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=e,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.default.enable.apply(this,t),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var r=this.$wrapper;r.css("cursor","move"),r.on("mousedown",this.initSorter),r.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(e){var t=c(e.target).data("model").get("draggable");t&&(this.cacheEl=null,this.startSelectPosition(e.target,this.frameEl.contentDocument),this.sorter.draggable=t,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,s.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(e){var t=e.get("draggable");if(t){this.cacheEl=null;var n=e.view.el;this.startSelectPosition(n,this.frameEl.contentDocument),this.sorter.draggable=t,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,s.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(e){this.cacheEl=null;var t=e[e.length-1],n=(this.em.get("currentFrame")||{}).model,r=t.getEl(n),i=r.ownerDocument;this.startSelectPosition(r,i,{onStart:this.onStart}),this.sorter.draggable=t.get("draggable"),this.sorter.toMove=e,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,s.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,s.off)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,s.off)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(e,t){},rollback:function(e,t){(27==(e.which||e.keyCode)||t)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=c(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=c(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.default.stop.apply(this,t),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass),this.$wrapper.css("cursor","").unbind().removeClass(this.noSelClass)}})},9617:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9050),i=n(9283),o={open:function(e){var t=this,n=this.editor,i=this.title,o=this.config,s=this.am,a=o.custom;if((0,r.isFunction)(a.open))return a.open(s.__customData());n.Modal.open({title:i,content:e}).onceClose((function(){return n.stopCommand(t.id)}))},close:function(){var e=this.config.custom;if((0,r.isFunction)(e.close))return e.close(this.am.__customData());var t=this.editor.Modal;t&&t.close()},run:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.AssetManager,o=r.getConfig(),s=n.types,a=void 0===s?[]:s,l=n.accept,c=n.select;if(this.title=n.modalTitle||e.t("assetManager.modalTitle")||"",this.editor=e,this.config=o,this.am=r,r.setTarget(n.target),r.onClick(n.onClick),r.onDblClick(n.onDblClick),r.onSelect(n.onSelect),r.__behaviour({select:c,types:a,options:n}),o.custom)this.rendered=this.rendered||(0,i.ut)("div"),this.rendered.className="".concat(o.stylePrefix,"custom-wrp"),r.__behaviour({container:this.rendered}),r.__trgCustom();else{if(!this.rendered||a){var u=r.getAll().filter((function(e){return e}));a&&a.length&&(u=u.filter((function(e){return-1!==a.indexOf(e.get("type"))}))),r.render(u),this.rendered=r.getContainer()}if(l){var h=this.rendered.querySelector("input#".concat(o.stylePrefix,"uploadFile"));h&&h.setAttribute("accept",l)}}return this.open(this.rendered),this},stop:function(e){this.editor=e,this.close(this.rendered)}}},5821:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9050),i=n(9283),o={open:function(){var e=this.container,t=this.editor,n=this.bm,i=this.config,o=i.custom,s=i.appendTo;if((0,r.isFunction)(o.open))return o.open(n.__customData());if(this.firstRender&&!s){var a="views-container",l=t.Panels;(l.getPanel(a)||l.addPanel({id:a})).set("appendContent",e).trigger("change:appendContent"),o||e.appendChild(n.render())}e&&(e.style.display="block")},close:function(){var e=this.container,t=this.config.custom;if((0,r.isFunction)(t.close))return t.close(this.bm.__customData());e&&(e.style.display="none")},run:function(e){var t=e.Blocks;this.config=t.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,i.ut)("div"),this.editor=e,this.bm=t;var n=this.container;t.__behaviour({container:n}),this.config.custom&&t.__trgCustom(),this.open()},stop:function(){this.close()}}},3452:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var r={run:function(e){var t=e.LayerManager,n=e.Panels,r=t.getConfig();if(!r.appendTo){if(!this.layers){var i="views-container",o=document.createElement("div"),s=n.getPanel(i)||n.addPanel({id:i});r.custom?t.__trgCustom({container:o}):o.appendChild(t.render()),s.set("appendContent",o).trigger("change:appendContent"),this.layers=o}this.layers.style.display="block"}},stop:function(){var e=this.layers;e&&(e.style.display="none")}}},2840:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(2316),i=n.n(r)().$,o={run:function(e,t){if(this.sender=t,!this.$cn){var n=e.getConfig(),r=e.Panels,o="change:appendContent";this.$cn=i("<div></div>"),this.$cn2=i("<div></div>"),this.$cn.append(this.$cn2);var s=e.DeviceManager;if(s&&n.showDevices){var a=r.addPanel({id:"devices-c"}),l=s.render();a.set("appendContent",l).trigger(o)}var c=e.SelectorManager;this.slm=c;var u=c.getConfig();u.custom?c.__trgCustom({container:this.$cn2.get(0)}):u.appendTo||this.$cn2.append(c.render([]));var h=e.StyleManager;this.sm=h;var d=h.getConfig(),f=d.stylePrefix;this.$header=i('<div class="'.concat(f,'header">').concat(e.t("styleManager.empty"),"</div>")),this.$cn.append(this.$header),d.custom?h.__trgCustom({container:this.$cn2.get(0)}):d.appendTo||this.$cn2.append(h.render());var p="views-container";this.panel=r.getPanel(p),this.panel||(this.panel=r.addPanel({id:p})),this.panel.set("appendContent",this.$cn).trigger(o),this.em=e.getModel(),this.listenTo(this.em,h.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var e,t,n,r,i=this.sender,o=this.sm;i&&i.get&&!i.get("active")||!o||(o.getSelected()?(null===(e=this.$cn2)||void 0===e||e.show(),null===(t=this.$header)||void 0===t||t.hide()):(null===(n=this.$cn2)||void 0===n||n.hide(),null===(r=this.$header)||void 0===r||r.show()))},stop:function(){var e,t;null===(e=this.$cn2)||void 0===e||e.hide(),null===(t=this.$header)||void 0===t||t.hide()}}},8644:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(2316),i=n.n(r)().$,o={run:function(e,t){this.sender=t;var n=e.getModel(),r=e.Config.stylePrefix,o=e.TraitManager,s=o.getConfig();if(!s.appendTo){if(!this.$cn){this.$cn=i("<div></div>"),this.$cn2=i("<div></div>"),this.$cn.append(this.$cn2),this.$header=i("<div>").append('<div class="'.concat(s.stylePrefix,'header">').concat(n.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),this.$cn2.append('<div class="'.concat(r,'traits-label">').concat(n.t("traitManager.label"),"</div>")),this.$cn2.append(o.render());var a=e.Panels;(a.getPanel("views-container")?a.getPanel("views-container"):a.addPanel({id:"views-container"})).set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=e.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var e=this.sender;e&&e.get&&!e.get("active")||(1===this.target.getSelectedAll().length?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},560:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(9050),i={run:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.getModel().get("clipboard"),o=e.getSelected();i&&o&&(e.getSelectedAll().forEach((function(t){var o=t.collection;if(o){var s,a={at:t.index()+1,action:n.action||"paste-component"};if((0,r.contains)(i,t)&&t.get("copyable"))s=o.add(t.clone(),a);else{var l=i.filter((function(e){return e.get("copyable")})).filter((function(n){return e.Components.canMove(t.parent(),n).result}));s=o.add(l.map((function(e){return e.clone()})),a)}(s=(0,r.isArray)(s)?s:[s]).forEach((function(t){return e.trigger("component:paste",t)}))}})),o.emitUpdate())}}},4944:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(2982),i=n(9050),o="sw-visibility",s={getPanels:function(e){return this.panels||(this.panels=e.Panels.getPanels()),this.panels},preventDrag:function(e){e.abort=1},tglEffects:function(e){var t=this.em,n=e?"on":"off";if(t){var r=t.get("Canvas"),o=r.getBody(),s=r.getToolbarEl();s&&(s.style.display=e?"none":"");var a=o.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,i.each)(a,(function(t){return t.style.pointerEvents=e?"all":""})),t[n]("run:tlb-move:before",this.preventDrag)}},run:function(e,t){var n=this;this.sender=t,this.selected=(0,r.Z)(e.getSelectedAll()),e.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=e.Commands.isActive(o)),this.shouldRunSwVisibility&&e.stopCommand(o),e.getModel().stopDefault();var i=this.getPanels(e),s=e.Canvas.getElement(),a=e.getEl(),l=e.Config.stylePrefix;if(!this.helper){var c=document.createElement("span");c.className="".concat(l,"off-prv fa fa-eye-slash"),a.appendChild(c),c.onclick=function(){return n.stopCommand()},this.helper=c}this.helper.style.display="inline-block",i.forEach((function(e){return e.set("visible",!1)}));var u=s.style;u.width="100%",u.height="100%",u.top="0",u.left="0",u.padding="0",u.margin="0",e.refresh(),this.tglEffects(1)},stop:function(e){var t=this.sender,n=void 0===t?{}:t,r=this.selected;n.set&&n.set("active",0);var i=this.getPanels(e);this.shouldRunSwVisibility&&(e.runCommand(o),this.shouldRunSwVisibility=!1),e.getModel().runDefault(),i.forEach((function(e){return e.set("visible",!0)})),e.Canvas.getElement().setAttribute("style",""),r&&e.select(r),delete this.selected,this.helper&&(this.helper.style.display="none"),e.refresh(),this.tglEffects()}}},7538:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var o={run:function(e,t,n){var o=n||{},s=e.Canvas,a=s.getCanvasView(),l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({appendTo:s.getResizerEl(),prefix:e.getConfig().stylePrefix,posFetcher:a.getElementPos.bind(a),mousePosFetcher:s.getMouseRelativePos},o.options||{}),c=this.canvasResizer;return c&&!o.forceNew||(this.canvasResizer=e.Utils.Resizer.init(l),c=this.canvasResizer),c.setOptions(l),c.blur(),c.focus(o.el),c},stop:function(){var e;null===(e=this.canvasResizer)||void 0===e||e.blur()}}},2620:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(1002),i=n(4942),o=n(2316),s=n.n(o),a=n(9050),l=n(1163),c=n(9283),u=n(3144),h=n(5671),d=n(9340),f=n(2963),p=n(1120),g=n(6602);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var b=function(e){(0,d.Z)(n,e);var t=y(n);function n(){return(0,h.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"events",value:function(){return this.model.get("events")||{mousedown:"handleClick"}}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config,t=void 0===e?{}:e;this.em=t.em,this.editor=t.editor}},{key:"handleClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.editor,n=this.em,r=t.Canvas.getFrameEl().getBoundingClientRect(),i=r.left,o=r.top,s=v(v({},e),{},{clientX:e.clientX-i,clientY:e.clientY-o});n.trigger("toolbar:run:before"),this.execCommand(s)}},{key:"execCommand",value:function(e){var t={event:e},n=this.model.get("command"),r=this.editor;"function"==typeof n&&n(r,null,t),"string"==typeof n&&r.runCommand(n,t)}},{key:"render",value:function(){var e=this.editor,t=this.$el,n=this.model,r=n.get("id"),i=n.get("label"),o=e.getConfig().stylePrefix;return t.addClass("".concat(o,"toolbar-item")),r&&t.addClass("".concat(o,"toolbar-item__").concat(r)),i&&t.append(i),this}}]),n}(s().View);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var x=function(e){(0,d.Z)(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return(0,h.Z)(this,n),(e=t.call(this,r,i)).config={editor:r.editor||"",em:r.em},e.listenTo(e.collection,"reset",e.render),e}return(0,u.Z)(n)}(g.Z);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}x.prototype.itemView=b;var C=function(e){(0,d.Z)(n,e);var t=k(n);function n(){return(0,h.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"defaults",value:function(){return{command:"",attributes:{}}}}]),n}(s().Model),S=s().Collection.extend({model:C});function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E,T=s().$,A={init:function(e){(0,a.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),E=1},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(e){var t=this,n=this.em,r=n.getConfig().listenToEl,i=n.getContainer().parentNode,o=e?"on":"off",s={on:l.on,off:l.off};!r.length&&i&&r.push(i),s[o](window,"resize",this.onFrameUpdated),s[o](r,"scroll",this.onContainerChange),n[o]("component:toggled component:update undo redo",this.onSelect,this),n[o]("change:componentHovered",this.onHovered,this),n[o]("component:resize styleable:change component:input",this.updateGlobalPos,this),n[o]("component:update:toolbar",this._upToolbar,this),n[o]("change:canvasOffset",this.updateAttached,this),n[o]("frame:updated",this.onFrameUpdated,this),n[o]("canvas:updateTools",this.onFrameUpdated,this),n.get("Canvas").getFrames().forEach((function(e){var n=e.view,r=null==n?void 0:n.getWindow();r&&function(e,n){s[o](n,"mouseover",t.onHover),s[o](n,"mouseleave",t.onOut),s[o](n,"click touchend",t.onClick),s[o](e,"scroll",t.onFrameScroll,!0)}(r,n.getBody())}))},onHover:function(e){e.stopPropagation();var t=this.em,n=e.target,r=(0,l.getViewEl)(n),i=r&&r._getFrame(),o=T(n),s=o.data("model");if(!s)for(var a=o.parent();!s&&a.length&&!(0,c.Mx)(a[0]);)s=a.data("model"),a=a.parent();this.currentDoc=n.ownerDocument,t.setHovered(s,{useValid:!0}),i&&t.set("currentFrame",i)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(e,t){var n=this,r={};t?t.views.forEach((function(e){var i=e.el,o=n.getElementPos(i);r={el:i,pos:o,component:t,view:(0,l.getViewEl)(i)},n.updateToolsLocal(r),i.ownerDocument===n.currentDoc&&(n.elHovered=r)})):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach((function(e){var t=e.view,r=t&&t.getToolsEl();r&&n.toggleToolsEl(0,0,{el:r})})))},onSelect:(0,a.debounce)((function(){var e=this.em,t=e.getSelected(),n=e.get("currentFrame")||{},r=t&&t.getView(n.model),i=r&&r.el,o={};i&&(0,c.pn)(i)&&(o={el:i,pos:this.getElementPos(i),component:t,view:(0,l.getViewEl)(i)}),this.elSelected=o,this.updateToolsGlobal(),this.updateLocalPos(o),this.initResize(t)})),updateGlobalPos:function(){var e=this.getElSelected();e.el&&(e.pos=this.getElementPos(e.el),this.updateToolsGlobal())},updateLocalPos:function(e){var t=this.getElHovered();t.el&&(t.pos=this.getElementPos(t.el),this.updateToolsLocal(e))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered(0)},toggleToolsEl:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).el||this.canvas.getToolsEl(t);return n&&(n.style.display=e?"":"none"),n||{}},showElementOffset:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E&&this.editor.runCommand("show-offset",{el:e,elPos:t,view:n.view,force:1,top:0,left:0})},hideElementOffset:function(e){this.editor.stopCommand("show-offset",{view:e})},showFixedElementOffset:function(e,t){this.editor.runCommand("show-offset",{el:e,elPos:t,state:"Fixed"})},hideFixedElementOffset:function(e,t){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(e){this.canvas.getHighlighter(e).style.opacity=0},onClick:function(e){e.stopPropagation(),e.preventDefault();var t=this.em;if(t.get("_cmpDrag"))return t.set("_cmpDrag");var n=T(e.target),r=n.data("model");if(!r)for(var i=n.parent();!r&&i.length&&!(0,c.Mx)(i[0]);)r=i.data("model"),i=i.parent();if(r){if(t.isEditing()&&!r.get("textable")&&r.isChildOf("text"))return;this.select(r,e)}},select:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(this.editor.select(e,{event:t,useValid:!0}),this.initResize(e))},updateBadge:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.canvas,i=T(e).data("model");if(i&&i.get("badgable")){var o=this.getBadge(n);if(!n.posOnly){var s=this.canvas.getConfig(),a=i.getIcon(),l=s.pStylePrefix||"",c="".concat(l,"badge"),u=s.customBadgeLabel,h="".concat(a?'<div class="'.concat(c,'__icon">').concat(a,"</div>"):"",'\n        <div class="').concat(c,'__name">').concat(i.getName(),"</div>");o.innerHTML=u?u(i):h}var d="px",f=o.style;f.display="block";var p=r.getTargetToElementFixed(e,o,{pos:t}).top,g=n.leftOff<0?-n.leftOff:0;f.top=p+d,f.left=g+d}},showHighlighter:function(e){this.canvas.getHighlighter(e).style.opacity=""},initResize:function(e){var t,n=this.em,i=this.canvas,o=n?n.get("Editor"):"",s=(n?n.get("Config"):"").stylePrefix||"",c="".concat(s,"resizing"),u=!(0,a.isElement)(e)&&(0,l.isTaggableNode)(e)?e:n.getSelected(),h=u&&u.get("resizable"),d={},f=function(e,t,n){var r=n.docs;r&&r.forEach((function(t){var n=t.body,r=n.className||"";n.className=("add"==e?"".concat(r," ").concat(c):r.replace(c,"")).trim()}))};if(o&&h){var p=(0,a.isElement)(e)?e:u.getEl();d={onStart:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.el,s=r.config,a=r.resizer,c=s.keyHeight,h=s.keyWidth,d=s.currentUnit,p=s.keepAutoHeight,g=s.keepAutoWidth;f("add",0,r),t=n.get("StyleManager").getModelToStyle(u),i.toggleFramesEvents();var m=getComputedStyle(o),v=t.getStyle(),y=v[h];s.autoWidth=g&&"auto"===y,isNaN(parseFloat(y))&&(y=m[h]);var b=v[c];s.autoHeight=p&&"auto"===b,isNaN(parseFloat(b))&&(b=m[c]),a.startDim.w=parseFloat(y),a.startDim.h=parseFloat(b),E=0,d&&(s.unitHeight=(0,l.getUnitFromValue)(b),s.unitWidth=(0,l.getUnitFromValue)(y))},onMove:function(){o.trigger("component:resize")},onEnd:function(e,t){f("remove",0,t),o.trigger("component:resize"),i.toggleFramesEvents(1),E=1},updateTarget:function(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t){var s=o.store,a=o.selectedHandler,l=o.config,c=l.keyHeight,u=l.keyWidth,h=l.autoHeight,d=l.autoWidth,f=l.unitWidth,p=l.unitHeight,g=["tc","bc"].indexOf(a)>=0,m=["cl","cr"].indexOf(a)>=0,v={},y=s?"":1;if(!g){var b=i.getBody().offsetWidth,w=r.w<b?r.w:b;v[u]=d?"auto":"".concat(w).concat(f)}m||(v[c]=h?"auto":"".concat(r.h).concat(p)),t.addStyle(O(O({},v),{},{en:y}),{avoidStore:!s});var x="update:component:style",k="".concat(x,":").concat(c," ").concat(x,":").concat(u);n&&n.trigger(k,null,null,{noEmit:1})}}},"object"==(0,r.Z)(h)&&(d=O(O(O({},d),h),{},{parent:d})),this.resizer=o.runCommand("resize",{el:p,options:d,force:1})}else o.stopCommand("resize"),this.resizer=null},updateToolbar:function(e){var t=this.config.em,n=e==t?t.getSelected():e,r=this.canvas.getToolbarEl(),i=r.style,o=n.get("toolbar"),s=t.get("Config").showToolbar;if(n&&s&&o&&o.length){if(i.display="",!this.toolbar){r.innerHTML="",this.toolbar=new S(o);var a=new x({collection:this.toolbar,editor:this.editor,em:t});r.appendChild(a.render().el)}this.toolbar.reset(o),i.top="-100px",i.left=0}else i.display="none"},updateToolbarPos:function(e){var t="px",n=this.canvas.getToolbarEl().style;n.top="".concat(e.top).concat(t),n.left="".concat(e.left).concat(t),n.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.canvas.getBadgeEl(e.view)},onFrameScroll:function(){this.updateTools()},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(e){return e&&"selected"===e.get("status")},updateToolsLocal:function(e){var t=e||this.getElHovered(),n=t.el,r=t.pos,i=t.view,o=t.component;if(n){var s=o.get("hoverable"),a=this.lastHovered!==n,l=a?{}:{posOnly:1};a&&s&&(this.lastHovered=n,this.showHighlighter(i),this.showElementOffset(n,r,{view:i})),this.isCompSelected(o)&&(this.hideHighlighter(i),this.hideElementOffset(i));var c="px",u=this.toggleToolsEl(1,i),h=u.style,d=this.canvas.canvasRectOffset(n,r),f=d.top,p=d.left;this.updateBadge(n,r,O(O({},l),{},{view:i,topOff:f,leftOff:p})),h.top=f+c,h.left=p+c,h.width=r.width+c,h.height=r.height+c,this._trgToolUp("local",{component:o,el:u,top:f,left:p,width:r.width,height:r.height})}else this.lastHovered=0},_upToolbar:(0,a.debounce)((function(){this.updateToolsGlobal({force:1})})),_trgToolUp:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.em.trigger("canvas:tools:update",O({type:e},t))},updateToolsGlobal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getElSelected(),n=t.el,r=t.pos,i=t.component;if(!n)return this.toggleToolsEl(),void(this.lastSelected=0);var o=this.canvas;(this.lastSelected!==n||e.force)&&(this.lastSelected=n,this.updateToolbar(i));var s="px",a=this.toggleToolsEl(1),l=a.style,c=o.getTargetToElementFixed(n,o.getToolbarEl(),{pos:r}),u=c.canvasOffsetTop,h=c.canvasOffsetLeft;l.top=u+s,l.left=h+s,l.width=r.width+s,l.height=r.height+s,this.updateToolbarPos({top:c.top,left:c.left}),this._trgToolUp("global",{component:i,el:a,top:u,left:h,width:r.width,height:r.height})},updateAttached:(0,a.debounce)((function(){this.updateGlobalPos()})),onContainerChange:(0,a.debounce)((function(){this.em.refreshCanvas()}),150),getElementPos:function(e){return this.canvas.getCanvasView().getElementPos(e)},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(e){e&&e.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(e){(0,l.hasWin)()&&(this.editor=e&&e.get("Editor"),this.enable())},stop:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,l.hasWin)()){var r=this.em,i=this.editor;this.onHovered(),this.stopSelectComponent(),!n.preserveSelected&&r.setSelected(null),this.toggleToolsEl(),i&&i.stopCommand("resize")}}}},8463:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(2316),i=n.n(r)().$,o={startSelectPosition:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isPointed=!1;var i=this.editorModel.get("Utils"),o=e.ownerDocument.body;i&&!this.sorter&&(this.sorter=new i.Sorter({container:o,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:t,wmargin:1,nested:1,em:this.editorModel,canvasRelative:1,scale:function(){return n.em.getZoomDecimal()}})),r.onStart&&(this.sorter.onStart=r.onStart),e&&this.sorter.startSort(e,{container:o})},getOffsetDim:function(){var e=this.offset(this.canvas.getFrameEl()),t=this.offset(this.canvas.getElement());return{top:e.top-t.top,left:e.left-t.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex="after"==this.posMethod&&0!==this.cDim.length?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=0!==this.cDim.length&&"after"==this.posMethod&&this.posIndex==this.cDim.length,this.posTargetEl=0===this.cDim.length?i(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?i(this.cDim[this.posIndex][5]).parent():i(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(e,t,n){var r=e||0,i=t||"before",o=n.length,s=0!==o&&"after"==i&&r==o;return 0!==o&&(!s&&!n[r][4]||n[r-1]&&!n[r-1][4]||s&&!n[r-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},7994:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(4942),i=n(2316),o=n.n(i),s=n(9050),a=n(1163);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var c=o().$,u={getOffsetMethod:function(e){return"get"+(e||"")+"OffsetViewerEl"},run:function(e,t,n){var i=n||{},o=i.state||"",u=e.getConfig(),h=this.em.getZoomDecimal(),d=i.el||"";if(!u.showOffsets||(0,a.isTextNode)(d)||!u.showOffsetsSelected&&"Fixed"==o)e.stopCommand(this.id,n);else{var f=e.Canvas,p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i.elPos||f.getElementPos(d));(0,s.isUndefined)(i.top)||(p.top=i.top),(0,s.isUndefined)(i.left)||(p.left=i.left);var g=window.getComputedStyle(d),m=this.ppfx,v=o+"State",y=f[this.getOffsetMethod(o)](n.view);y.style.opacity="";var b=this["marginT"+o],w=this["marginB"+o],x=this["marginL"+o],k=this["marginR"+o],C=this["padT"+o],S=this["padB"+o],_=this["padL"+o],O=this["padR"+o];if(y.childNodes.length&&(this[v]="1",b=y.querySelector("[data-offset-m-t]"),w=y.querySelector("[data-offset-m-b]"),x=y.querySelector("[data-offset-m-l]"),k=y.querySelector("[data-offset-m-r]"),C=y.querySelector("[data-offset-p-t]"),S=y.querySelector("[data-offset-p-b]"),_=y.querySelector("[data-offset-p-l]"),O=y.querySelector("[data-offset-p-r]")),!this[v]){var E=o.toLowerCase(),T=E+"margin-v",A=E+"padding-v",$=c('<div class="'.concat(m,'marginName">')).get(0),L=c('<div class="'.concat(m,'paddingName">')).get(0),R=m+A+"-el",P="".concat(m+T+"-el"," ").concat(m+T),M="".concat(R," ").concat(m+A);b=c('<div class="'.concat(P,'-top"></div>')).get(0),w=c('<div class="'.concat(P,'-bottom"></div>')).get(0),x=c('<div class="'.concat(P,'-left"></div>')).get(0),k=c('<div class="'.concat(P,'-right"></div>')).get(0),C=c('<div class="'.concat(M,'-top"></div>')).get(0),S=c('<div class="'.concat(M,'-bottom"></div>')).get(0),_=c('<div class="'.concat(M,'-left"></div>')).get(0),O=c('<div class="'.concat(M,'-right"></div>')).get(0),this["marginT"+o]=b,this["marginB"+o]=w,this["marginL"+o]=x,this["marginR"+o]=k,this["padT"+o]=C,this["padB"+o]=S,this["padL"+o]=_,this["padR"+o]=O,$.appendChild(b),$.appendChild(w),$.appendChild(x),$.appendChild(k),L.appendChild(C),L.appendChild(S),L.appendChild(_),L.appendChild(O),y.appendChild($),y.appendChild(L),this[v]="1"}var D="px",j=parseFloat(g.marginLeft.replace(D,""))*h,N=parseFloat(g.marginRight.replace(D,""))*h,I=parseFloat(g.marginTop.replace(D,""))*h,F=parseFloat(g.marginBottom.replace(D,""))*h,B=b.style,H=w.style,Z=x.style,z=k.style,V=C.style,W=S.style,U=_.style,G=O.style,q=parseFloat(p.left),K=parseFloat(g.width)*h+D;B.height=I+D,B.width=K,B.top=p.top-I+D,B.left=q+D,H.height=F+D,H.width=K,H.top=p.top+p.height+D,H.left=q+D;var Y=p.height+I+F+D,X=p.top-I+D;Z.height=Y,Z.width=j+D,Z.top=X,Z.left=q-j+D,z.height=Y,z.width=N+D,z.top=X,z.left=q+p.width+D;var J=parseFloat(g.paddingTop)*h;V.height=J+D;var Q=parseFloat(g.paddingBottom)*h;W.height=Q+D;var ee=p.height-Q-J+D,te=p.top+J+D;U.height=ee,U.width=parseFloat(g.paddingLeft)*h+D,U.top=te;var ne=parseFloat(g.paddingRight)*h;G.height=ee,G.width=ne+D,G.top=te}},stop:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(n||{}).state||"",i=this.getOffsetMethod(r);e.Canvas[i](n.view).style.opacity=0}}},8352:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(9050),i={init:function(){(0,r.bindAll)(this,"_onFramesChange")},run:function(e){this.toggleVis(e)},stop:function(e){this.toggleVis(e,0)},toggleVis:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e.Commands.isActive("preview")){var r=e.Canvas,i=n?"on":"off";r.getFrames().forEach((function(e){return t._upFrame(e,n)})),r.getModel()[i]("change:frames",this._onFramesChange)}},_onFramesChange:function(e,t){var n=this;t.forEach((function(e){return e.once("loaded",(function(){return n._upFrame(e,!0)}))}))},_upFrame:function(e,t){var n=t?"add":"remove";e.view.getBody().classList[n]("".concat(this.ppfx,"dashed"))}}},9304:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(4942),i=n(2982),o=n(9050),s=n(1163);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={getConfig:function(e){return this.__getConfig(e)},getProjectData:function(e){var t={},n=this.storageKey;return n&&(t[n]=e||this.getAll()),t},loadProjectData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.all,r=t.onResult,i=t.reset,o=this.storageKey,a={action:"load"},l=n||this.getAll(),c=e[o];if("string"==typeof c)try{c=JSON.parse(c)}catch(e){this.__logWarn("Data parsing failed",{input:c})}return i&&c&&l.reset(null,a),r?c&&r(c,a):c&&(0,s.isDef)(c.length)&&l.reset(c,a),c},clear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.all;return t&&t.reset(null,e),this},__getConfig:function(e){var t=this.config||{};return e?t[e]:t},getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.all?e.array?(0,i.Z)(this.all.models):this.all:[]},getAllMap:function(){return this.getAll().reduce((function(e,t){return e[t.get(t.idAttribute)]=t,e}),{})},__initConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=(0,s.deepMerge)(e,t),this.em=this.config.em,this.cls=[]},__initListen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.all,n=this.em,r=this.events;t&&n&&t.on("add",(function(e,t,i){return n.trigger(r.add,e,i)})).on("remove",(function(e,t,i){return n.trigger(r.remove,e,i)})).on("change",(function(e,t){return n.trigger(r.update,e,e.changedAttributes(),t)})).on("all",this.__catchAllEvent,this),this.cls=[t].concat(e.collections||[]),(e.propagate||[]).forEach((function(e){var r=e.entity,i=e.event;r.on("all",(function(e,r,o,s){var a=l({event:e},s||o);[n,t].map((function(e){return e.trigger(i,r,a)}))}))}))},__remove:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.em,i=(0,o.isString)(e)?this.get(e):e,s=function(){return i&&t.all.remove(i,n),i};return!n.silent&&r&&r.trigger(this.events.removeBefore,i,s,n),!n.abort&&s()},__catchAllEvent:function(e,t,n,r){var i=this.em,o=this.events,s=r||n;i&&o.all&&i.trigger(o.all,{event:e,model:t,options:s}),this.__onAllEvent()},__appendTo:function(){var e=this.getConfig().appendTo;if(e){var t=(0,o.isElement)(e)?e:document.querySelector(e);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},__onAllEvent:function(){},__logWarn:function(e,t){this.em.logWarning("[".concat(this.name,"]: ").concat(e),t)},_createId:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,n=this.getAll().length+t,r=this.getAllMap();do{e=(0,s.createId)(n)}while(r[e]);return e},__listenAdd:function(e,t){var n=this;e.on("add",(function(e,r,i){return n.em.trigger(t,e,i)}))},__listenRemove:function(e,t){var n=this;e.on("remove",(function(e,r,i){return n.em.trigger(t,e,i)}))},__listenUpdate:function(e,t){var n=this;e.on("change",(function(e,r){return n.em.trigger(t,e,e.changedAttributes(),r)}))},__destroy:function(){var e;this.cls.forEach((function(e){e.stopListening(),e.reset()})),this.em=0,this.config=0,null===(e=this.view)||void 0===e||e.remove(),this.view=0}}},672:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var r=n(2982),i=n(5671),o=n(3144),s=n(7326),a=n(9340),l=n(2963),c=n(1120),u=n(4942),h=n(9050),d=n(1163),f=n(9714),p=n(966),g=n(5963),m={stylePrefix:"css-",rules:[]},v=n(2316),y=n(9524),b=n(8795);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var C=((0,d.hasWin)()?window:{}).CSS,S=function(e){(0,a.Z)(n,e);var t=k(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"defaults",value:function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}}},{key:"initialize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=e||{},this.opt=t,this.em=t.em,this.ensureSelectors(),this.on("change",this.__onChange)}},{key:"__onChange",value:function(e,t){var n=this.em,r=this.changedAttributes();!(0,d.isEmptyObj)(r)&&n&&n.changesUp(t)}},{key:"clone",value:function(){var e=x({},this.opt),t=x({},this.attributes);return t.selectors=this.get("selectors").map((function(e){return e.clone()})),new this.constructor(t,e)}},{key:"ensureSelectors",value:function(e,t,n){var i=this.em,o=i&&i.get("SelectorManager"),s=[this,"change:selectors",this.ensureSelectors],a=this.getSelectors();if(this.stopListening.apply(this,s),a.models&&(a=(0,r.Z)(a.models)),a=(0,h.isString)(a)?[a]:a,Array.isArray(a)){var l=a.filter((function(e){return e})).map((function(e){return o?o.add(e):e}));a=new p.Z(l)}this.set("selectors",a,n),this.listenTo.apply(this,s)}},{key:"getAtRule",value:function(){var e=this.get("atRuleType"),t=this.get("mediaText"),n=e?"@".concat(e):t?"@media":"";return n+(t&&n?" ".concat(t):"")}},{key:"selectorsToString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=this.get("state"),r=this.get("selectorsAdd"),i={escape:function(e){return C&&C.escape?C.escape(e):e}},o=this.get("selectors").getFullString(0,i),s=n&&!e.skipState?":".concat(n):"";return o&&t.push("".concat(o).concat(s)),r&&!e.skipAdd&&t.push(r),t.join(", ")}},{key:"getDeclaration",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="",n=this.attributes.important,r=this.selectorsToString(e),i=this.styleToString(x({important:n},e)),o=this.get("singleAtRule");return(r||o)&&(i||e.allowEmpty)&&(t=o?i:"".concat(r,"{").concat(i,"}")),t}},{key:"getDevice",value:function(){var e=this.em,t=this.attributes,n=t.atRuleType,r=t.mediaText,i=(null==e?void 0:e.get("DeviceManager").getDevices())||[],o=i.filter((function(e){return""===e.getWidthMedia()}))[0];return"media"===n&&r?i.filter((function(e){return e.getWidthMedia()===(0,b.U)(r)}))[0]||null:o||null}},{key:"getState",value:function(){var e=this.em,t=this.get("state");return(e.get("SelectorManager").getStates()||[]).filter((function(e){return e.getName()===t}))[0]||null}},{key:"getComponent",value:function(){var e,t=this.getSelectors(),n=1==t.length&&t.at(0),r=n&&n.isId()&&n.get("name");return r&&(null===(e=this.em)||void 0===e?void 0:e.get("DomComponents").getById(r))||null}},{key:"toCSS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="",n=this.getAtRule(),r=this.getDeclaration(e);return(r||e.allowEmpty)&&(t=r),n&&t&&(t="".concat(n,"{").concat(t,"}")),t}},{key:"toJSON",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=v.Model.prototype.toJSON.apply(this,t);if(this.em.getConfig().avoidDefaults){var i=this.defaults();(0,h.forEach)(i,(function(e,t){r[t]===e&&delete r[t]})),delete r.style.__p,(0,h.isEmpty)(r.selectors)&&delete r.selectors,(0,h.isEmpty)(r.style)&&delete r.style}return r}},{key:"compare",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t||"",o=n||"",s=r.selectorsAdd||"",a=r.atRuleType||"";o&&!a&&(a="media");var l=((0,h.isArray)(e)||e.models?e.models||e:[e]).map((function(e){return e.getFullName()})),c=this.get("selectors").map((function(e){return e.getFullName()})),u=l.slice().sort(),d=c.slice().sort();return!(l.length!==c.length||!u.every((function(e,t){return e===d[t]})))&&this.get("state")===i&&this.get("mediaText")===o&&this.get("selectorsAdd")===s&&this.get("atRuleType")===a}}]),n}(y.Z);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var O=function(e){(0,a.Z)(n,e);var t=_(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"initialize",value:function(e,t){var n=this;t&&t.em&&(this.editor=t.em),setTimeout((function(){n.on("remove",n.onRemove),n.on("add",n.onAdd)}))}},{key:"toJSON",value:function(e){return v.Collection.prototype.toJSON.call(this,e).filter((function(e){return e.style&&!e.shallow}))}},{key:"onAdd",value:function(e,t,n){e.ensureSelectors(e,t,n)}},{key:"onRemove",value:function(e){var t=this.editor;t.stopListening(e),t.get("UndoManager").remove(e)}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=this.editor.get("Parser").parseCss(e)),t.em=this.editor,v.Collection.prototype.add.apply(this,[e,t])}}]),n}(v.Collection);O.prototype.model=S;var E=n(4868);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var L=function(e){(0,a.Z)(n,e);var t=$(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,u.Z)((0,s.Z)(e),"Selectors",p.Z),(0,u.Z)((0,s.Z)(e),"name","CssComposer"),(0,u.Z)((0,s.Z)(e),"storageKey","styles"),e}return(0,o.Z)(n,[{key:"getConfig",value:function(){return this.c}},{key:"init",value:function(e){for(var t in this.c=e||{},m)t in this.c||(this.c[t]=m[t]);var n=this.c.pStylePrefix;n&&(this.c.stylePrefix=n+this.c.stylePrefix);var r=this.c.em&&this.c.em.config.style||"";return this.c.rules=r||this.c.rules,this.em=this.c.em,this.rules=new O([],this.c),this}},{key:"onLoad",value:function(){this.rules.add(this.c.rules,{silent:1})}},{key:"postLoad",value:function(){var e,t=null===(e=this.em)||void 0===e?void 0:e.get("UndoManager");t&&t.add(this.getAll())}},{key:"store",value:function(){return this.getProjectData()}},{key:"load",value:function(e){return this.loadProjectData(e)}},{key:"add",value:function(e,t,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=t||"",o=n||"",s=A({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),a=this.get(e,i,o,s);return a&&a.config&&!a.config.singleAtRule||(s.state=i,s.mediaText=o,s.selectors=[],o&&(s.atRuleType="media"),(a=new S(s,this.c)).get("selectors").add(e,r),this.rules.add(a,r)),a}},{key:"get",value:function(e,t,n,r){var i=e;if((0,h.isString)(e)){var o=this.em.get("SelectorManager"),s=e.split(",")[0].trim(),a=this.em.get("Parser").parserCss.checkNode({selectors:s})[0];i=o.get(a.selectors)}return this.rules.find((function(e){return e.compare(i,t,n,r)}))||null}},{key:"getAll",value:function(){return this.rules}},{key:"addCollection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[];(0,h.isString)(e)&&(e=this.em.get("Parser").parseCss(e));for(var i=e instanceof Array?e:[e],o=0,s=i.length;o<s;o++){var a,l=i[o]||{};if(l.selectors){var c=null===(a=this.em)||void 0===a?void 0:a.get("SelectorManager");c||console.warn("Selector Manager not found");for(var u=l.selectors,f=u instanceof Array?u:[u],p=[],g=0,m=f.length;g<m;g++){var v=c.add(f[g]);p.push(v)}var y=this.get(p,l.state,l.mediaText,l),b=this.add(p,l.state,l.mediaText,l,t),w=!y||!t.avoidUpdateStyle,x=l.style||{};if((0,d.isObject)(n)&&b.set(n,t),w){var k=t.extend?A(A({},b.get("style")),x):x;b.set("style",k,t)}r.push(b)}}return r}},{key:"addRules",value:function(e){return this.addCollection(e)}},{key:"setRule",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.atRuleType,i=n.atRuleParams,o=this.em.get("Parser").parserCss.checkNode({selectors:e,style:t})[0],s=o.state,a=o.selectorsAdd,l=this.em.get("SelectorManager").add(o.selectors),c=this.add(l,s,i,{selectorsAdd:a,atRule:r});return c.setStyle(t,n),c}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.em.get("SelectorManager"),r=this.em.get("Parser").parserCss.checkNode({selectors:e})[0],i=n.get(r.selectors),o=r.state,s=r.selectorsAdd,a=t.atRuleType,l=t.atRuleParams;return i&&this.get(i,o,l,{selectorsAdd:s,atRule:a})}},{key:"getRules",value:function(e){var t=this.getAll();if(!e)return(0,r.Z)(t.models);var n={sort:!0},i=(0,h.isString)(e)?e.split(",").map((function(e){return e.trim()})):e;return t.filter((function(e){return i.indexOf(e.getSelectors().getFullString(null,n))>=0}))}},{key:"setIdRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.addOpts,i=void 0===r?{}:r,o=n.mediaText,s=n.state||"",a=(0,h.isUndefined)(o)?this.em.getCurrentMedia():o,l=this.em.get("SelectorManager").add({name:e,type:g.Z.TYPE_ID},i),c=this.add(l,s,a,{},i);return c.setStyle(t,A(A({},n),i)),c}},{key:"getIdRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mediaText,r=t.state||"",i=(0,h.isUndefined)(n)?this.em.getCurrentMedia():n,o=this.em.get("SelectorManager").get(e,g.Z.TYPE_ID);return o&&this.get(o,r,i)}},{key:"setClassRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.state||"",i=n.mediaText||this.em.getCurrentMedia(),o=this.em.get("SelectorManager").add({name:e,type:g.Z.TYPE_CLASS}),s=this.add(o,r,i);return s.setStyle(t,n),s}},{key:"getClassRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.state||"",r=t.mediaText||this.em.getCurrentMedia(),i=this.em.get("SelectorManager").get(e,g.Z.TYPE_CLASS);return i&&this.get(i,n,r)}},{key:"remove",value:function(e,t){var n=(0,h.isString)(e)?this.getRules(e):e,r=this.getAll().remove(n,t);return(0,h.isArray)(r)?r:[r]}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().reset(null,e),this}},{key:"getComponentRules",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.state,r=t.mediaText;t.current&&(n=this.em.get("state")||"",r=this.em.getCurrentMedia());var i=e.getId(),o=this.getAll().filter((function(e){if(((0,h.isUndefined)(n)||e.get("state")===n)&&((0,h.isUndefined)(r)||e.get("mediaText")===r))return e.getSelectorsString()==="#".concat(i)}));return o}},{key:"render",value:function(){var e;return null===(e=this.rulesView)||void 0===e||e.remove(),this.rulesView=new E.Z({collection:this.rules,config:this.c}),this.rulesView.render().el}},{key:"destroy",value:function(){var e;this.rules.reset(),this.rules.stopListening(),null===(e=this.rulesView)||void 0===e||e.remove(),[this.em,this.rules,this.rulesView].forEach((function(e){return null})),this.c={}}}]),n}(f.Z)},4868:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(5671),i=n(3144),o=n(7326),s=n(9340),a=n(2963),l=n(1120),c=n(9050),u=n(2316),h=n(9283);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var f=function(e){(0,s.Z)(n,e);var t=d(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"tagName",value:function(){return"style"}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=e.config||{};var t=this.model;this.listenTo(t,"change",this.render),this.listenTo(t,"destroy remove",this.remove),this.listenTo(t.get("selectors"),"change",this.render)}},{key:"render",value:function(){var e=this.model,t=this.el,n=e.get("important");return t.innerHTML=e.toCSS({important:n}),this}}]),n}(u.View);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var g=function(e){(0,s.Z)(n,e);var t=p(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"_createElement",value:function(){return document.createTextNode("")}},{key:"render",value:function(){var e=this.model,t=e.get("important");return this.el.textContent=e.getDeclaration({important:t}),this}}]),n}(f);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var v=function(e,t){return"".concat(e).concat(t?"-".concat(parseFloat(t)):"")},y=function(e){(0,s.Z)(n,e);var t=m(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,c.bindAll)((0,o.Z)(i),"sortRules"),i}return(0,i.Z)(n,[{key:"initialize",value:function(e){var t=e.config||{};this.atRules={},this.config=t,this.em=t.em,this.pfx=t.stylePrefix||"",this.className=this.pfx+"rules";var n=this.collection;this.listenTo(n,"add",this.addTo),this.listenTo(n,"reset",this.render)}},{key:"addTo",value:function(e){this.addToCollection(e)}},{key:"addToCollection",value:function(e,t){if(this.renderStarted){var n,r,i=t||null,o={model:e,config:this.config};if("keyframes"===e.get("atRuleType")){var s=e.getAtRule(),a=this.atRules[s];if(!a){var l=document.createElement("style");a=document.createTextNode(""),l.appendChild(document.createTextNode("".concat(s,"{"))),l.appendChild(a),l.appendChild(document.createTextNode("}")),this.atRules[s]=a,n=l}r=new g(o),a.appendData(r.render().el.textContent)}else n=(r=new f(o)).render().el;var c=this.className,u=e.get("mediaText"),h=v(c),d=h;if(u&&(d=v(c,this.getMediaWidth(u))),n){var p,m=i||this.el;try{p=m.querySelector("#".concat(d))}catch(e){}p||(p=m.querySelector("#".concat(h))),p.appendChild(n)}return n}}},{key:"getMediaWidth",value:function(e){return e&&e.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")}},{key:"sortRules",value:function(e,t){var n=-1!==(this.em.getConfig().mediaCondition||"").indexOf("min-width");return n?(n?e:t)-(n?t:e):0}},{key:"render",value:function(){var e=this;this.renderStarted=1,this.atRules={};var t=this.em,n=this.$el,r=this.className,i=this.collection,o=document.createDocumentFragment();n.empty();var s=t.get("DeviceManager").getAll().pluck("priority").sort(this.sortRules);return s.every((function(e){return e}))&&s.unshift(0),s.forEach((function(e){return o.appendChild((0,h.ut)("div",{id:v(r,e)}))})),i.each((function(t){return e.addToCollection(t,o)})),n.append(o),n.attr("class",r),this}}]),n}(u.View)},2004:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j},evAdd:function(){return L},evAddBefore:function(){return R},evAll:function(){return O},evPfx:function(){return E},evRemove:function(){return P},evRemoveBefore:function(){return M},evSelect:function(){return T},evSelectBefore:function(){return A},evUpdate:function(){return $}});var r=n(5671),i=n(3144),o=n(7326),s=n(9340),a=n(2963),l=n(1120),c=n(4942),u=n(9050),h=n(9714),d={default:null,devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]},f=n(2316);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var g=function(e){(0,s.Z)(n,e);var t=p(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"defaults",value:function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}}},{key:"initialize",value:function(){var e=this;null===this.get("widthMedia")&&this.set("widthMedia",this.get("width")),null===this.get("width")&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0),["width","height","widthMedia"].forEach((function(t){return e.checkUnit(t)}))}},{key:"checkUnit",value:function(e){var t=this.get(e)||"";(parseFloat(t)||0).toString()===t.toString()&&this.set(e,"".concat(t,"px"))}},{key:"getName",value:function(){return this.get("name")||this.get("id")}},{key:"getWidthMedia",value:function(){return this.get("widthMedia")||""}}]),n}(f.Model);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var v=function(e){(0,s.Z)(n,e);var t=m(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(f.Collection);v.prototype.model=g;var y,b=n(168),w=n(7539);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var k=function(e){(0,s.Z)(n,e);var t=x(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"template",value:function(e){var t=e.ppfx,n=e.label;return(0,w.Z)(y||(y=(0,b.Z)(['\n      <div class="','device-label">','</div>\n      <div class="',"field ",'select">\n        <span id="','input-holder">\n          <select class="','devices"></select>\n        </span>\n        <div class="','sel-arrow">\n          <div class="','d-s-arrow"></div>\n        </div>\n      </div>\n      <button style="display:none" class="','add-trasp">+</button>\n    '])),t,n,t,t,t,t,t,t,t)}},{key:"events",value:function(){return{change:"updateDevice"}}},{key:"initialize",value:function(e){this.config=e.config||{},this.em=this.config.em,this.ppfx=this.config.pStylePrefix||"",this.events["click ."+this.ppfx+"add-trasp"]=this.startAdd,this.listenTo(this.em,"change:device",this.updateSelect),this.delegateEvents()}},{key:"startAdd",value:function(){}},{key:"updateDevice",value:function(){var e=this.em;if(e){var t=this.devicesEl,n=t?t.val():"";e.set("device",n)}}},{key:"updateSelect",value:function(){var e=this.em,t=this.devicesEl;if(e&&e.getDeviceModel&&t){var n=e.getDeviceModel(),r=n?n.get("id"):"";t.val(r)}}},{key:"getOptions",value:function(){var e=this.collection,t=this.em,n="";return e.each((function(e){var r=e.attributes,i=r.name,o=r.id,s=t&&t.t&&t.t("deviceManager.devices.".concat(o))||i;n+='<option value="'.concat(o||i,'">').concat(s,"</option>")})),n}},{key:"render",value:function(){var e=this.em,t=this.ppfx,n=this.$el,r=this.el,i=e&&e.t&&e.t("deviceManager.device");return n.html(this.template({ppfx:t,label:i})),this.devicesEl=n.find(".".concat(t,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(e.get("device")),r.className="".concat(t,"devices-c"),this}}]),n}(f.View);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var O="device",E="".concat(O,":"),T="".concat(E,"select"),A="".concat(T,":before"),$="".concat(E,"update"),L="".concat(E,"add"),R="".concat(L,":before"),P="".concat(E,"remove"),M="".concat(P,":before"),D="change:device",j=function(e){(0,s.Z)(n,e);var t=_(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),(0,c.Z)((0,o.Z)(e),"name","DeviceManager"),(0,c.Z)((0,o.Z)(e),"Device",g),(0,c.Z)((0,o.Z)(e),"Devices",v),(0,c.Z)((0,o.Z)(e),"events",{all:O,select:T,update:$,add:L,remove:P,removeBefore:M}),e}return(0,i.Z)(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.c=S(S({},d),t);var n=this.c.em;return this.devices=new v,this.c.devices.forEach((function(t){return e.add(t)})),this.em=n,this.all=this.devices,this.select(this.c.default||this.devices.at(0)),this.__initListen(),n.on(D,this._onSelect,this),this}},{key:"_onSelect",value:function(e,t,n){var r=this.em,i=this.events,o=e.previous("device"),s=this.get(t),a=i.select;r.trigger(a,s,this.get(o)),this.__catchAllEvent(a,s,n)}},{key:"add",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n;if((0,u.isString)(e)){var i=n;t=S(S({},r=arguments[2]||{}),{},{id:e,name:r.name||e,width:i})}else t=e;return t.id||(t.id=t.name||this._createId()),this.devices.add(t,r)}},{key:"get",value:function(e){return this.getAll().filter((function(t){return t.get("name")===e}))[0]||this.devices.get(e)||null}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.__remove(e,t)}},{key:"getDevices",value:function(){return this.devices.models}},{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,u.isString)(e)?this.get(e):e;return n&&this.em.set("device",n.get("id"),t),this}},{key:"getSelected",value:function(){return this.get(this.em.get("device"))}},{key:"getAll",value:function(){return this.devices}},{key:"render",value:function(){var e;return null===(e=this.view)||void 0===e||e.remove(),this.view=new k({collection:this.devices,config:this.c}),this.view.render().el}},{key:"destroy",value:function(){var e;this.devices.stopListening(),this.devices.reset(),null===(e=this.view)||void 0===e||e.remove(),[this.devices,this.view].forEach((function(e){return null})),this.c={}}}]),n}(h.Z)},9138:function(e,t,n){"use strict";n.d(t,{ZP:function(){return I},OA:function(){return R},GN:function(){return j},xH:function(){return N}});var i=n(1002),o=n(2982),s=n(885),a=n(4942),l=n(5671),c=n(3144),u=n(1752),h=n(9340),d=n(2963),f=n(1120),p=n(9050),g=n(1163),m=n(9524),v=n(2316),y=n(8431),b=n(5963),w=n(966);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var i=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var S=function(e){(0,h.Z)(n,e);var t=C(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"initialize",value:function(){var e=this.attributes,t=e.target,n=e.name,r=e.changeProp;if(!this.get("id")&&this.set("id",n),t){this.target=t,this.unset("target");var i=r?"change:".concat(n):"change:attributes:".concat(n);this.listenTo(t,i,this.targetUpdated)}}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("name")}},{key:"getLabel",value:function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).locale,n=void 0===t||t,r=this.getId(),i=this.get("label")||this.getName();return n&&(null===(e=this.em)||void 0===e?void 0:e.t("traitManager.traits.labels.".concat(r)))||i}},{key:"getValue",value:function(){return this.getTargetValue()}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};t.partial&&(n.avoidStore=!0),this.setTargetValue(e,n),!1===t.partial&&(this.setTargetValue(""),this.setTargetValue(e))}},{key:"props",value:function(){return this.attributes}},{key:"targetUpdated",value:function(){var e,t=this.getTargetValue();this.set({value:t},{fromTarget:1}),null===(e=this.em)||void 0===e||e.trigger("trait:update",{trait:this,component:this.target})}},{key:"getTargetValue",value:function(){var e,t=this.get("name"),n=this.target;return e=this.get("changeProp")?n.get(t):n.getAttributes()[t],(0,p.isUndefined)(e)?"":e}},{key:"setTargetValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.target,r=this.get("name");if(!(0,p.isUndefined)(e)){var i=e;if("false"===e?i=!1:"true"===e&&(i=!0),this.get("changeProp"))n.set(r,i,t);else{var o=k({},n.get("attributes"));o[r]=i,n.set("attributes",o,t)}}}},{key:"setValueFromInput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={value:e};this.set(r,k(k({},n),{},{avoidStore:1})),t&&(this.set("value","",n),this.set(r,n))}},{key:"getInitValue",value:function(){var e,t=this.target,n=this.get("name");if(t){var r=t.get("attributes");e=this.get("changeProp")?t.get(n):r[n]}return e||this.get("value")||this.get("default")}}]),n}(v.Model);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var i=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}S.prototype.defaults={type:"text",label:"",name:"",min:"",max:"",unit:"",step:1,value:"",target:"",default:"",placeholder:"",changeProp:0,options:[]};var O=function(e){(0,h.Z)(n,e);var t=_(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"initialize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.em=t.em,this.listenTo(this,"add",this.handleAdd),this.listenTo(this,"reset",this.handleReset)}},{key:"handleReset",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousModels;(void 0===t?[]:t).forEach((function(e){return e.trigger("remove")}))}},{key:"handleAdd",value:function(e){e.em=this.em;var t=this.target;t&&(e.target=t)}},{key:"setTarget",value:function(e){this.target=e}},{key:"add",value:function(e,t){var n=this.em;if((0,p.isString)(e)||(0,p.isArray)(e)){var r=n&&n.get&&n.get("TraitManager"),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{build:function(t){var n=[];"string"==typeof t&&(t=[t]);for(var r=0;r<t.length;r++){var i={},o=t[r];i.name=o,"target"===o&&(i.type="select",i.default=!1,i.options=e.optionsTarget),n.push(i)}return n}}}(r&&r.getConfig());(0,p.isString)(e)&&(e=[e]);for(var o=0,s=e.length;o<s;o++){var a=e[o],l=(0,p.isString)(a)?i.build(a)[0]:a;l.target=this.target,e[o]=l}}return v.Collection.prototype.add.apply(this,[e,t])}}]),n}(v.Collection);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var i=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}O.prototype.model=S;var $=function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},L=function(e){return e&&e.getConfig().avoidInlineStyle},R="component:drag",P="__symbols",M="__symbol",D="__symbol_ovrd",j="component:update",N="".concat(j,"-inside"),I=function(e){(0,h.Z)(n,e);var t=A(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){var e;return r(e={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,locked:!1,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:"",traits:["id","title"],propagate:"",dmode:"",toolbar:null},M,0),r(e,P,0),r(e,D,0),r(e,"_undo",!0),r(e,"_undoexc",["status","open"]),e}},{key:"init",value:function(){}},{key:"updated",value:function(e,t,n){}},{key:"removed",value:function(){}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,p.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var i=r.em,o=this.parent(),s=o&&o.attributes,a=this.get("propagate");if(a&&this.set("propagate",(0,p.isArray)(a)?a:[a]),s&&s.propagate&&!a){var l={},c=s.propagate;c.forEach((function(e){return l[e]=o.get(e)})),l.propagate=c,this.set(T(T({},l),t))}if(r&&r.config&&r.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),r.em=i,this.opt=r,this.em=i,this.frame=r.frame,this.config=r.config||{},this.set("attributes",T(T({},(0,p.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=n.createId(this,r),this.initClasses(),this.initTraits(),this.initComponents(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on(N,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach((function(t){var n="add remove ".concat("components"!==t?"change":"");e.listenTo(e.get(t),n.trim(),(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.emitUpdate.apply(e,[t].concat(r))}))})),!r.temporary){var u=i&&i.get("CssComposer"),h=this.attributes,d=h.styles,f=h.type;d&&u&&u.addCollection(d,{},{group:"cmp:".concat(f)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),i&&i.trigger("component:create",this)}}},{key:"__postAdd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.em,n=t&&t.get("UndoManager"),r=this.components();n&&!this.__hasUm&&(n.add(r),n.add(this.getSelectors()),this.__hasUm=1),e.recursive&&r.map((function(t){return t.__postAdd(e)}))}},{key:"__postRemove",value:function(){var e=this.em,t=e&&e.get("UndoManager");t&&(t.remove(this.components()),t.remove(this.getSelectors()),delete this.__hasUm)}},{key:"__onChange",value:function(e,t){var n=this,r=this.changedAttributes();(0,p.keys)(r).forEach((function(e){return n.emitUpdate(e)})),["status","open","toolbar","traits"].forEach((function(e){return delete r[e]})),(0,g.isEmptyObj)(r)||(this.__changesUp(t),this.__propSelfToParent({component:this,changed:r,options:t}))}},{key:"__changesUp",value:function(e){var t=this.em;[this.frame,t].forEach((function(t){return t&&t.changesUp(e)}))}},{key:"__propSelfToParent",value:function(e){this.trigger(j,e),this.__propToParent(e)}},{key:"__propToParent",value:function(e){var t=this.parent();t&&t.trigger(N,e)}},{key:"__emitUpdateTlb",value:function(){this.emitUpdate("toolbar")}},{key:"is",value:function(e){return!(this.get("type")!=e)}},{key:"props",value:function(){return this.attributes}},{key:"index",value:function(){var e=this.collection;return e?e.indexOf(this):0}},{key:"setDragMode",value:function(e){return this.set("dmode",e)}},{key:"find",value:function(e){var t=[],n=this.view.$el.find(e);return n.each((function(e){var r=n.eq(e).data("model");r&&t.push(r)})),t}},{key:"findType",value:function(e){var t=[];return function n(r){return r.forEach((function(r){r.is(e)&&t.push(r),n(r.components())}))}(this.components()),t}},{key:"closest",value:function(e){var t=this.view.$el.closest(e);return t.length&&t.data("model")}},{key:"closestType",value:function(e){for(var t=this.parent();t&&!t.is(e);)t=t.parent();return t}},{key:"contains",value:function(e){var t=!1;if(!e)return t;var n=function n(r){!t&&r.forEach((function(r){r===e&&(t=!0),!t&&n(r.components())}))};return n(this.components()),t}},{key:"tagUpdated",value:function(){this.trigger("rerender")}},{key:"replaceWith",value:function(e){var t=this.collection,n=t.indexOf(this);return t.remove(this),t.add(e,{at:n})}},{key:"attrUpdated",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.get("attributes"),o=i.class;o&&this.setClass(o),delete i.class;var s=i.style;s&&this.setStyle(s),delete i.style;var a=T({},this.previous("attributes")),l=(0,g.shallowDiff)(a,this.get("attributes"));(0,p.keys)(l).forEach((function(e){return n.trigger("change:attributes:".concat(e),n,l[e],r)}))}},{key:"setAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.set("attributes",T({},e),t),this}},{key:"addAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setAttributes(T(T({},this.getAttributes({noClass:1})),e),t)}},{key:"removeAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e)?e:[e],r=this.getAttributes();return n.map((function(e){return delete r[e]})),this.setAttributes(r,t)}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.em,i=(0,p.isString)(e)?e:"",o=i?t:e;if(r&&r.getConfig().avoidInlineStyle&&!o.inline){var s=r.get("state"),a=r.get("CssComposer").getIdRule(this.getId(),T({state:s},o));if(this.rule=a,a)return a.getStyle(i)}return(0,u.Z)((0,f.Z)(n.prototype),"getStyle",this).call(this,i)}},{key:"setStyle",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.em,o=this.opt;if(i&&i.getConfig().avoidInlineStyle&&!o.temporary&&!r.inline){var s=this.get("style")||{};t=T(T({},t=(0,p.isString)(t)?this.parseStyle(t):t),s);var a=i.get("state"),l=i.get("CssComposer"),c=this.getStyle(r);this.rule=l.setIdRule(this.getId(),t,T(T({},r),{},{state:a}));var h=(0,g.shallowDiff)(c,t);this.set("style","",{silent:1}),(0,p.keys)(h).forEach((function(t){return e.trigger("change:style:".concat(t))}))}else t=(0,u.Z)((0,f.Z)(n.prototype),"setStyle",this).apply(this,arguments);return t}},{key:"getAttributes",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.em,r=[],i=T({},this.get("attributes")),o=n&&n.get("SelectorManager"),s=this.getId();if(t.noClass||(this.get("classes").forEach((function(e){return r.push((0,p.isString)(e)?e:e.get("name"))})),r.length&&(i.class=r.join(" "))),!t.noStyle){var a=this.get("style");(0,g.isObject)(a)&&!(0,g.isEmptyObj)(a)&&(i.style=this.styleToString({inline:1}))}return(0,p.has)(i,"id")||(L(n)?e=o&&o.get(s,o.Selector.TYPE_ID):(0,p.isEmpty)(this.getStyle())||(e=1),(this.__getSymbol()||this.__getSymbols())&&(e=1),e&&(i.id=s)),i}},{key:"addClass",value:function(e){var t=this.em.get("SelectorManager").addClass(e);return this.get("classes").add(t)}},{key:"setClass",value:function(e){return this.get("classes").reset(),this.addClass(e)}},{key:"removeClass",value:function(e){var t=[];e=(0,p.isArray)(e)?e:[e];var n=this.get("classes"),r=b.Z.TYPE_CLASS;return e.forEach((function(e){e.split(" ").forEach((function(e){var i=n.where({name:e,type:r})[0];i&&t.push(n.remove(i))}))})),t}},{key:"getClasses",value:function(){var e=this.getAttributes().class;return e?e.split(" "):[]}},{key:"__logSymbol",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.__getSymbol(),i=this.__getSymbols();(r||i)&&this.em.log(e,{model:this,toUp:t,context:"symbols",opts:n})}},{key:"__initSymb",value:function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=1)}},{key:"__isSymbol",value:function(){return(0,p.isArray)(this.get(P))}},{key:"__isSymbolOrInst",value:function(){return!(!this.__isSymbol()&&!this.get(M))}},{key:"__isSymbolTop",value:function(){var e=this.parent();return this.__isSymbolOrInst()&&(!e||e&&!e.__isSymbol()&&!e.__getSymbol())}},{key:"__isSymbolNested",value:function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var e=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),t=this.__getSymbTop();return(t.__isSymbol()?t:t.__getSymbol())!==e}},{key:"__getAllById",value:function(){var e=this.em;return e?e.get("DomComponents").allById():{}}},{key:"__getSymbol",value:function(){var e=this.get(M);if(e&&(0,p.isString)(e)){var t=this.__getAllById()[e];t?(e=t,this.set(M,t)):e=0}return e}},{key:"__getSymbols",value:function(){var e=this,t=this.get(P);return t&&(0,p.isArray)(t)&&(t.forEach((function(n,r){n&&(0,p.isString)(n)&&(t[r]=e.__getAllById()[n])})),t=t.filter((function(e){return e&&!(0,p.isString)(e)}))),t}},{key:"__isSymbOvrd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.get(D),n=e.split(":"),r=(0,s.Z)(n,1)[0],i=e!==r?[e,r]:[e];return!0===t||(0,p.isArray)(t)&&i.some((function(e){return t.indexOf(e)>=0}))}},{key:"__getSymbToUp",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[],r=this.em,i=t.changed,s=r&&r.config.symbols;if(t.fromInstance||t.noPropagate||t.fromUndo||!s||i&&this.__isSymbOvrd(i))return n;var a=this.__getSymbols()||[],l=this.__getSymbol();return(l?[l].concat((0,o.Z)(l.__getSymbols()||[])):a).filter((function(t){return t!==e})).filter((function(e){return!(i&&e.__isSymbOvrd(i))}))}},{key:"__getSymbTop",value:function(e){for(var t=this,n=this.parent(e);n&&(n.__isSymbol()||n.__getSymbol());)t=n,n=n.parent(e);return t}},{key:"__upSymbProps",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.changedAttributes(),i=r.attributes||{};if(delete r.status,delete r.open,delete r[P],delete r[M],delete r[D],delete r.attributes,delete i.id,(0,g.isEmptyObj)(i)||(r.attributes=i),!(0,g.isEmptyObj)(r)){var o=this.__getSymbToUp(n);(0,p.keys)(r).map((function(e){t.__isSymbOvrd(e)&&delete r[e]})),this.__logSymbol("props",o,{opts:n,changed:r}),o.forEach((function(e){var i=T({},r);(0,p.keys)(i).map((function(t){e.__isSymbOvrd(t)&&delete i[t]})),e.set(i,T({fromInstance:t},n))}))}}},{key:"__upSymbCls",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.__getSymbToUp(r);this.__logSymbol("classes",i,{opts:r}),i.forEach((function(e){e.set("classes",n.get("classes"),{fromInstance:n})})),this.__changesUp(r)}},{key:"__upSymbComps",value:function(e,t,n){var r=this,i=n||t||{},s={fromInstance:i.fromInstance,fromUndo:i.fromUndo},a=e.opt.temporary;if(n)if(n.add){var l=[],c=!!this.__getSymbols(),u=this.__getSymbToUp(T(T({},s),{},{changed:"components:add"}));if(u.length){var h=e.__getSymbol();l=(h?h.__getSymbols():e.__getSymbols())||[],(l=(0,o.Z)(l)).push(h||e)}!a&&this.__logSymbol("add",u,{opts:n,addedInstances:l.map((function(e){return e.cid})),added:e.cid}),u.forEach((function(t){var i=t.__getSymbTop(),o=l.filter((function(e){var t=e.__getSymbTop({prev:1});return i&&t&&t===i}))[0]||e.clone({symbol:1,symbolInv:c});t.append(o,T({fromInstance:r},n))}))}else{var d=e.__getSymbol();if(d&&!n.temporary&&d.set(P,d.__getSymbols().filter((function(t){return t!==e}))),!e.__isSymbolTop()){var f="components:remove",p=n.index,g=e.parent(),m=T({fromInstance:e},n),v=e.__isSymbolNested(),y=function(e){var t=e.parent();t&&!t.__isSymbOvrd(f)&&e.remove(m)},b=g.__isSymbOvrd(f)?[]:e.__getSymbToUp(s);v&&(b=g.__getSymbToUp(T(T({},s),{},{changed:f})),y=function(e){var t=e.components().at(p);t&&t.remove(T({fromInstance:g},m))}),!a&&this.__logSymbol("remove",b,{opts:n,removed:e.cid,isSymbNested:v}),b.forEach(y)}}else{var w=this.__getSymbToUp(T(T({},s),{},{changed:"components:reset"}));this.__logSymbol("reset",w,{components:e.models}),w.forEach((function(n){var i=e.models.map((function(e){return e.clone({symbol:1})}));n.components().reset(i,T({fromInstance:r},t))}))}this.__changesUp(i)}},{key:"initClasses",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="change:classes",i=this.get("attributes").class||[],o=[this,r,this.initClasses],s=this.get("classes")||i,a=(0,p.isString)(s)?s.split(" "):s;this.stopListening.apply(this,o);var l=this.normalizeClasses(a),c=new w.Z([]);return this.set("classes",c,n),c.add(l),c.on("add remove reset",this.__upSymbCls),this.listenTo.apply(this,o),this}},{key:"initComponents",value:function(){var e=[this,"change:components",this.initComponents];this.stopListening.apply(this,e);var t=new y.Z(null,this.opt);t.parent=this;var n=this.get("components"),r=!this.opt.avoidChildren;return this.set("components",t),r&&n&&t.add((0,p.isFunction)(n)?n(this):n,this.opt),t.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,e),this}},{key:"initTraits",value:function(e){var t=this.em,n="change:traits";this.off(n,this.initTraits),this.__loadTraits();var r=T({},this.get("attributes")),i=this.get("traits");return i.each((function(e){if(!e.get("changeProp")){var t=e.get("name"),n=e.getInitValue();t&&n&&(r[t]=n)}})),i.length&&this.set("attributes",r),this.on(n,this.initTraits),e&&t&&t.trigger("component:toggled"),this}},{key:"initScriptProps",value:function(){if(!this.opt.temporary){var e="script-props",t=["change:".concat(e),this.initScriptProps];this.off.apply(this,t);var n=this.previous(e)||[],r=this.get(e)||[],i=n.map((function(e){return"change:".concat(e)})).join(" "),o=r.map((function(e){return"change:".concat(e)})).join(" ");i&&this.off(i,this.__scriptPropsChange),o&&this.on(o,this.__scriptPropsChange),this.on.apply(this,t)}}},{key:"__scriptPropsChange",value:function(e,t){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).avoidStore||this.trigger("rerender")}},{key:"append",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((0,p.isArray)(e)?e:[e]).map((function(e){return(0,p.isString)(e)||e.collection&&e.collection.remove(e,{temporary:1}),e})),r=this.components().add(n,t);return(0,p.isArray)(r)?r:[r]}},{key:"components",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.get("components");return(0,p.isUndefined)(e)?n:(n.reset(null,t),e?this.append(e,t):[])}},{key:"getChildAt",value:function(e){return this.components().at(e||0)||null}},{key:"getLastChild",value:function(){var e=this.components();return e.at(e.length-1)||null}},{key:"empty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.components().reset(null,e),this}},{key:"parent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.collection||e.prev&&this.prevColl;return t?t.parent:null}},{key:"parents",value:function(){var e=this.parent();return e?[e].concat(e.parents()):[]}},{key:"scriptUpdated",value:function(){this.set("scriptUpdated",1)}},{key:"initToolbar",value:function(){var e=this.em,t=this,n=e&&e.getConfig().stylePrefix||"";if(!t.get("toolbar")&&e){var r=[];t.collection&&r.push({label:e.getIcon("arrowUp"),command:function(e){return e.runCommand("core:component-exit",{force:1})}}),t.get("draggable")&&r.push({attributes:{class:"".concat(n,"no-touch-actions"),draggable:!0},label:e.getIcon("move"),command:"tlb-move"}),t.get("copyable")&&r.push({label:e.getIcon("copy"),command:"tlb-clone"}),t.get("removable")&&r.push({label:e.getIcon("delete"),command:"tlb-delete"}),t.set("toolbar",r)}}},{key:"__loadTraits",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e||this.get("traits");if(!(n instanceof O)){n=(0,p.isFunction)(n)?n(this):n;var r=new O([],this.opt);r.setTarget(this),n.length&&(n.forEach((function(e){return e.attributes&&delete e.attributes.value})),r.add(n)),this.set({traits:r},t)}return this}},{key:"getTraits",value:function(){return this.__loadTraits(),(0,o.Z)(this.get("traits").models)}},{key:"setTraits",value:function(e){var t=(0,p.isArray)(e)?e:[e];return this.set({traits:t}),this.getTraits()}},{key:"getTrait",value:function(e){return this.getTraits().filter((function(t){return t.get("id")===e||t.get("name")===e}))[0]||null}},{key:"updateTrait",value:function(e,t){var n,r=this.getTrait(e);return r&&r.set(t),null===(n=this.em)||void 0===n||n.trigger("component:toggled"),this}},{key:"getTraitIndex",value:function(e){var t=this.getTrait(e);return t?this.get("traits").indexOf(t):-1}},{key:"removeTrait",value:function(e){var t,n=this,r=((0,p.isArray)(e)?e:[e]).map((function(e){return n.getTrait(e)})),i=this.get("traits"),o=r.length?i.remove(r):[];return null===(t=this.em)||void 0===t||t.trigger("component:toggled"),(0,p.isArray)(o)?o:[o]}},{key:"addTrait",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__loadTraits();var r=this.get("traits").add(e,n);return null===(t=this.em)||void 0===t||t.trigger("component:toggled"),(0,p.isArray)(r)?r:[r]}},{key:"normalizeClasses",value:function(e){var t=[],n=this.em,r=n&&n.get("SelectorManager");if(r)return e.models?(0,o.Z)(e.models):(e.forEach((function(e){return t.push(r.add(e))})),t)}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.em,n=T({},this.attributes),r=T({},this.opt),i=this.getId(),s=t&&t.get("CssComposer");n.attributes=T({},n.attributes),delete n.attributes.id,n.components=[],n.classes=[],n.traits=[],this.__isSymbolTop()&&(e.symbol=1),this.get("components").each((function(t,r){n.components[r]=t.clone(T(T({},e),{},{_inner:1}))})),this.get("traits").each((function(e,t){n.traits[t]=e.clone()})),this.get("classes").each((function(e,t){n.classes[t]=e.get("name")})),n.status="",r.collection=null;var a=new this.constructor(n,r),l="#".concat(a.getId());(s?s.getRules("#".concat(i)):[]).forEach((function(e){var t=e.clone();t.set("selectors",[l]),s.getAll().add(t)})),a.set(P,0);var c=this.__getSymbol(),u=this.__getSymbols();e.symbol||!c&&!u?c?(c.set(P,[].concat((0,o.Z)(c.__getSymbols()),[a])),a.__initSymb()):e.symbol&&(this.__isSymbol()?(this.set(P,[].concat((0,o.Z)(u),[a])),a.set(M,this),a.__initSymb()):e.symbolInv?(this.set(P,[a]),a.set(M,this),[this,a].map((function(e){return e.__initSymb()}))):(a.set(P,[this]),[this,a].map((function(e){return e.__initSymb()})),this.set(M,a))):(a.set(M,0),a.set(P,0));var h="component:clone";return t&&t.trigger(h,a),this.trigger(h,a),a}},{key:"getName",value:function(){var e=this.em,t=this.attributes,n=t.type,r=t.tagName,i=t.name,o=n||r,s=!n&&r,a="domComponents.names.",l=i&&(null==e?void 0:e.t("".concat(a).concat(i))),c=s&&(null==e?void 0:e.t("".concat(a).concat(s))),u=e&&(e.t("".concat(a).concat(n))||e.t("".concat(a).concat(r)));return this.get("custom-name")||l||i||c||(0,g.capitalize)(s)||u||(0,g.capitalize)(o)}},{key:"getIcon",value:function(){var e=this.get("icon");return e?e+" ":""}},{key:"toHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=[],r=e.tag||t.get("tagName"),i=t.get("void"),o=e.attributes,s=this.getAttrToHTML();if(delete e.tag,o&&((0,p.isFunction)(o)?s=o(t,s)||{}:(0,g.isObject)(o)&&(s=o)),e.withProps){var a=this.toJSON();(0,p.forEach)(a,(function(e,t){"_"!==t[0]&&["classes","attributes","components"].indexOf(t)<0&&(s["data-gjs-".concat(t)]=(0,p.isArray)(e)||(0,g.isObject)(e)?JSON.stringify(e):e)}))}for(var l in s){var c=s[l];if(!(0,p.isUndefined)(c)&&null!==c)if((0,p.isBoolean)(c))c&&n.push(l);else{var u="";if(e.altQuoteAttr&&(0,p.isString)(c)&&c.indexOf('"')>=0)u="'".concat(c.replace(/'/g,"&apos;"),"'");else{var h=(0,p.isString)(c)?c.replace(/"/g,"&quot;"):c;u='"'.concat(h,'"')}n.push("".concat(l,"=").concat(u))}}var d=n.length?" ".concat(n.join(" ")):"",f=t.getInnerHTML(e),m="<".concat(r).concat(d).concat(i?"/":"",">").concat(f);return!i&&(m+="</".concat(r,">")),m}},{key:"getInnerHTML",value:function(e){return this.__innerHTML(e)}},{key:"__innerHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.components();return t.length?t.map((function(t){return t.toHTML(e)})).join(""):this.get("content")}},{key:"getAttrToHTML",value:function(){var e=this.getAttributes();return delete e.style,e}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=v.Model.prototype.toJSON.call(this,e);if(t.attributes=this.getAttributes(),delete t.attributes.class,delete t.toolbar,delete t.traits,delete t.status,delete t.open,!e.fromUndo){var n=t[M],r=t[P];r&&(0,p.isArray)(r)&&(t[P]=r.filter((function(e){return e})).map((function(e){return e.getId?e.getId():e}))),n&&!(0,p.isString)(n)&&(t[M]=n.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(t),t}},{key:"getChangedProps",value:function(e){var t=e||v.Model.prototype.toJSON.apply(this),n=(0,p.result)(this,"defaults");return(0,p.forEach)(n,(function(e,n){-1===["type"].indexOf(n)&&t[n]===e&&delete t[n]})),(0,p.isEmpty)(t.type)&&delete t.type,(0,p.forEach)(["attributes","style"],(function(e){(0,p.isEmpty)(n[e])&&(0,p.isEmpty)(t[e])&&delete t[e]})),(0,p.forEach)(["classes","components"],(function(e){(!t[e]||(0,p.isEmpty)(n[e])&&!t[e].length)&&delete t[e]})),t}},{key:"getId",value:function(){return(this.get("attributes")||{}).id||this.ccid||this.cid}},{key:"setId",value:function(e,t){var n=T({},this.get("attributes"));return n.id=e,this.set("attributes",n,t),this}},{key:"getEl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this.getView(e);return t&&t.el}},{key:"getView",value:function(e){var t=this.view,n=this.views;return e&&(t=n.filter((function(t){return t._getFrame()===e.view}))[0]),t}},{key:"getCurrentView",value:function(){var e=(this.em.get("currentFrame")||{}).model;return this.getView(e)}},{key:"__getScriptProps",value:function(){var e=this.props();return(this.get("script-props")||[]).reduce((function(t,n){return t[n]=e[n],t}),{})}},{key:"getScriptString",value:function(e){var t=this,n=e||this.get("script");if(!n)return n;if(this.get("script-props"))n=n.toString().trim();else{if("function"==typeof n){var r=n.toString().trim();n=(r=r.replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"")).trim()}var o=this.em.getConfig(),s=$(o.tagVarStart||"{[ "),a=$(o.tagVarEnd||" ]}"),l=new RegExp("".concat(s,"([\\w\\d-]*)").concat(a),"g");n=n.replace(l,(function(e,n){t.scriptUpdated();var r=t.attributes[n]||"";return(0,p.isArray)(r)||"object"==(0,i.Z)(r)?JSON.stringify(r):r}))}return n}},{key:"emitUpdate",value:function(e){for(var t=this.em,n=j+(e?":".concat(e):""),i=e&&this.get(e),o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];e&&this.updated.apply(this,[e,i,e&&this.previous(e)].concat(s)),this.trigger.apply(this,[n].concat(s)),t&&t.trigger.apply(t,[n,this].concat(s)),["components","classes"].indexOf(e)>=0&&this.__propSelfToParent({component:this,changed:r({},e,i),options:s[2]||s[1]||{}})}},{key:"onAll",value:function(e){return(0,p.isFunction)(e)&&(e(this),this.components().forEach((function(t){return t.onAll(e)}))),this}},{key:"remove",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.em,r=this.collection,i=function(){r&&r.remove(e,T(T({},t),{},{action:"remove-component"})),r||(e.components("",t),e.components().removeChildren(e,null,t))},o=T({},t);return[this,n].map((function(t){return t.trigger("component:remove:before",e,i,o)})),!o.abort&&i(),this}},{key:"move",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var n=t.at,r=this.index(),i=e===this.parent();i&&(r===n||r===n-1)||(i&&n&&n>r&&(t.at=n-1),this.remove({temporary:1}),e.append(this,t),this.emitUpdate())}return this}},{key:"isInstanceOf",value:function(e){var t,n,r=null===(t=this.em)||void 0===t||null===(n=t.get("DomComponents").getType(e))||void 0===n?void 0:n.model;return!!r&&this instanceof r}},{key:"isChildOf",value:function(e){for(var t=(0,p.isString)(e),n=this.parent();n;){if(t){if(n.isInstanceOf(e))return!0}else if(n===e)return!0;n=n.parent()}return!1}},{key:"resetId",value:function(){var e=this.em,t=this.getId();if(t){var r=n.createId(this);this.setId(r);var i=e&&e.get("CssComposer").getIdRule(t),o=i&&i.get("selectors").at(0);return o&&o.set("name",r),this}}},{key:"_getStyleRule",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id,t=this.em,n=e||this.getId();return t&&t.get("CssComposer").getIdRule(n)}},{key:"_getStyleSelector",value:function(e){var t=this._getStyleRule(e);return t&&t.get("selectors").at(0)}},{key:"_idUpdated",value:function(e,t){if(!(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).idUpdate){var r=this.ccid,i=(this.get("attributes")||{}).id,o=(this.previous("attributes")||{}).id||r,s=n.getList(this);if(s[i]||!i&&o)return this.setId(o,{idUpdate:1});delete s[o],s[i]=this,this.ccid=i;var a=this._getStyleSelector({id:o});a&&a.set({name:i,label:i})}}}]),n}(m.Z);I.getDefaults=function(){return(0,p.result)(this.prototype,"defaults")},I.isComponent=function(e){return{tagName:(0,g.toLowerCase)(e.tagName)}},I.ensureInList=function(e){var t=I.getList(e),n=e.getId(),r=t[n];if(r){if(r!==e){var i=I.getIncrementId(n,t);e.setId(i),t[i]=e}}else t[n]=e;e.components().forEach((function(e){return I.ensureInList(e)}))},I.createId=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=I.getList(e),i=n.idMap,o=void 0===i?{}:i,s=e.get("attributes").id;return s?(t=I.getIncrementId(s,r,n),e.setId(t),s!==t&&(o[s]=t)):t=I.getNewId(r),r[t]=e,t},I.getNewId=function(e){for(var t=Object.keys(e).length.toString().length+2,n=(Math.random()+1.1).toString(36).slice(-t),r="i".concat(n);e[r];)r=I.getNewId(e);return r},I.getIncrementId=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).keepIds,r=1,i=e;if((void 0===n?[]:n).indexOf(e)<0)for(;t[i];)r++,i="".concat(e,"-").concat(r);return i},I.getList=function(e){var t=e.opt,n=void 0===t?{}:t,r=n.domc,i=n.em,o=r||i&&i.get("DomComponents");return o?o.componentsById:{}},I.checkId=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(0,p.isArray)(e)?e:[e],o=r.keepIds,s=void 0===o?[]:o;i.forEach((function(e){var i=e.attributes,o=void 0===i?{}:i,a=e.components,l=o.id;if(l&&n[l]&&s.indexOf(l)<0){var c=I.getIncrementId(l,n);o.id=c,(0,p.isArray)(t)&&t.forEach((function(e){var t=e.selectors;t.forEach((function(e,n){e==="#".concat(l)&&(t[n]="#".concat(c))}))}))}a&&I.checkId(a,t,n,r)}))}},8431:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(1002),i=n(2982),o=n(5671),s=n(3144),a=n(7326),l=n(9340),c=n(2963),u=n(1120),h=n(4942),d=n(4925),f=n(2316),p=n.n(f),g=n(9050),m=n(9138),v=["id","draggable"],y=["at"];function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t?(((0,g.isArray)(t)||(0,g.isFunction)(t.map)?t:[t]).map((function(t){n.push(t.getId()),e(t.components().models,n)})),n):[]},C=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.visitedCmps=r.visitedCmps||{};var i=r.visitedCmps;return((0,g.isArray)(t)?t:[t]).map((function(t){var o=t.attributes,s=void 0===o?{}:o,a=t.components,l=t.tagName,c=s.id,u=(s.draggable,(0,d.Z)(s,v)),h=t;if(c&&(i[c]?(i[c].push(h),c=m.ZP.getNewId(n),h.attributes.id=c):(i[c]=[],n[c]&&(h=n[c],l&&h.set({tagName:l},x(x({},r),{},{silent:!0})),(0,g.keys)(u).length&&h.addAttributes(u,x({},r))))),a){var f=e(a,n);if((0,g.isFunction)(h.components)){var p=h.components();p.length>0&&p.reset(f,r)}else h.components=f}return h}))},S=function(e){(0,l.Z)(n,e);var t=b(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,h.Z)((0,a.Z)(e),"__onAddEnd",(0,g.debounce)((function(){}))),e}return(0,s.Z)(n,[{key:"initialize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.opt=t,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var n=t.em,r=t.config;this.config=r,this.em=n,this.domc=t.domc||n&&n.get("DomComponents")}},{key:"resetChildren",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this,i=n.previousModels||[],o=i.filter((function(t){return!e.get(t.cid)})),s=k(e);n.keepIds=k(i).filter((function(e){return s.indexOf(e)>=0})),o.forEach((function(e){return t.removeChildren(e,r,n)})),e.each((function(e){return t.onAdd(e)}))}},{key:"resetFromString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.keepIds=k(this);var n=this.domc,r=this.em,i=this.parent,o=null==r?void 0:r.get("CssComposer"),s=(null==n?void 0:n.allById())||{},a=this.parseString(e,t),l=C(a,s,t),c=t.visitedCmps,u=void 0===c?{}:c;Object.keys(u).forEach((function(e){var t=u[e];if(t.length){var n=(null==o?void 0:o.getRules("#".concat(e)))||[];n.length&&t.forEach((function(e){n.forEach((function(t){var n=t.clone();n.set("selectors",["#".concat(e.attributes.id)]),o.getAll().add(n)}))}))}})),this.reset(l,t),null==r||r.trigger("component:content",i,t,e)}},{key:"removeChildren",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e){var i=this.domc,o=this.em,s=r.temporary||r.fromUndo;if(e.prevColl=this,!s){var a=e.getId(),l=o.get("SelectorManager").getAll(),c=o.get("CssComposer").getAll(),u=(r.keepIds||[]).indexOf(a)<0;delete(i?i.allById():{})[a];var h=u?c.remove(c.filter((function(e){return e.getSelectors().getFullString()==="#".concat(a)})),r):[];l.remove(h.map((function(e){return e.getSelectors().at(0)}))),e.opt.temporary||(o.get("Commands").run("core:component-style-clear",{target:e}),e.removed(),e.trigger("removed"),o.trigger("component:remove",e)),e.components().forEach((function(e){return n.removeChildren(e,t,r)}))}var d=e.components();o.stopListening(d),o.stopListening(e),o.stopListening(e.get("classes")),e.__postRemove()}}},{key:"model",value:function(e,t){var n,r=t.collection.opt,i=r.em,o=i.get("DomComponents").componentTypes;t.em=i,t.config=r.config,t.componentTypes=o,t.domc=r.domc;for(var s=0;s<o.length;s++)if(o[s].id==e.type){n=o[s].model;break}return n||(n=o[o.length-1].model,i&&e.type&&i.logWarning("Component type '".concat(e.type,"' not found"),{attrs:e,options:t})),new n(e,t)}},{key:"parseString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.em,r=this.domc,i=n.get("CssComposer"),o=n.get("Parser").parseHtml(e);if(m.ZP.checkId(o.html,o.css,r.componentsById,t),o.css&&i&&!t.temporary){t.at;var s=(0,d.Z)(t,y);i.addCollection(o.css,x(x({},s),{},{extend:1}))}return o.html}},{key:"add",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.keepIds=[].concat((0,i.Z)(n.keepIds||[]),(0,i.Z)(k(n.previousModels))),(0,g.isString)(e)?e=this.parseString(e,n):(0,g.isArray)(e)&&(e=(0,i.Z)(e)).forEach((function(r,i){if((0,g.isString)(r)){var o=t.parseString(r,n);e[i]=(0,g.isArray)(o)&&!o.length?null:o}}));var r=(0,g.isArray)(e);e=(r?e:[e]).filter((function(e){return e})).map((function(e){return t.processDef(e)})),e=r?(0,g.flatten)(e,1):e[0];var o=p().Collection.prototype.add.apply(this,[e,n]);return this.__firstAdd=o,o}},{key:"processDef",value:function(e){if(e.cid&&e.ccid)return e;var t=this.em,n=this.config,i=(void 0===n?{}:n).processor,o=e;if(i){var s=i(o=x({},o));s&&((0,g.each)(o,(function(e,t){return delete o[t]})),(0,g.extend)(o,s))}if(o.$$typeof&&"object"==(0,r.Z)(o.props)){(o=x({},o)).props=x({},o.props);var a=t.get("DomComponents"),l=t.get("Parser").parserHtml;(0,g.each)(o,(function(e,t){(0,g.includes)(["props","type"],t)||delete o[t]}));var c=o.props,u=c.children;delete c.children,delete o.props;var h=l.splitPropsFromAttr(c);o.attributes=h.attrs,u&&(o.components=u),o.type?a.getType(o.type)||(o.tagName=o.type,delete o.type):o.type="textnode",(0,g.extend)(o,h.props)}return o}},{key:"onAdd",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.domc,i=this.em,o=e.getStyle(),s=i&&i.getConfig().avoidInlineStyle;if(r&&r.Component.ensureInList(e),!(0,g.isEmpty)(o)&&!s&&i&&i.get&&i.getConfig().forceClass&&!n.temporary){var a=e.cid;i.get("CssComposer").setClassRule(a,o),e.setStyle({}),e.addClass(a)}e.__postAdd({recursive:1}),this.__onAddEnd()}}]),n}(p().Collection)},2169:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(4942),i=n(5671),o=n(3144),s=n(9340),a=n(2963),l=n(1120),c=n(2316),u=n.n(c),h=n(9050),d=n(8431),f=n(3505),p=n(966),g=n(9283),m=n(1163);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var w=function(e){(0,s.Z)(n,e);var t=b(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"className",value:function(){return this.getClasses()}},{key:"tagName",value:function(){return this.model.get("tagName")}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.model,n=e.config||{},r=n.em,i=t.opt||{},o=this.$el,s=this.el;this.opts=e,this.modelOpt=i,this.config=n,this.em=r||"",this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.attr=t.get("attributes"),this.classe=this.attr.class||[],this.listenTo(t,"change:style",this.updateStyle),this.listenTo(t,"change:attributes",this.renderAttributes),this.listenTo(t,"change:highlightable",this.updateHighlight),this.listenTo(t,"change:status change:locked",this.updateStatus),this.listenTo(t,"change:script rerender",this.reset),this.listenTo(t,"change:content",this.updateContent),this.listenTo(t,"change",this.handleChange),this.listenTo(t,"active",this.onActive),this.listenTo(t,"disable",this.onDisable),o.data("model",t),(0,m.setViewEl)(s,this),t.view=this,this._getFrame()&&t.views.push(this),this.initClasses(),this.initComponents({avoidRender:1}),this.events=y(y({},this.constructor.getEvents()),{},{dragstart:"handleDragStart"}),this.delegateEvents(),!i.temporary&&this.init(this._clbObj())}},{key:"__isDraggable",value:function(){var e=this.model,t=this.config,n=e.attributes.draggable;return t.draggableComponents&&n}},{key:"_clbObj",value:function(){var e=this.em,t=this.model,n=this.el;return{editor:e&&e.getEditor(),model:t,el:n}}},{key:"init",value:function(){}},{key:"removed",value:function(){}},{key:"onActive",value:function(){}},{key:"onDisable",value:function(){}},{key:"remove",value:function(){var e;u().View.prototype.remove.apply(this,arguments);var t=this.model,n=this.$el,r=t.views,i=this._getFrame()||{};return t.components().forEach((function(e){var t=e.getView(i.model);null==t||t.remove()})),null===(e=this.childrenView)||void 0===e||e.remove(),r.splice(r.indexOf(this),1),this.removed(this._clbObj()),n.data({model:"",collection:"",view:""}),this}},{key:"handleDragStart",value:function(e){if(!this.__isDraggable())return!1;e.stopPropagation(),e.preventDefault(),this.em.get("Commands").run("tlb-move",{target:this.model,event:e})}},{key:"initClasses",value:function(){var e=this.model,t="change:classes",n=e.get("classes");n instanceof p.Z&&(this.stopListening(e,t,this.initClasses),this.listenTo(e,t,this.initClasses),this.listenTo(n,"add remove change",this.updateClasses),n.length&&this.importClasses())}},{key:"initComponents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.model,n=this.$el,r=this.childrenView,i="change:components",o=t.get("components"),s=[t,i,this.initComponents];o instanceof d.Z&&(n.data("collection",o),r&&r.remove(),this.stopListening.apply(this,s),!e.avoidRender&&this.renderChildren(),this.listenTo.apply(this,s))}},{key:"handleChange",value:function(){var e=this.model,t=(0,h.keys)(e.changed);if(1!==t.length||"status"!==t[0])for(var n in e.emitUpdate(),e.changed)e.emitUpdate(n)}},{key:"importClasses",value:function(){var e=this.config.em.get("SelectorManager");e&&this.model.get("classes").each((function(t){e.add(t.get("name"))}))}},{key:"updateStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.em,n=this.el,r=this.ppfx,i=this.model,o=(t?t.get("Canvas").getConfig():{}).extHl,s=i.get("status"),a="".concat(r,"selected"),l="".concat(a,"-parent"),c="".concat(r,"freezed"),u="".concat(r,"hovered"),h="".concat(r,"no-pointer"),d=[a,l,c,u,h],f=o&&!e.noExtHl?"":a;this.$el.removeClass(d.join(" "));var p=[n.getAttribute("class")||""];switch(s){case"selected":p.push(f);break;case"selected-parent":p.push(l);break;case"freezed":p.push(c);break;case"freezed-selected":p.push(c,f);break;case"hovered":!e.avoidHover&&p.push(u)}i.get("locked")&&p.push(h);var g=p.filter(Boolean).join(" ");g&&n.setAttribute("class",g)}},{key:"updateHighlight",value:function(){var e=this.model,t=e.get("textable"),n=e.get("highlightable")&&(t||!e.isChildOf("text"));this.setAttribute("data-gjs-highlightable",!!n||"")}},{key:"updateStyle",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.model,i=this.em;if(i&&i.getConfig().avoidInlineStyle&&!n.inline){var o=r.getStyle();!(0,h.isEmpty)(o)&&r.setStyle(o)}else this.setAttribute("style",r.styleToString(n))}},{key:"updateClasses",value:function(){var e=this.model.get("classes").pluck("name").join(" ");this.setAttribute("class",e),this.updateStatus(),this.onAttrUpdate()}},{key:"setAttribute",value:function(e,t){var n=this.$el;t?n.attr(e,t):n.removeAttr(e)}},{key:"getClasses",value:function(){return this.model.getClasses().join(" ")}},{key:"updateAttributes",value:function(){var e=[],t=this.model,n=this.$el,r=this.el,i=t.attributes,o=i.textable,s=i.type,a=y(y({id:t.getId(),"data-gjs-type":s||"default"},this.__isDraggable()&&{draggable:!0}),o&&{contenteditable:"false"});(0,h.each)(r.attributes,(function(t){return e.push(t.nodeName)})),e.forEach((function(e){return n.removeAttr(e)})),this.updateStyle(),this.updateHighlight();var l=y(y({},a),t.getAttributes());(0,h.keys)(l).forEach((function(e){return!1===l[e]&&delete l[e]})),n.attr(l)}},{key:"updateContent",value:function(){var e=this.model.get("content"),t=this.model.components().length;this.getChildrenContainer().innerHTML=t?"":e}},{key:"prevDef",value:function(e){e.preventDefault()}},{key:"updateScript",value:function(){var e=this.model,t=this.em;e.get("script")&&t&&t.get("Canvas").getCanvasView().updateScript(this)}},{key:"getChildrenContainer",value:function(){var e=this.el;return"function"==typeof this.getChildrenSelector?e=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,e}},{key:"getOffsetRect",value:function(){var e={},t=this.el,n=0,r=0;return function i(o){var s=o.offsetParent;s?(n+=s.offsetTop,r+=s.offsetLeft,i(s)):(e.top=t.offsetTop+n,e.left=t.offsetLeft+r,e.bottom=e.top+t.offsetHeight,e.right=e.left+t.offsetWidth)}(t),e}},{key:"isInViewport",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).rect,t=this.el.ownerDocument,n=t.body,r=t.defaultView.frameElement,i=e||this.getOffsetRect(),o=i.top,s=i.left,a=this._getFrame().getOffsetRect();return o>=a.scrollTop&&s>=a.scrollLeft&&o<=a.scrollBottom&&s<=r.offsetWidth+n.scrollLeft}},{key:"scrollIntoView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getOffsetRect();if(!this.isInViewport({rect:t})||e.force){var n=this.el;"smooth"!==e.behavior?n.ownerDocument.defaultView.scrollTo(0,t.top):n.scrollIntoView(y({behavior:"smooth",block:"nearest"},e))}}},{key:"reset",value:function(){var e=this.el;this.el="",this._ensureElement(),this._setData(),(0,g.dL)(e,this.el),this.render()}},{key:"_setData",value:function(){var e=this.model,t=e.components();this.$el.data({model:e,collection:t,view:this})}},{key:"_getFrame",value:function(){var e;return null===(e=this.config.em)||void 0===e?void 0:e.get("Canvas").config.frameView}},{key:"renderChildren",value:function(){this.updateContent();var e=this.getChildrenContainer(),t=this.childrenView||new f.Z({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});t.render(e),this.childrenView=t;for(var n=Array.prototype.slice.call(t.el.childNodes),r=0,i=n.length;r<i;r++)e.appendChild(n.shift())}},{key:"renderAttributes",value:function(){this.updateAttributes(),this.updateClasses()}},{key:"onAttrUpdate",value:function(){}},{key:"render",value:function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),(0,m.setViewEl)(this.el,this),this.postRender()),this}},{key:"postRender",value:function(){this.modelOpt.temporary||this.onRender(this._clbObj())}},{key:"onRender",value:function(){}}]),n}(u().View);w.getEvents=function(){return(0,h.result)(this.prototype,"events")}},3505:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(5671),i=n(3144),o=n(9340),s=n(2963),a=n(1120),l=n(2316),c=n.n(l),u=n(9050),h=n(9283);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.Z)(e);if(t){var i=(0,a.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var f=function(e){(0,o.Z)(s,e);var t=d(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"initialize",value:function(e){this.opts=e||{},this.config=e.config||{},this.em=this.config.em;var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.resetChildren),this.listenTo(t,"remove",this.removeChildren)}},{key:"removeChildren",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.views.forEach((function(e){if(e){var t=e.childrenView,n=e.scriptContainer;t&&t.stopListening(),(0,h.L_)(n),e.remove.apply(e)}})),e.components().forEach((function(e){return n.removeChildren(e,t,r)}))}},{key:"addTo",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.config.em,r=this.collection.indexOf(e);if(this.addToCollection(e,null,r),n&&!t.temporary){var i=function e(t){n.trigger("component:add",t),t.components().forEach((function(t){return e(t)}))};i(e)}}},{key:"addToCollection",value:function(e,t,r){this.compView||(this.compView=n(2169).Z);for(var i=this.config,o=this.opts,s=this.em,a=t||null,l=i.frameView,c=void 0===l?{}:l,h=c.model&&e.getView(c.model),d=o.componentTypes||s&&s.get("DomComponents").getTypes(),f=e.get("type")||"default",p=this.compView,g=0;g<d.length;g++)if(d[g].id==f){p=d[g].view;break}var m,v=h||new p({model:e,config:i,componentTypes:d});try{m=v.render().el}catch(e){m=document.createTextNode(""),s.logError(e)}if(a)a.appendChild(m);else{var y=this.parentEl,b=y.childNodes;if((0,u.isUndefined)(r))y.appendChild(m);else{var w=b.length==r;w&&r--,w||!b.length?y.appendChild(m):y.insertBefore(m,b[r])}}return e.opt.temporary||null==s||s.trigger("component:mount",e),m}},{key:"resetChildren",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousModels,r=void 0===n?[]:n;this.parentEl.innerHTML="",r.forEach((function(e){return t.removeChildren(e,t.collection)})),e.each((function(e){return t.addToCollection(e)}))}},{key:"render",value:function(e){var t=this,n=this.el,r=document.createDocumentFragment();return this.parentEl=e||this.el,this.collection.each((function(e){return t.addToCollection(e,r)})),n.innerHTML="",n.appendChild(r),this}}]),s}(c().View)},9524:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(4942),i=n(5671),o=n(3144),s=n(9340),a=n(2963),l=n(1120),c=n(9050),u=n(1163),h=n(5311),d=n(2316);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var m=(0,h.Z)(),v=function(e){(0,s.Z)(n,e);var t=g(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"parseStyle",value:function(e){return m.parseStyle(e)}},{key:"extendStyle",value:function(e){return p(p({},this.getStyle()),e)}},{key:"getStyle",value:function(e){var t=p({},this.get("style")||{});return e&&(0,c.isString)(e)?t[e]:t}},{key:"setStyle",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c.isString)(t)&&(t=this.parseStyle(t));var r=this.getStyle(n),i=p({},t),o=p({},i);(0,c.keys)(o).forEach((function(e){""===o[e]&&delete o[e]})),this.set("style",o,n);var s=(0,u.shallowDiff)(r,i);return delete s.__p,(0,c.keys)(s).forEach((function(t){var r=e.em;n.noEvent||(e.trigger("change:style:".concat(t)),r&&(r.trigger("styleable:change",e,t,n),r.trigger("styleable:change:".concat(t),e,t,n)))})),i}},{key:"addStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"string"==typeof e?e={prop:t}:n=t||{},e=this.extendStyle(e),this.setStyle(e,n)}},{key:"removeStyle",value:function(e){var t=this.getStyle();delete t[e],this.setStyle(t)}},{key:"styleToString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=this.getStyle(e);for(var r in n){var i=e.important,o=(0,c.isArray)(i)?i.indexOf(r)>=0:i,s="".concat(n[r]).concat(o?" !important":""),a="__"==r.substr(0,2);s&&!a&&t.push("".concat(r,":").concat(s,";"))}return t.join("")}},{key:"getSelectors",value:function(){return this.get("selectors")||this.get("classes")}},{key:"getSelectorsString",value:function(e){return this.selectorsToString?this.selectorsToString(e):this.getSelectors().getFullString()}},{key:"_validate",value:function(e,t){return!0}}]),n}(d.Model)},793:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(4942),i=n(9050),o=n(2316);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={types:[],initialize:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.em;this.em=r,this.opts=n,this.model=function(){var e,n,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o&&o.type){var l=t.getBaseType();e=(i=t.getType(o.type))?i.model:l.model,n=i?i.view:l.view}else{var c=t.recognizeType(o);e=(i=c.type).model,n=i.view,o=c.attributes}var u=new e(o,a(a({},s),{},{em:r}));return u.typeView=n,u};var i=this.init&&this.init.bind(this);i&&i()},recognizeType:function(e){for(var t=this.getTypes(),n=0;n<t.length;n++){var r=t[n],i=r.isType(e);if(i="boolean"==typeof i&&i?{type:r.id}:i)return{type:r,attributes:i}}return{type:this.getBaseType(),attributes:e}},getBaseType:function(){var e=this.getTypes();return e[e.length-1]},getTypes:function(){return this.types},getType:function(e){for(var t=this.getTypes(),n=0;n<t.length;n++){var r=t[n];if(r.id===e)return r}},addType:function(e,t){var n=this.getType(e),r=this.getBaseType(),s=n?n.model:r.model,a=n?n.view:r.view,l=t.model,c=t.view,u=t.isType;l=l instanceof o.Model||(0,i.isFunction)(l)?l:s.extend(l||{}),c=c instanceof o.View||(0,i.isFunction)(c)?c:a.extend(c||{}),!this.extendViewApi||t.model||t.view||(c=c.extend(t)),n?(n.model=l,n.view=c,n.isType=u||n.isType):(t.id=e,t.model=l,t.view=c,t.isType=u||function(t){if(t&&t.type==e)return!0},this.getTypes().unshift(t))}}},8659:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(5671),i=n(3144),o=n(9340),s=n(2963),a=n(1120),l=n(2316),c=n.n(l);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.Z)(e);if(t){var i=(0,a.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var h=c().$,d=function(e){(0,o.Z)(n,e);var t=u(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,n),e=t.call(this,i);var o=i.ppfx||"";return e.opts=i,e.ppfx=o,e.em=i.target||{},!i.onChange&&e.listenTo(e.model,"change:value",e.handleModelChange),e}return(0,i.Z)(n,[{key:"template",value:function(){return'<span class="'.concat(this.holderClass(),'"></span>')}},{key:"inputClass",value:function(){return"".concat(this.ppfx,"field")}},{key:"holderClass",value:function(){return"".concat(this.ppfx,"input-holder")}},{key:"elementUpdated",value:function(){this.model.trigger("el:change")}},{key:"setValue",value:function(e){var t=this.model,n=e||t.get("defaults"),r=this.getInputEl();r&&(r.value=n)}},{key:"handleModelChange",value:function(e,t,n){this.setValue(t,n)}},{key:"handleChange",value:function(e){e.stopPropagation();var t=this.getInputEl().value;this.__onInputChange(t),this.elementUpdated()}},{key:"__onInputChange",value:function(e){this.model.set({value:e},{fromInput:1})}},{key:"getInputEl",value:function(){if(!this.inputEl){var e=this.model,t=this.opts.type||"text",n=e.get("placeholder")||e.get("defaults")||e.get("default")||"";this.inputEl=h('<input type="'.concat(t,'" placeholder="').concat(n,'">'))}return this.inputEl.get(0)}},{key:"render",value:function(){this.inputEl=null;var e=this.$el;return e.addClass(this.inputClass()),e.html(this.template()),e.find(".".concat(this.holderClass())).append(this.getInputEl()),this}}]),n}(c().View);d.prototype.events={change:"handleChange"}},1511:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(4942),i=n(5671),o=n(3144),s=n(9340),a=n(2963),l=n(1120),c=n(2316),u=n.n(c),h=n(9050),d=n(1002),f=n(1163),p=n(8659);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var y=u().$;y&&function(e,t){if((0,f.hasWin)()){var n={beforeShow:T,move:T,change:T,show:T,hide:T,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},r=[],i=!!/msie/i.exec(window.navigator.userAgent),o=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div").style;return t.cssText="background-color:rgba(0,0,0,.5)",e(t.backgroundColor,"rgba")||e(t.backgroundColor,"hsla")}(),s=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),a=function(){var e="";if(i)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),l="spectrum.id";e.fn.spectrum=function(t,n){if("string"==typeof t){var i=this,o=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=r[e(this).data(l)];if(n){var s=n[t];if(!s)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?i=n.get():"container"==t?i=n.container:"option"==t?i=n.option.apply(n,o):"destroy"==t?(n.destroy(),e(this).removeData(l)):s.apply(n,o)}})),i}return this.spectrum("destroy").each((function(){var n=E(this,e.extend({},t,e(this).data()));e(this).data(l,n.id)}))},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=L,e.fn.spectrum.defaults=n,e.fn.spectrum.inputTypeColorSupport=function t(){if(void 0===t._cachedResult){var n=e("<input type='color'/>")[0];t._cachedResult="color"===n.type&&""!==n.value}return t._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!R()&&t.spectrum({preferredFormat:"hex6"})};var c=/^[\s,#]+/,u=/\s+$/,h=0,p=Math,g=p.round,m=p.min,v=p.max,y=p.random,b=function e(t,n){if(n=n||{},(t=t||"")instanceof e)return t;if(!(this instanceof e))return new e(t,n);var r=function(e){var t,n,r,i={r:0,g:0,b:0},o=1,s=!1,a=!1;return"string"==typeof e&&(e=function(e){e=e.replace(c,"").replace(u,"").toLowerCase();var t,n=!1;if(C[e])e=C[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=_.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=_.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=_.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=_.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=_.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=_.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=_.hex8.exec(e))?{a:ne(t[1]),r:Q(t[2]),g:Q(t[3]),b:Q(t[4]),format:n?"name":"hex8"}:(t=_.hex6.exec(e))?{r:Q(t[1]),g:Q(t[2]),b:Q(t[3]),format:n?"name":"hex"}:!!(t=_.hex3.exec(e))&&{r:Q(t[1]+""+t[1]),g:Q(t[2]+""+t[2]),b:Q(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==(0,d.Z)(e)&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=e.r,n=e.g,r=e.b,i={r:255*X(t,255),g:255*X(n,255),b:255*X(r,255)},s=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=te(e.s),e.v=te(e.v),i=function(e,t,n){e=6*X(e,360),t=X(t,100),n=X(n,100);var r=p.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6;return{r:255*[n,s,o,o,a,n][l],g:255*[a,n,n,s,o,o][l],b:255*[o,o,a,n,n,s][l]}}(e.h,e.s,e.v),s=!0,a="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=te(e.s),e.l=te(e.l),i=function(e,t,n){var r,i,o;function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=X(e,360),t=X(t,100),n=X(n,100),0===t)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=s(l,a,e+1/3),i=s(l,a,e),o=s(l,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,e.s,e.l),s=!0,a="hsl"),e.hasOwnProperty("a")&&(o=e.a)),o=Y(o),{ok:s,format:e.format||a,r:m(255,v(i.r,0)),g:m(255,v(i.g,0)),b:m(255,v(i.b,0)),a:o}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=g(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=g(this._r)),this._g<1&&(this._g=g(this._g)),this._b<1&&(this._b=g(this._b)),this._ok=r.ok,this._tc_id=h++};b.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=Y(e),this._roundA=g(100*this._a)/100,this},toHsv:function(){var e=M(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=M(this._r,this._g,this._b),t=g(360*e.h),n=g(100*e.s),r=g(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=P(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=P(this._r,this._g,this._b),t=g(360*e.h),n=g(100*e.s),r=g(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return D(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return j(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:g(this._r),g:g(this._g),b:g(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+g(this._r)+", "+g(this._g)+", "+g(this._b)+")":"rgba("+g(this._r)+", "+g(this._g)+", "+g(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:g(100*X(this._r,255))+"%",g:g(100*X(this._g,255))+"%",b:g(100*X(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+g(100*X(this._r,255))+"%, "+g(100*X(this._g,255))+"%, "+g(100*X(this._b,255))+"%)":"rgba("+g(100*X(this._r,255))+"%, "+g(100*X(this._g,255))+"%, "+g(100*X(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(S[D(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+j(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";return e&&(n=b(e).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(B,arguments)},brighten:function(){return this._applyModification(H,arguments)},darken:function(){return this._applyModification(Z,arguments)},desaturate:function(){return this._applyModification(N,arguments)},saturate:function(){return this._applyModification(I,arguments)},greyscale:function(){return this._applyModification(F,arguments)},spin:function(){return this._applyModification(z,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(q,arguments)},complement:function(){return this._applyCombination(V,arguments)},monochromatic:function(){return this._applyCombination(K,arguments)},splitcomplement:function(){return this._applyCombination(G,arguments)},triad:function(){return this._applyCombination(W,arguments)},tetrad:function(){return this._applyCombination(U,arguments)}},b.fromRatio=function(e,t){if("object"==(0,d.Z)(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:te(e[r]));e=n}return b(e,t)},b.equals=function(e,t){return!(!e||!t)&&b(e).toRgbString()==b(t).toRgbString()},b.random=function(){return b.fromRatio({r:y(),g:y(),b:y()})},b.mix=function(e,t,n){n=0===n?0:n||50;var r,i=b(e).toRgb(),o=b(t).toRgb(),s=n/100,a=2*s-1,l=o.a-i.a,c=1-(r=((r=a*l==-1?a:(a+l)/(1+a*l))+1)/2),u={r:o.r*r+i.r*c,g:o.g*r+i.g*c,b:o.b*r+i.b*c,a:o.a*s+i.a*(1-s)};return b(u)},b.readability=function(e,t){var n=b(e),r=b(t),i=n.toRgb(),o=r.toRgb(),s=n.getBrightness(),a=r.getBrightness(),l=Math.max(i.r,o.r)-Math.min(i.r,o.r)+Math.max(i.g,o.g)-Math.min(i.g,o.g)+Math.max(i.b,o.b)-Math.min(i.b,o.b);return{brightness:Math.abs(s-a),color:l}},b.isReadable=function(e,t){var n=b.readability(e,t);return n.brightness>125&&n.color>500},b.mostReadable=function(e,t){for(var n=null,r=0,i=!1,o=0;o<t.length;o++){var s=b.readability(e,t[o]),a=s.brightness>125&&s.color>500,l=s.brightness/125*3+s.color/500;(a&&!i||a&&i&&l>r||!a&&!i&&l>r)&&(i=a,r=l,n=b(t[o]))}return n};var w,x,k,C=b.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S=b.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(C),_=(x="[\\s|\\(]+("+(w="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+w+")[,|\\s]+("+w+")\\s*\\)?",k="[\\s|\\(]+("+w+")[,|\\s]+("+w+")[,|\\s]+("+w+")[,|\\s]+("+w+")\\s*\\)?",{rgb:new RegExp("rgb"+x),rgba:new RegExp("rgba"+k),hsl:new RegExp("hsl"+x),hsla:new RegExp("hsla"+k),hsv:new RegExp("hsv"+x),hsva:new RegExp("hsva"+k),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=b,e((function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()}))}function O(t,n,r,i){for(var s=[],a=0;a<t.length;a++){var l=t[a];if(l){var c=b(l),u=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=b.equals(n,l)?" sp-thumb-active":"";var h=c.toString(i.preferredFormat||"rgb"),d=o?"background-color:"+c.toRgbString():"filter:"+c.toFilter();s.push('<span title="'+h+'" data-color="'+c.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+d+';"></span></span>')}else s.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",i.noColorSelectedText)).html())}return"<div class='sp-cf "+r+"'>"+s.join("")+"</div>"}function E(l,c){var u,h,d,f,p=function(t,r){var i=e.extend({},n,t);return i.callbacks={move:$(i.move,r),change:$(i.change,r),show:$(i.show,r),hide:$(i.hide,r),beforeShow:$(i.beforeShow,r)},i}(c,l),g=p.flat,m=p.showSelectionPalette,v=p.localStorageKey,y=p.theme,w=p.callbacks,x=(u=We,h=10,function(){var e=this,t=arguments,n=function(){f=null,u.apply(e,t)};d&&clearTimeout(f),!d&&f||(f=setTimeout(n,h))}),k=!1,C=!1,S=!0,_=0,E=0,T=0,P=0,M=0,D=0,j=0,N=0,I=0,F=0,B=1,H=[],Z=[],z={},V=p.selectionPalette.slice(0),W=p.maxSelectionSize,U="sp-dragging",G=null,q=l.ownerDocument,K=(q.body,e(l)),Y=!1,X=e(a,q).addClass(y),J=X.find(".sp-picker-container"),Q=X.find(".sp-color"),ee=X.find(".sp-dragger"),te=X.find(".sp-hue"),ne=X.find(".sp-slider"),re=X.find(".sp-alpha-inner"),ie=X.find(".sp-alpha"),oe=X.find(".sp-alpha-handle"),se=X.find(".sp-input"),ae=X.find(".sp-palette"),le=X.find(".sp-initial"),ce=X.find(".sp-cancel"),ue=X.find(".sp-clear"),he=X.find(".sp-choose"),de=X.find(".sp-palette-toggle"),fe=K.is("input"),pe=fe&&"color"===K.attr("type")&&R(),ge=fe&&!g,me=ge?e(s).addClass(y).addClass(p.className).addClass(p.replacerClassName):e([]),ve=ge?me:K,ye=me.find(".sp-preview-inner"),be=p.color||fe&&K.val(),we=!1,xe=p.preferredFormat,ke=!p.showButtons||p.clickoutFiresChange,Ce=!be,Se=p.allowEmpty&&!pe;function _e(){if(p.showPaletteOnly&&(p.showPalette=!0),de.text(p.showPaletteOnly?p.togglePaletteMoreText:p.togglePaletteLessText),p.palette){H=p.palette.slice(0),Z=e.isArray(H[0])?H:[H],z={};for(var t=0;t<Z.length;t++)for(var n=0;n<Z[t].length;n++){var r=b(Z[t][n]).toRgbString();z[r]=!0}}X.toggleClass("sp-flat",g),X.toggleClass("sp-input-disabled",!p.showInput),X.toggleClass("sp-alpha-enabled",p.showAlpha),X.toggleClass("sp-clear-enabled",Se),X.toggleClass("sp-buttons-disabled",!p.showButtons),X.toggleClass("sp-palette-buttons-disabled",!p.togglePaletteOnly),X.toggleClass("sp-palette-disabled",!p.showPalette),X.toggleClass("sp-palette-only",p.showPaletteOnly),X.toggleClass("sp-initial-disabled",!p.showInitial),X.addClass(p.className).addClass(p.containerClassName),We()}function Oe(){if(v&&window.localStorage){try{var t=window.localStorage[v].split(",#");t.length>1&&(delete window.localStorage[v],e.each(t,(function(e,t){Ee(t)})))}catch(e){}try{V=window.localStorage[v].split(";")}catch(e){}}}function Ee(t){if(m){var n=b(t).toRgbString();if(!z[n]&&-1===e.inArray(n,V))for(V.push(n);V.length>W;)V.shift();if(v&&window.localStorage)try{window.localStorage[v]=V.join(";")}catch(e){}}}function Te(){var t=Be(),n=e.map(Z,(function(e,n){return O(e,t,"sp-palette-row sp-palette-row-"+n,p)}));Oe(),V&&n.push(O(function(){var e=[];if(p.showPalette)for(var t=0;t<V.length;t++){var n=b(V[t]).toRgbString();z[n]||e.push(V[t])}return e.reverse().slice(0,p.maxSelectionSize)}(),t,"sp-palette-row sp-palette-row-selection",p)),ae.html(n.join(""))}function Ae(){if(p.showInitial){var e=we,t=Be();le.html(O([e,t],t,"sp-palette-row-initial",p))}}function $e(){(E<=0||_<=0||P<=0)&&We(),C=!0,X.addClass(U),G=null,K.trigger("dragstart.spectrum",[Be()])}function Le(){C=!1,X.removeClass(U),K.trigger("dragstop.spectrum",[Be()])}function Re(){var e=se.val();if(null!==e&&""!==e||!Se){var t=b(e);t.isValid()?(Fe(t),Ve(!0)):se.addClass("sp-validation-error")}else Fe(null),Ve(!0)}function Pe(){k?Ne():Me()}function Me(){var t=e.Event("beforeShow.spectrum");if(k)We();else if(K.trigger("beforeShow.spectrum",[Be()]),!1!==w.beforeShow(Be())&&!t.isDefaultPrevented()){!function(){for(var e=0;e<r.length;e++)r[e]&&r[e].hide()}(),k=!0;var n=e(q);n.bind("keydown.spectrum",De),n.bind("click.spectrum",je),e(window).bind("resize.spectrum",x),me.addClass("sp-active"),X.removeClass("sp-hidden"),We(),Ze(),we=Be(),Ae(),w.show(we),K.trigger("show.spectrum",[we])}}function De(e){27===e.keyCode&&Ne()}function je(e){2!=e.button&&(C||(ke?Ve(!0):Ie(),Ne()))}function Ne(){k&&!g&&(k=!1,e(q).unbind("keydown.spectrum",De),e(q).unbind("click.spectrum",je),e(window).unbind("resize.spectrum",x),me.removeClass("sp-active"),X.addClass("sp-hidden"),w.hide(Be()),K.trigger("hide.spectrum",[Be()]))}function Ie(){Fe(we,!0)}function Fe(e,t){var n,r;b.equals(e,Be())?Ze():(!e&&Se?Ce=!0:(Ce=!1,S=!e,r=(n=b(e)).toHsv(),N=r.h%360/360,I=r.s,F=r.v,B=r.a),Ze(),n&&n.isValid()&&!t&&(xe=p.preferredFormat||n.getFormat()))}function Be(e){return e=e||{},Se&&Ce?null:b.fromRatio({h:N,s:I,v:F,a:Math.round(100*B)/100},{format:e.format||xe})}function He(){Ze(),w.move(Be()),K.trigger("move.spectrum",[Be()])}function Ze(){se.removeClass("sp-validation-error"),ze();var e=b.fromRatio({h:N,s:1,v:1});Q.css("background-color",e.toHexString());var t=xe;B<1&&(0!==B||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var n=Be({format:t}),r="";if(ye.removeClass("sp-clear-display"),ye.css("background-color","transparent"),!n&&Se)ye.addClass("sp-clear-display");else{var s=n.toHexString(),a=n.toRgbString();if(o||1===n.alpha?ye.css("background-color",a):(ye.css("background-color","transparent"),ye.css("filter",n.toFilter())),p.showAlpha){var l=n.toRgb();l.a=0;var c=b(l).toRgbString(),u="linear-gradient(left, "+c+", "+s+")";i?re.css("filter",b(c).toFilter({gradientType:1},s)):(re.css("background","-webkit-"+u),re.css("background","-moz-"+u),re.css("background","-ms-"+u),re.css("background","linear-gradient(to right, "+c+", "+s+")"))}r=n.toString(t)}p.showInput&&se.val(r),p.showPalette&&Te(),Ae()}function ze(){var e=I,t=F;if(Se&&Ce)oe.hide(),ne.hide(),ee.hide();else{oe.show(),ne.show(),ee.show();var n=e*_,r=E-t*E;n=Math.max(-T,Math.min(_-T,n-T)),r=Math.max(-T,Math.min(E-T,r-T)),ee.css({top:r+"px",left:n+"px"});var i=B*M;oe.css({left:i-D/2+"px"});var o=N*P;ne.css({top:o-j+"px"})}}function Ve(e){var t=Be(),n="",r=!!S||!b.equals(t,we);t&&(n=t.toString(xe),!k&&Ee(t)),fe&&K.val(n),e&&r&&(w.change(t),K.trigger("change",[t]))}function We(){k&&(_=Q.width(),E=Q.height(),T=ee.height(),te.width(),P=te.height(),j=ne.height(),M=ie.width(),D=oe.width(),g||(X.css("position","absolute"),p.offset?X.offset(p.offset):X.offset(function(t,n){var r=0,i=t.outerWidth(),o=t.outerHeight(),s=n.outerHeight(),a=t[0].ownerDocument,l=a.documentElement,c=l.clientWidth,u=l.clientHeight,h=c+e(a).scrollLeft(),d=u+e(a).scrollTop(),f=n.offset();return f.top+=s,f.left-=Math.min(f.left,f.left+i>h&&h>i?Math.abs(f.left+i-h):0),f.top-=Math.min(f.top,f.top+o>d&&d>o?Math.abs(o+s-r):r),f}(X,ve))),ze(),p.showPalette&&Te(),K.trigger("reflow.spectrum"))}function Ue(){Ne(),Y=!0,K.attr("disabled",!0),ve.addClass("sp-disabled")}!function(){if(i&&X.find("*:not(input)").attr("unselectable","on"),_e(),ge&&K.after(me).hide(),Se||ue.hide(),g)K.after(X).hide();else{var t="parent"===p.appendTo?K.parent():e(p.appendTo);1!==t.length&&(t=e("body")),t.append(X)}function n(t){return t.data&&t.data.ignore?(Fe(e(t.target).closest(".sp-thumb-el").data("color")),He()):(Fe(e(t.target).closest(".sp-thumb-el").data("color")),He(),p.hideAfterPaletteSelect&&(Ve(!0),Ne())),!1}Oe(),ve.bind("click.spectrum touchstart.spectrum",(function(t){Y||Pe(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()})),(K.is(":disabled")||!0===p.disabled)&&Ue(),X.click(A),se.change(Re),se.bind("paste",(function(){setTimeout(Re,1)})),se.keydown((function(e){13==e.keyCode&&Re()})),ce.text(p.cancelText),ce.bind("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),Ie(),Ne()})),ue.attr("title",p.clearText),ue.bind("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),Ce=!0,He(),g&&Ve(!0)})),he.text(p.chooseText),he.bind("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),i&&se.is(":focus")&&se.trigger("change"),se.hasClass("sp-validation-error")||(Ve(!0),Ne())})),de.text(p.showPaletteOnly?p.togglePaletteMoreText:p.togglePaletteLessText),de.bind("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),p.showPaletteOnly=!p.showPaletteOnly,p.showPaletteOnly||g||X.css("left","-="+(J.outerWidth(!0)+5)),_e()})),L(ie,(function(e,t,n){B=e/M,Ce=!1,n.shiftKey&&(B=Math.round(10*B)/10),He()}),$e,Le),L(te,(function(e,t){N=parseFloat(t/P),Ce=!1,p.showAlpha||(B=1),He()}),$e,Le),L(Q,(function(e,t,n){if(n.shiftKey){if(!G){var r=I*_,i=E-F*E,o=Math.abs(e-r)>Math.abs(t-i);G=o?"x":"y"}}else G=null;var s=!G||"y"===G;(!G||"x"===G)&&(I=parseFloat(e/_)),s&&(F=parseFloat((E-t)/E)),Ce=!1,p.showAlpha||(B=1),He()}),$e,Le),be?(Fe(be),Ze(),xe=p.preferredFormat||b(be).getFormat(),Ee(be)):Ze(),g&&Me();var r=i?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ae.delegate(".sp-thumb-el",r,n),le.delegate(".sp-thumb-el:nth-child(1)",r,{ignore:!0},n)}();var Ge={show:Me,hide:Ne,toggle:Pe,reflow:We,option:function(n,r){return n===t?e.extend({},p):r===t?p[n]:(p[n]=r,"preferredFormat"===n&&(xe=p.preferredFormat),void _e())},enable:function(){Y=!1,K.attr("disabled",!1),ve.removeClass("sp-disabled")},disable:Ue,offset:function(e){p.offset=e,We()},set:function(e){Fe(e),Ve()},get:Be,destroy:function(){K.show(),ve.unbind("click.spectrum touchstart.spectrum"),X.remove(),me.remove(),r[Ge.id]=null},container:X};return Ge.id=r.push(Ge)-1,Ge}function T(){}function A(e){e.stopPropagation()}function $(e,t){var n=Array.prototype.slice,r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}function L(t,n,r,o){n=n||function(){},r=r||function(){},o=o||function(){};var s=document,a=!1,l={},c=0,u=0,h="ontouchstart"in window,d={};function f(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function p(e){if(a){if(i&&s.documentMode<9&&!e.button)return g();var r=e&&e.touches&&e.touches[0],o=r&&r.pageX||e.pageX,d=r&&r.pageY||e.pageY,p=Math.max(0,Math.min(o-l.left,u)),m=Math.max(0,Math.min(d-l.top,c));h&&f(e),n.apply(t,[p,m,e])}}function g(){a&&(e(s).unbind(d),e(s.body).removeClass("sp-dragging"),setTimeout((function(){o.apply(t,arguments)}),0)),a=!1}d.selectstart=f,d.dragstart=f,d["touchmove mousemove"]=p,d["touchend mouseup"]=g,e(t).bind("touchstart mousedown",(function(n){(n.which?3==n.which:2==n.button)||a||!1!==r.apply(t,arguments)&&(a=!0,c=e(t).height(),u=e(t).width(),l=e(t).offset(),e(s).bind(d),e(s.body).addClass("sp-dragging"),p(n),f(n))}))}function R(){return e.fn.spectrum.inputTypeColorSupport()}function P(e,t,n){e=X(e,255),t=X(t,255),n=X(n,255);var r,i,o=v(e,t,n),s=m(e,t,n),a=(o+s)/2;if(o==s)r=i=0;else{var l=o-s;switch(i=a>.5?l/(2-o-s):l/(o+s),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:a}}function M(e,t,n){e=X(e,255),t=X(t,255),n=X(n,255);var r,i,o=v(e,t,n),s=m(e,t,n),a=o,l=o-s;if(i=0===o?0:l/o,o==s)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:a}}function D(e,t,n,r){var i=[ee(g(e).toString(16)),ee(g(t).toString(16)),ee(g(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function j(e,t,n,r){var i;return[ee((i=r,Math.round(255*parseFloat(i)).toString(16))),ee(g(e).toString(16)),ee(g(t).toString(16)),ee(g(n).toString(16))].join("")}function N(e,t){t=0===t?0:t||10;var n=b(e).toHsl();return n.s-=t/100,n.s=J(n.s),b(n)}function I(e,t){t=0===t?0:t||10;var n=b(e).toHsl();return n.s+=t/100,n.s=J(n.s),b(n)}function F(e){return b(e).desaturate(100)}function B(e,t){t=0===t?0:t||10;var n=b(e).toHsl();return n.l+=t/100,n.l=J(n.l),b(n)}function H(e,t){t=0===t?0:t||10;var n=b(e).toRgb();return n.r=v(0,m(255,n.r-g(-t/100*255))),n.g=v(0,m(255,n.g-g(-t/100*255))),n.b=v(0,m(255,n.b-g(-t/100*255))),b(n)}function Z(e,t){t=0===t?0:t||10;var n=b(e).toHsl();return n.l-=t/100,n.l=J(n.l),b(n)}function z(e,t){var n=b(e).toHsl(),r=(g(n.h)+t)%360;return n.h=r<0?360+r:r,b(n)}function V(e){var t=b(e).toHsl();return t.h=(t.h+180)%360,b(t)}function W(e){var t=b(e).toHsl(),n=t.h;return[b(e),b({h:(n+120)%360,s:t.s,l:t.l}),b({h:(n+240)%360,s:t.s,l:t.l})]}function U(e){var t=b(e).toHsl(),n=t.h;return[b(e),b({h:(n+90)%360,s:t.s,l:t.l}),b({h:(n+180)%360,s:t.s,l:t.l}),b({h:(n+270)%360,s:t.s,l:t.l})]}function G(e){var t=b(e).toHsl(),n=t.h;return[b(e),b({h:(n+72)%360,s:t.s,l:t.l}),b({h:(n+216)%360,s:t.s,l:t.l})]}function q(e,t,n){t=t||6,n=n||30;var r=b(e).toHsl(),i=360/n,o=[b(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(b(r));return o}function K(e,t){t=t||6;for(var n=b(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(b({h:r,s:i,v:o})),o=(o+a)%1;return s}function Y(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function X(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=m(t,v(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),p.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function J(e){return m(1,v(0,e))}function Q(e){return parseInt(e,16)}function ee(e){return 1==e.length?"0"+e:""+e}function te(e){return e<=1&&(e=100*e+"%"),e}function ne(e){return Q(e)/255}}(y);var b=function(e){var t="name"===e.getFormat()&&e.toName(),n=1==e.getAlpha()?e.toHexString():e.toRgbString();return t||n.replace(/ /g,"")},w=function(e){(0,s.Z)(n,e);var t=v(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"template",value:function(){var e=this.ppfx;return'\n      <div class="'.concat(this.holderClass(),'"></div>\n      <div class="').concat(e,'field-colorp">\n        <div class="').concat(e,'field-colorp-c" data-colorp-c>\n          <div class="').concat(e,'checker-bg"></div>\n        </div>\n      </div>\n    ')}},{key:"inputClass",value:function(){var e=this.ppfx;return"".concat(e,"field ").concat(e,"field-color")}},{key:"holderClass",value:function(){return"".concat(this.ppfx,"input-holder")}},{key:"remove",value:function(){p.Z.prototype.remove.apply(this,arguments),this.colorEl.spectrum("destroy")}},{key:"handleChange",value:function(e){e.stopPropagation();var t=e.target.value;(0,h.isUndefined)(t)||this.__onInputChange(t)}},{key:"__onInputChange",value:function(e){var t=this.model,n=this.opts.onChange,r=e,i=this.getColorEl();if(i){i.spectrum("set",r);var o=i.spectrum("get"),s=r&&b(o);s&&(r=s)}n?n(r):t.set({value:r},{fromInput:1})}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.model,r=(0,h.isUndefined)(t.def)?n.get("defaults"):t.def,i=(0,h.isUndefined)(e)?(0,h.isUndefined)(r)?"":r:e,o=this.getInputEl(),s=this.getColorEl(),a="none"!=i?i:"";o.value=i,s.get(0).style.backgroundColor=a,(t.fromTarget||t.fromInput&&!t.avoidStore)&&(s.spectrum("set",a),this.noneColor="none"==i)}},{key:"getColorEl",value:function(){if(!this.colorEl){var e,t=this.em,n=this.model,r=this.opts,i=this,o=this.ppfx,s=r.onChange,a=y('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),l=a.get(0).style,c=t&&t.config?t.config.el:"",u=t&&t.getConfig&&t.getConfig().colorPicker||{},h=!1,d="";this.$el.find("[data-colorp-c]").append(a);var f=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s?s(e,!t):(t&&n.setValueFromInput(0,!1),n.setValueFromInput(e,t))};a.spectrum(m(m(m({color:n.getValue()||!1,containerClassName:"".concat(o,"one-bg ").concat(o,"two-color"),appendTo:c||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2a2f",palette:[]},u),n.get("colorPicker")||{}),{},{move:function(e){var t=b(e);d=t,l.backgroundColor=t,f(t,!1)},change:function(e){h=!0;var t=b(e);l.backgroundColor=t,f(t),i.noneColor=0},show:function(t){h=!1,d="",e=s?n.getValue({noDefault:!0}):b(t)},hide:function(){h||!e&&!s||(i.noneColor&&(e=""),l.backgroundColor=e,a.spectrum("set",e),f(e,!1))}})),t&&t.on&&this.listenTo(t,"component:selected",(function(){d&&f(d),h=!0,d="",a.spectrum("hide")})),this.colorEl=a}return this.colorEl}},{key:"render",value:function(){return p.Z.prototype.render.call(this),this.getColorEl(),this}}]),n}(p.Z)},7610:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(5671),i=n(3144),o=n(7326),s=n(9340),a=n(2963),l=n(1120),c=n(2316),u=n.n(c),h=n(9050),d=n(1163),f=n(8659);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}u().$;var g=function(e){(0,s.Z)(n,e);var t=p(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.Z)(this,n),e=t.call(this,i),(0,h.bindAll)((0,o.Z)(e),"moveIncrement","upIncrement"),e.doc=document,e.listenTo(e.model,"change:unit",e.handleModelChange),e}return(0,i.Z)(n,[{key:"template",value:function(){var e=this.ppfx;return'\n      <span class="'.concat(e,'input-holder"></span>\n      <span class="').concat(e,'field-units"></span>\n      <div class="').concat(e,'field-arrows" data-arrows>\n        <div class="').concat(e,'field-arrow-u" data-arrow-up></div>\n        <div class="').concat(e,'field-arrow-d" data-arrow-down></div>\n      </div>\n    ')}},{key:"inputClass",value:function(){var e=this.ppfx;return this.opts.contClass||"".concat(e,"field ").concat(e,"field-integer")}},{key:"setValue",value:function(e,t){var n=t||{},r=this.validateInputValue(e,{deepCheck:1}),i={value:r.value};(r.unit||r.force)&&(i.unit=r.unit),this.model.set(i,n),n.silent&&this.handleModelChange()}},{key:"handleChange",value:function(e){e.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()}},{key:"handleUnitChange",value:function(e){e.stopPropagation();var t=this.getUnitEl().value;this.model.set("unit",t),this.elementUpdated()}},{key:"handleKeyDown",value:function(e){"ArrowUp"===e.key&&(e.preventDefault(),this.upArrowClick()),"ArrowDown"===e.key&&(e.preventDefault(),this.downArrowClick())}},{key:"elementUpdated",value:function(){this.model.trigger("el:change")}},{key:"handleModelChange",value:function(){var e=this.model;this.getInputEl().value=e.get("value");var t=this.getUnitEl();t&&(t.value=e.get("unit")||"")}},{key:"getUnitEl",value:function(){if(!this.unitEl){var e=this.model,t=e.get("units")||[];if(t.length){var n=['<option value="" disabled hidden>-</option>'];t.forEach((function(t){var r=t==e.get("unit")?"selected":"";n.push("<option ".concat(r,">").concat(t,"</option>"))}));var r=document.createElement("div");r.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(n.join(""),"</select>"),this.unitEl=r.firstChild}}return this.unitEl}},{key:"upArrowClick",value:function(){var e=this.model,t=e.get("step"),n=parseFloat(e.get("value"));this.setValue(this.normalizeValue(n+t)),this.elementUpdated()}},{key:"downArrowClick",value:function(){var e=this.model,t=e.get("step"),n=parseFloat(e.get("value"));this.setValue(this.normalizeValue(n-t)),this.elementUpdated()}},{key:"downIncrement",value:function(e){e.preventDefault(),this.moved=0;var t=this.model.get("value")||0;t=this.normalizeValue(t),this.current={y:e.pageY,val:t},(0,d.on)(this.doc,"mousemove",this.moveIncrement),(0,d.on)(this.doc,"mouseup",this.upIncrement)}},{key:"moveIncrement",value:function(e){this.moved=1;var t=this.model,n=t.get("step"),r=this.current,i=this.normalizeValue(r.val+(r.y-e.pageY)*n),o=this.validateInputValue(i),s=o.value,a=o.unit;return this.prValue=s,t.set({value:s,unit:a},{avoidStore:1}),!1}},{key:"upIncrement",value:function(){var e=this.model,t=e.get("step");if((0,d.off)(this.doc,"mouseup",this.upIncrement),(0,d.off)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var n=this.prValue-t;e.set("value",n,{avoidStore:1}).set("value",n+t),this.elementUpdated()}}},{key:"normalizeValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.model.get("step"),r=0;if(isNaN(e))return t;if(e=parseFloat(e),Math.floor(e)!==e){var i=n.toString().split(".")[1];r=i?i.length:0}return r?parseFloat(e.toFixed(r)):e}},{key:"validateInputValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0,r=t||{},i=this.model,o="",s=(0,h.isUndefined)(e)?o:e,a=t.units||i.get("units")||[],l=i.get("unit")||a.length&&a[0]||"",c=(0,h.isUndefined)(t.max)?i.get("max"):t.max,u=(0,h.isUndefined)(t.min)?i.get("min"):t.min,d=!!i.get("limitlessMax"),f=!!i.get("limitlessMin");if(r.deepCheck){var p=i.get("fixedValues")||[];if(""===s&&(l=""),s){var g=new RegExp("^"+p.join("|"),"g");if(p.length&&g.test(s))s=s.match(g)[0],l="",n=1;else{var m=s+"";s+="",s=parseFloat(s.replace(",",".")),s=isNaN(s)?o:s;var v=m.replace(s,"");(0,h.indexOf)(a,v)>=0&&(l=v)}}}return d||(0,h.isUndefined)(c)||""===c||(s=s>c?c:s),f||(0,h.isUndefined)(u)||""===u||(s=s<u?u:s),{force:n,value:s,unit:l}}},{key:"render",value:function(){f.Z.prototype.render.call(this),this.unitEl=null;var e=this.getUnitEl();return e&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(e),this}}]),n}(f.Z);g.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"}},6602:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(5671),i=n(3144),o=n(7326),s=n(9340),a=n(2963),l=n(1120),c=n(4942),u=n(9050),h=n(2316),d=n.n(h);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var p=function(e){(0,s.Z)(n,e);var t=f(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.Z)(this,n),e=t.call(this,i),(0,c.Z)((0,o.Z)(e),"itemsView",""),(0,c.Z)((0,o.Z)(e),"itemType","type"),(0,c.Z)((0,o.Z)(e),"reuseView",!1),e.config=s||i.config||{},a&&e.listenTo(e.collection,"add",e.addTo),e.items=[],e}return(0,i.Z)(n,[{key:"addTo",value:function(e){this.add(e)}},{key:"itemViewNotFound",value:function(e){var t=this.config,n=this.ns,r=t.em,i="".concat(n?"[".concat(n,"]: "):"","'").concat(e,"' type not found");r&&r.logWarning(i)}},{key:"add",value:function(e,t){var n,r=this.config,i=this.reuseView,o=this.items,s=this.itemsView,a=void 0===s?{}:s,l=t||null,c=this.itemView,h=e.get(this.itemType);a[h]?c=a[h]:!h||a[h]||(0,u.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],h)||this.itemViewNotFound(h),n=e.view&&i?e.view:new c({model:e,config:r},r),o&&o.push(n);var d=n.render().el;l?l.appendChild(d):this.$el.append(d)}},{key:"render",value:function(){var e=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each((function(t){this.add(t,e)}),this),this.$el.append(e),this.onRender(),this}},{key:"onRender",value:function(){}},{key:"onRemoveBefore",value:function(){}},{key:"onRemove",value:function(){}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.items;this.onRemoveBefore(t,e),this.clearItems(),d().View.prototype.remove.apply(this,arguments),this.onRemove(t,e)}},{key:"clearItems",value:function(){this.items}}]),n}(d().View);p.prototype.itemView=""},4836:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(5671),i=n(3144),o=n(4942),s=n(9050),a=n(1163),l={placeholder:"eg. Text here"},c={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:l,alt:l,title:l,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:null};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){function e(){(0,r.Z)(this,e),(0,o.Z)(this,"name","I18n")}return(0,i.Z)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=h(h(h({},c),e),{},{messages:h(h({},c.messages),e.messages||{})});var t=this.config.messagesAdd;return t&&this.addMessages(t),this.config.detectLocale&&(this.config.locale=this._localLang()),this.em=e.em,this}},{key:"getConfig",value:function(){return this.config}},{key:"setLocale",value:function(e){var t=this.em,n=this.config,r={value:e,valuePrev:n.locale};return t&&t.trigger("i18n:locale",r),n.locale=e,this}},{key:"getLocale",value:function(){return this.config.locale}},{key:"getMessages",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.config.messages;return e&&!n[e]&&this._debug("'".concat(e,"' i18n lang not found"),t),e?n[e]:n}},{key:"setMessages",value:function(e){var t=this.em;return this.config.messages=e,t&&t.trigger("i18n:update",e),this}},{key:"addMessages",value:function(e){var t=this.em,n=this.config.messages;return t&&t.trigger("i18n:add",e),this.setMessages((0,a.deepMerge)(n,e)),this}},{key:"t",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.config,r=t.params||{},i=t.l||this.getLocale(),o=t.lFlb||n.localeFallback,a=this._getMsg(e,i,t);return a||(a=this._getMsg(e,o,t)),!a&&this._debug("'".concat(e,"' i18n key not found in '").concat(i,"' lang"),t),a&&(0,s.isString)(a)?this._addParams(a,r):a}},{key:"_localLang",value:function(){var e=(0,a.hasWin)()&&window.navigator||{},t=e.language||e.userLanguage;return t?t.split("-")[0]:"en"}},{key:"_addParams",value:function(e,t){var n=new RegExp("{([\\w\\d-]*)}","g");return e.replace(n,(function(e,n){return t[n]||""})).trim()}},{key:"_getMsg",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getMessages(t,n);if(r){var i=r[e];return!i&&e.indexOf(".")>0&&(i=e.split(".").reduce((function(e,t){if(!(0,s.isUndefined)(e))return e[t]}),r)),i}}},{key:"_debug",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.em,r=this.config;(t.debug||r.debug)&&n&&n.logWarning(e)}},{key:"destroy",value:function(){this.config={},this.em={}}}]),e}()},9788:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r,i=n(1002),o=n(4942),s=n(9050),a=n(1163),l={},c={16:!1,18:!1,17:!1,91:!1},u="all",h={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},d={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},f=function(e){return d[e]||e.toUpperCase().charCodeAt(0)},p=[];for(r=1;r<20;r++)d["f"+r]=111+r;function g(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function m(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var v={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function y(e){for(r in c)c[r]=e[v[r]]}function b(e){var t,n=e.keyCode,r=g(p,n);if(r>=0&&p.splice(r,1),93!=n&&224!=n||(n=91),n in c)for(t in c[n]=!1,h)h[t]==n&&(x[t]=!1)}function w(){for(r in c)c[r]=!1;for(r in h)x[r]=!1}function x(e,t,n){var r,i;r=C(e),void 0===n&&(n=t,t="all");for(var o=0;o<r.length;o++)i=[],(e=r[o].split("+")).length>1&&(i=S(e),e=[e[e.length-1]]),e=e[0],(e=f(e))in l||(l[e]=[]),l[e].push({shortcut:r[o],scope:t,method:n,key:r[o],mods:i})}for(r in h)x[r]=!1;function k(){return u||"all"}function C(e){var t;return""==(t=(e=e.replace(/\s/g,"")).split(","))[t.length-1]&&(t[t.length-2]+=","),t}function S(e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=h[t[n]];return t}function _(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,(function(){n(window.event)}))}x.setScope=function(e){u=e||"all"},x.getScope=k,x.deleteScope=function(e){var t,n,r;for(t in l)for(n=l[t],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++},x.filter=function(e){var t=(e.target||e.srcElement).tagName;return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)},x.isPressed=function(e){return"string"==typeof e&&(e=f(e)),-1!=g(p,e)},x.getPressedKeyCodes=function(){return p.slice(0)},x.unbind=function(e,t){var n,r,i,o,s,a=[];for(n=C(e),o=0;o<n.length;o++){if((r=n[o].split("+")).length>1&&(a=S(r)),e=r[r.length-1],e=f(e),void 0===t&&(t=k()),!l[e])return;for(i=0;i<l[e].length;i++)(s=l[e][i]).scope===t&&m(s.mods,a)&&(l[e][i]={})}},x.handlers=l,x.init=function(e){_(e.document,"keydown",(function(e){!function(e){var t,n,r,i,o,s;if(t=e.keyCode,-1==g(p,t)&&p.push(t),93!=t&&224!=t||(t=91),t in c)for(r in c[t]=!0,h)h[r]==t&&(x[r]=!0);else if(y(e),x.filter.call(this,e)&&t in l)for(s=k(),i=0;i<l[t].length;i++)if((n=l[t][i]).scope==s||"all"==n.scope){for(r in o=n.mods.length>0,c)(!c[r]&&g(n.mods,+r)>-1||c[r]&&-1==g(n.mods,+r))&&(o=!1);(0!=n.mods.length||c[16]||c[18]||c[17]||c[91])&&!o||!1===n.method(e,n)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}(e)})),_(e.document,"keyup",b),_(e,"focus",w)};var O=x;function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,a.hasWin)()&&O.init(window);var A=function(){var e={defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo"},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo"},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:1}}}};return{keymaster:O,name:"Keymaps",getConfig:function(){return this.config},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.config=T(T({},e),t),this.em=this.config.em,this.keymaps={},this},onLoad:function(){var e=this.config.defaults;for(var t in e){var n=e[t];this.add(t,n.keys,n.handler,n.opts||{})}},add:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=this.em,a=o.get("Commands"),l=o.getEditor(),c=o.get("Canvas"),u={id:e,keys:t,handler:n};return this.keymaps[e]&&this.remove(e),this.keymaps[e]=u,O(t,(function(t,u){var h={event:t,h:u};if(n=(0,s.isString)(n)?a.get(n):n,!o.isEditing()&&!l.Canvas.isInputFocused()||r.force){r.prevent&&c.getCanvasView().preventDefault(t),"object"==(0,i.Z)(n)?a.runCommand(n,h):n(l,0,h);var d=[e,u.shortcut,t];o.trigger.apply(o,["keymap:emit"].concat(d)),o.trigger.apply(o,["keymap:emit:".concat(e)].concat(d))}})),o.trigger("keymap:add",u),u},get:function(e){return this.keymaps[e]},getAll:function(){return this.keymaps},remove:function(e){var t=this.em,n=this.get(e);if(n)return delete this.keymaps[e],n.keys.split(", ").forEach((function(e){return O.unbind(e.trim())})),t&&t.trigger("keymap:remove",n),n},removeAll:function(){var e=this;return Object.keys(this.keymaps).forEach((function(t){return e.remove(t)})),O.handlers={},this},destroy:function(){this.removeAll(),this.keymaps={},this.em={}}}}},4424:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(4942),i={textTags:["br","b","i","u","a","ul","ol"],parserCss:null,parserHtml:null,optionsHtml:{htmlType:null,allowScripts:!1,allowUnsafeAttr:!1}},o=n(9050),s={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},a=(0,o.keys)(s),l=["5","6","11","15"],c=["font-face","page","counter-style","viewport"],u=function(){for(var e=[],t=[],n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),r=0,i=n.length;r<i;r++){var o=n[r].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(o)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(o)){var s=o.split(".").filter(Boolean);t.push(s)}else e.push(o)}return{result:t,add:e}},h=function(e){for(var t=e.style,n={},r=0,i=t.length;r<i;r++){var o=t[r],s=t.getPropertyValue(o),a=t.getPropertyPriority(o);n[o]="".concat(s).concat(a?" !".concat(a):"")}return n},d=function(e){return(e.conditionText||e.media&&e.media.mediaText||e.name||e.selectorText||"").trim()},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={},i=e.length,o=e[i-1],s=o?o.split(/:(.+)/):[],a=s[1],l=n.atRule,u=n.selectorsAdd,h=n.mediaText;return c.indexOf(l)>=0&&(r.singleAtRule=1),l&&(r.atRuleType=l),u&&(r.selectorsAdd=u),h&&(r.mediaText=h),a&&(e[i-1]=s[0],r.state=a,s.splice(s.length-1,1)),r.selectors=e,r.style=t,r},p=function e(t){for(var n=[],r=t.cssRules||[],i=0,o=r.length;i<o;i++){var c=r[i],p=c.type.toString(),g=0,m="",v="",y=c.selectorText||c.keyText,b=l.indexOf(p)>=0;if(b)g=1,m=s[p],v=d(c);else if(a.indexOf(p)>=0){var w=e(c);v=d(c);for(var x=0,k=w.length;x<k;x++){var C=w[x];v&&(C.mediaText=v),C.atRuleType=s[p]}n=n.concat(w)}if(y||b){for(var S=h(c),_=u(y),O=_.add,E=void 0,T=0,A=(y=_.result).length;T<A;T++){var $=f(y[T],S,{atRule:s[p]});n.push($),E=$}if(O.length){var L=O.join(", ");if(E)E.selectorsAdd=L;else{var R={selectors:[],selectorsAdd:L,style:S};g&&(R.singleAtRule=g),m&&(R.atRuleType=m),v&&(R.mediaText=v),n.push(R)}}}}return n},g=function(e){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t);var n=t.sheet;return document.head.removeChild(t),p(n)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{parse:function(t){var n=this,r=[],i=e.parserCss,o=e.em,s=o&&o.get&&o.get("Editor");return(i?i(t,s):g(t)).forEach((function(e){return r=r.concat(n.checkNode(e))})),o&&o.trigger("parse:css",{input:t,output:r}),r},checkNode:function(e){var t=e,n=t.selectors,r=t.style;if((0,o.isString)(n)){var i=[],s=u(n),a=s.result,l=s.add.join(", "),c={atRule:e.atRule,mediaText:e.params};a.length?a.forEach((function(e){i.push(f(e,r,c))})):i.push(f([],r,c)),l&&(i[i.length-1].selectorsAdd=l),e=i}return e}}},v=n(5311);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(){var e,t,n={};return{compTypes:"",parserCss:null,parserHtml:null,name:"Parser",init:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(n=b(b({},i),r)).Parser=this,e=new v.Z(n),t=new m(n),this.em=n.em,this.parserCss=t,this.parserHtml=e,this},getConfig:function(){return n},parseHtml:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.em,o=this.compTypes;return e.compTypes=i?i.get("DomComponents").getTypes():o,e.parse(n,t,r)},parseCss:function(e){return t.parse(e)},destroy:function(){var r=this;[n,e,t].forEach((function(e){return{}})),["em","parserCss","parserHtml"].forEach((function(e){return r[e]={}}))}}}},5311:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(4942),i=n(1002),o=n(9050),s="text/html",a=s,l=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new DOMParser,i=n.htmlType||a,l=i===s,c=l?e:"<div>".concat(e,"</div>"),u=r.parseFromString(c,i);if(l){var h=u.head,d=u.body,f=h.querySelectorAll("script");(0,o.each)(f,(function(e){return d.appendChild(e)}));var p=[];(0,o.each)(h.children,(function(e){return p.push(e)})),(0,o.each)(p,(function(e,t){return d.insertBefore(e,d.children[t])})),t=d}else t=u.firstChild;return t};function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e,n="data-gjs-",r="parse:html";return{compTypes:"",modelAttrStart:n,splitPropsFromAttr:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={},i={};return(0,o.each)(t,(function(t,s){if(0===s.indexOf(e.modelAttrStart)){var a=s.replace(n,""),l=t.length,c=t&&(0,o.isString)(t),u=c&&t.substr(0,1),h=c&&t.substr(l-1);t="false"!==(t="true"===t||t)&&t;try{t="{"==u&&"}"==h||"["==u&&"]"==h?JSON.parse(t):t}catch(e){}r[a]=t}else i[s]=t})),{props:r,attrs:i}},parseStyle:function(e){for(var t={},n=e.split(";"),r=0,i=n.length;r<i;r++){var o=n[r].trim();if(o){var s=o.split(":");t[s[0].trim()]=s.slice(1).join(":").trim()}}return t},parseClass:function(e){for(var t=[],n=e.split(" "),r=0,i=n.length;r<i;r++){var o=n[r].trim();o&&t.push(o)}return t},parseNode:function(r){for(var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=[],a=r.childNodes,l=0,c=a.length;l<c;l++){var h=a[l],d=h.attributes||[],f=d.length,p=s[s.length-1],g=h.childNodes.length,m=this.compTypes,v={};if(m){var y="",b=h.getAttribute&&h.getAttribute("".concat(n,"type"));if(b)v={type:b};else{for(var w=0;w<m.length;w++){var x=m[w];if(y=x.model.isComponent(h,o)){"object"!==(0,i.Z)(y)&&(y={type:x.id});break}}v=y}}if(!v.tagName){var k=h.tagName||"",C=h.namespaceURI||"";v.tagName=k&&"http://www.w3.org/1999/xhtml"===C?k.toLowerCase():k}f&&(v.attributes={});for(var S=0;S<f;S++){var _=d[S].nodeName,O=d[S].nodeValue;if("style"==_)v.style=this.parseStyle(O);else if("class"==_)v.classes=this.parseClass(O);else{if("contenteditable"==_)continue;if(0===_.indexOf(n)){var E=_.replace(n,""),T=O.length,A=O&&O.substr(0,1),$=O&&O.substr(T-1);O="false"!==(O="true"===O||O)&&O;try{O="{"==A&&"}"==$||"["==A&&"]"==$?JSON.parse(O):O}catch(e){}v[E]=O}else""===O&&!0===h[_]&&(O=!0),v.attributes[_]=O}}if(g&&!v.components){var L=h.childNodes[0];1===g&&3===L.nodeType?(!v.type&&(v.type="text"),v.components={type:"textnode",content:L.nodeValue}):v.components=this.parseNode(h,u(u({},o),{},{inSvg:o.inSvg||"svg"===v.type}))}if("textnode"==v.type){if(p&&"textnode"==p.type){p.content+=v.content;continue}if(!e.keepEmptyTextNodes){var R=h.nodeValue;if(" "!=R&&!R.trim())continue}}g||"/>"!=="".concat(h.outerHTML).slice(-2)||(v.void=!0);var P=v.components;if(!v.type&&P){for(var M=1,D=0,j=0;j<P.length;j++){var N=P[j],I=N.type;if(["text","textnode"].indexOf(I)<0&&t.textTags.indexOf(N.tagName)<0){M=0;break}"textnode"==I&&(D=1)}M&&D&&(v.type="text")}(v.tagName||"textnode"==v.type)&&s.push(v)}return s},parse:function(n,i){var s,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=t.em,h=c&&c.get("Config")||{},d={html:null,css:null},f=u(u({},e),a),p=u(u({},e.optionsHtml),{},{htmlType:(null===(s=e.optionsHtml)||void 0===s?void 0:s.htmlType)||e.htmlType},a),g=(0,o.isFunction)(f.parserHtml)?f.parserHtml(n,p):l(n,p),m=g.querySelectorAll("script"),v=m.length;if(!((0,o.isUndefined)(h.allowScripts)?p.allowScripts:h.allowScripts))for(;v--;)m[v].parentNode.removeChild(m[v]);if(p.allowUnsafeAttr||this.__clearUnsafeAttr(g),i){for(var y=g.querySelectorAll("style"),b=y.length,w="";b--;)w=y[b].innerHTML+w,y[b].parentNode.removeChild(y[b]);w&&(d.css=i.parse(w))}c&&c.trigger("".concat(r,":root"),{input:n,root:g});var x=this.parseNode(g,f),k=1!==x.length||t.returnArray?x:x[0];return d.html=k,c&&c.trigger(r,{input:n,output:d}),d},__clearUnsafeAttr:function(e){var t=this,n=e.attributes||[],r=e.childNodes||[],i=[];(0,o.each)(n,(function(e){var t=e.nodeName||"";0===t.indexOf("on")&&i.push(t)})),i.map((function(t){return e.removeAttribute(t)})),(0,o.each)(r,(function(e){return t.__clearUnsafeAttr(e)}))}}}},2012:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(5861),i=n(2982),o=n(4942),s=n(4687),a=n.n(s),l=n(1163),c=n(5671),u=n(3144),h=n(9050);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p="_rte",g=1,m=0,v=-1,y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"A",n=e.selection(),r=n.anchorNode,i=n.focusNode,o=null==r?void 0:r.parentNode,s=null==i?void 0:i.parentNode;return(null==o?void 0:o.nodeName)==t||(null==s?void 0:s.nodeName)==t},b="data-selectme",w={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(e){return e.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(e){return e.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(e){return e.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(e){return e.exec("strikeThrough")}},link:{icon:'<svg viewBox="0 0 24 24">\n          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />\n        </svg>',name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(e){return e&&e.selection()&&y(e)?g:m},result:function(e){y(e)?e.exec("unlink"):e.insertHTML('<a href="" '.concat(b,">").concat(e.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:'<svg viewBox="0 0 24 24">\n            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />\n        </svg>',attributes:{title:"Wrap for style"},state:function(e){return null!=e&&e.selection()&&y(e,"SPAN")?v:m},result:function(e){!y(e,"SPAN")&&e.insertHTML("<span ".concat(b,">").concat(e.selection(),"</span>"),{select:!0})}}},x=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.Z)(this,e);var r=n.el,i=n.em;if(this.em=i,r[p])return r[p];r[p]=this,this.setEl(r),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var o=(n.actions||[]).map((function(e){var t=e;return"string"==typeof e?t=f({},w[e]):w[e.name]&&(t=f(f({},w[e.name]),e)),t})),s=o.length?o:Object.keys(w).map((function(e){return w[e]}));n.classes=f(f({},{actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"}),n.classes);var a=n.classes,l=n.actionbar;if(this.actionbar=l,this.settings=n,this.classes=a,this.actions=s,!l){var u=n.actionbarContainer;(l=document.createElement("div")).className=a.actionbar,u.appendChild(l),this.actionbar=l,s.forEach((function(e){return t.addAction(e)}))}return n.styleWithCSS&&this.exec("styleWithCSS"),this}return(0,u.Z)(e,[{key:"destroy",value:function(){this.el=0,this.doc=0,this.actionbar=0,this.settings={},this.classes={},this.actions=[]}},{key:"setEl",value:function(e){this.el=e,this.doc=e.ownerDocument}},{key:"updateActiveActions",value:function(){var e=this;this.getActions().forEach((function(t){var n=t.btn,r=t.update,i=f({},e.classes),o=i.active,s=i.inactive,a=i.disabled,l=t.state,c=t.name,u=e.doc;if(n.className=n.className.replace(o,"").trim(),n.className=n.className.replace(s,"").trim(),n.className=n.className.replace(a,"").trim(),l)switch(l(e,u)){case g:n.className+=" ".concat(o);break;case m:n.className+=" ".concat(s);break;case v:n.className+=" ".concat(a)}else u.queryCommandSupported(c)&&u.queryCommandState(c)&&(n.className+=" ".concat(o));r&&r(e,t)}))}},{key:"enable",value:function(e){return this.enabled?this:this.__toggleEffects(!0,e)}},{key:"disable",value:function(){return this.__toggleEffects(!1)}},{key:"__toggleEffects",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e?l.on:l.off,r=this.el,i=this.doc;if(this.actionbarEl().style.display=e?"":"none",r.contentEditable=!!e,n(r,"mouseup keyup",this.updateActiveActions),n(i,"keydown",this.__onKeydown),n(i,"paste",this.__onPaste),this.enabled=e,e){var o=t.event;if(this.syncActions(),this.updateActiveActions(),o){var s=null;if(i.caretRangeFromPoint){var a=(0,l.getPointerEvent)(o);s=i.caretRangeFromPoint(a.clientX,a.clientY)}else o.rangeParent&&(s=i.createRange()).setStart(o.rangeParent,o.rangeOffset);var c=i.getSelection();c.removeAllRanges(),s&&c.addRange(s)}r.focus()}return this}},{key:"__onKeydown",value:function(e){var t=this.doc;"Enter"!==e.key||["insertOrderedList","insertUnorderedList"].some((function(e){return t.queryCommandState(e)}))||(t.execCommand("insertLineBreak"),e.preventDefault())}},{key:"__onPaste",value:function(e){var t=e.clipboardData||window.clipboardData,n=t.getData("text"),r=t.getData("text/html");if(n&&!r){e.preventDefault();var i=n.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,i)}}},{key:"syncActions",value:function(){var e=this;this.getActions().forEach((function(t){if(e.actionbar&&(!t.state||t.state&&t.state(e,e.doc)>=0)){var n=t.event||"click";t.btn["on".concat(n)]=function(n){t.result(e,t),e.updateActiveActions()}}}))}},{key:"addAction",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).sync,n=document.createElement("span"),r=e.icon,i=e.attributes||{};for(var o in n.className=this.classes.button,e.btn=n,i)n.setAttribute(o,i[o]);"string"==typeof r?n.innerHTML=r:n.appendChild(r),this.actionbarEl().appendChild(n),t&&(this.actions.push(e),this.syncActions())}},{key:"getActions",value:function(){return this.actions}},{key:"selection",value:function(){return this.doc.getSelection()}},{key:"exec",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.doc.execCommand(e,!1,t)}},{key:"actionbarEl",value:function(){return this.actionbar}},{key:"insertHTML",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).select,n=this.em,r=this.doc,i=this.el,o=r.getSelection();if(o&&o.rangeCount){var s=(0,l.getModel)(i),a=r.createElement("div"),c=o.getRangeAt(0);c.deleteContents(),(0,h.isString)(e)?a.innerHTML=e:e&&a.appendChild(e),Array.prototype.slice.call(a.childNodes).forEach((function(e){c.insertNode(e)})),o.removeAllRanges(),o.addRange(c),i.focus(),t&&s&&(s.once("rte:disable",(function(){var e=s.find("[".concat(b,"]"))[0];e&&(n.setSelected(e),e.removeAttributes(b))})),s.trigger("disable"))}}}]),e}(),k={stylePrefix:"rte-",adjustToolbar:1,actions:["bold","italic","underline","strikethrough","link","wrap"]};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _="change:canvasOffset frame:scroll component:update",O=function(){var e,t=function(){var t=e.style,n="-1000px";t.top=n,t.left=n,t.display="none"};return{customRte:null,name:"RichTextEditor",getConfig:function(){return this.config},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=S(S({},k),t),r=n.pStylePrefix;return r&&(n.stylePrefix=r+n.stylePrefix),this.config=n,this.pfx=n.stylePrefix,this.em=n.em,this.actions=n.actions||[],(0,l.hasWin)()?((e=document.createElement("div")).className="".concat(r,"rte-toolbar ").concat(r,"one-bg"),this.initRte(document.createElement("div")),(0,l.on)(e,"mousedown",(function(e){return e.stopPropagation()})),this):this},destroy:function(){var t,n,r,i=this;null===(t=this.globalRte)||void 0===t||t.destroy(),null===(n=this.customRte)||void 0===n||null===(r=n.destroy)||void 0===r||r.call(n),e=0,["actionbar","actions","em","config","globalRte","lastEl"].map((function(e){delete i[e]}))},postRender:function(n){var r=n.model.get("Canvas");e.style.pointerEvents="all",t(),r.getToolsEl().appendChild(e)},initRte:function(t){var n=this.globalRte,r=this.em,o=this.pfx,s=this.actionbar,a=this.config,l=e,c=this.actions||(0,i.Z)(a.actions),u={actionbar:"".concat(o,"actionbar"),button:"".concat(o,"action"),active:"".concat(o,"active"),inactive:"".concat(o,"inactive"),disabled:"".concat(o,"disabled")};return n?(n.em=r,n.setEl(t)):(n=new x({em:r,el:t,classes:u,actions:c,actionbar:s,actionbarContainer:l}),this.globalRte=n),n.actionbar&&(this.actionbar=n.actionbar),n.actions&&(this.actions=n.actions),n},add:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.name=e,null===(t=this.globalRte)||void 0===t||t.addAction(n,{sync:1})},get:function(e){var t,n;return null===(t=this.globalRte)||void 0===t||t.getActions().forEach((function(t){t.name==e&&(n=t)})),n},getAll:function(){var e;return null===(e=this.globalRte)||void 0===e?void 0:e.getActions()},remove:function(e){var t=this.getAll(),n=this.get(e);if(n){var r=n.btn,i=t.indexOf(n);r.parentNode.removeChild(r),t.splice(i,1)}return n},getToolbarEl:function(){return e},updatePosition:function(){var t="px",n=this.em.get("Canvas"),r=e.style,i=n.getTargetToElementFixed(this.lastEl,e,{event:"rteToolbarPosUpdate",left:0});r.top=(i.top||0)+t,r.left=(i.left||0)+t},enable:function(t,n,i){var o=this;return(0,r.Z)(a().mark((function r(){var s,l,c,u;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o.lastEl=t.el,s=o.customRte,l=o.em,c=t.getChildrenContainer(),e.style.display="",r.next=6,s?s.enable(c,n):o.initRte(c).enable(i);case 6:return u=r.sent,l&&(setTimeout(o.updatePosition.bind(o),0),l.off(_,o.updatePosition,o),l.on(_,o.updatePosition,o),l.trigger("rte:enable",t,u)),r.abrupt("return",u);case 9:case"end":return r.stop()}}),r)})))()},disable:function(e,n){var r=this.em,i=this.customRte,o=e.getChildrenContainer();i?i.disable(o,n):n&&n.disable(),t(),r&&(r.off(_,this.updatePosition,this),r.trigger("rte:disable",e,n))}}}},4859:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var r=n(5861),i=n(5671),o=n(3144),s=n(7326),a=n(9340),l=n(2963),c=n(1120),u=n(4942),h=n(4687),d=n.n(h),f=n(9714),p={id:"gjs-",type:"local",autosave:!0,autoload:!0,recovery:!1,stepsBeforeSave:1,onStore:function(e){return e},onLoad:function(e){return e},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(e){return e},onLoad:function(e){return e}}}},g=n(1163),m=function(){function e(){(0,i.Z)(this,e)}var t,n;return(0,o.Z)(e,[{key:"store",value:(n=(0,r.Z)(d().mark((function e(t){var n,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.length>1&&void 0!==r[1]?r[1]:{},this.hasLocal(n,!0)&&localStorage.setItem(n.key,JSON.stringify(t));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"load",value:(t=(0,r.Z)(d().mark((function e(){var t,n,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n={},this.hasLocal(t,!0)&&(n=JSON.parse(localStorage.getItem(t.key)||"{}")),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"hasLocal",value:function(){var e=arguments.length>1?arguments[1]:void 0;if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).checkLocal&&(!(0,g.hasWin)()||!localStorage)){if(e)throw new Error("localStorage not available");return!1}return!0}}]),e}(),v=n(9050),y=n(9661);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(){function e(){(0,i.Z)(this,e)}var t,n;return(0,o.Z)(e,[{key:"store",value:(n=(0,r.Z)(d().mark((function e(t){var n,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.request(n.urlStore,this.__props(n,t),n);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"load",value:(t=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(t.urlLoad,this.__props(t),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,y.Z)(e,t).then((function(e){var t=e.text();return 1==(e.status/200|0)?t:t.then(Promise.reject)})).then((function(e){var t=e&&(0,v.isString)(e);return n.contentTypeJson&&t?JSON.parse(e):e}))}},{key:"__props",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=t.contentTypeJson,i=t.headers||{},o=t.fetchOptions||{},s="X-Requested-With",a="Content-Type";if((0,v.isUndefined)(i[s])&&(i[s]="XMLHttpRequest"),(0,v.isUndefined)(i[a])&&r&&(i[a]="application/json; charset=utf-8"),n)if(r)e=JSON.stringify(n);else for(var l in e=new FormData,n)e.append(l,n[l]);var c={method:e?"POST":"GET",credentials:t.credentials,headers:i,body:e};return w(w({},c),(0,v.isFunction)(o)?o(c):o)}}]),e}();function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var _="storage:start",O="storage:after",E="storage:end",T="storage:error",A="local",$="remote",L=function(e){(0,a.Z)(h,e);var t,n,l,c=S(h);function h(){var e;(0,i.Z)(this,h);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=c.call.apply(c,[this].concat(n)),(0,u.Z)((0,s.Z)(e),"name","StorageManager"),e}return(0,o.Z)(h,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__initConfig(p,e);var t=this.getConfig();return t._disable&&(t.type=0),this.storages={},this.add(A,new m(t)),this.add($,new x(t)),this.setCurrent(t.type),this}},{key:"isAutosave",value:function(){return!!this.getConfig().autosave}},{key:"setAutosave",value:function(e){return this.getConfig().autosave=!!e,this}},{key:"getStepsBeforeSave",value:function(){return this.getConfig().stepsBeforeSave}},{key:"setStepsBeforeSave",value:function(e){return this.getConfig().stepsBeforeSave=e,this}},{key:"add",value:function(e,t){return this.storages[e]=t,this}},{key:"get",value:function(e){return this.storages[e]||null}},{key:"getStorages",value:function(){return this.storages}},{key:"getCurrent",value:function(){return this.getConfig().currentStorage}},{key:"setCurrent",value:function(e){return this.getConfig().currentStorage=e,this}},{key:"getCurrentStorage",value:function(){return this.get(this.getCurrent())}},{key:"getStorageOptions",value:function(e){return this.getCurrentOptions(e)}},{key:"store",value:(l=(0,r.Z)(d().mark((function e(t){var n,r,i,o,s,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},r=this.getCurrentStorage(),i=C(C({},this.getCurrentOptions()),n),o=this.getRecoveryStorage(),s=this.getCurrentOptions(A),e.prev=5,e.next=8,this.__exec(r,i,t);case 8:if(e.t0=o,!e.t0){e.next=12;break}return e.next=12,this.__exec(o,s,{});case 12:case 19:e.next=22;break;case 14:if(e.prev=14,e.t1=e.catch(5),!o){e.next=21;break}return e.next=19,this.__exec(o,s,t);case 21:throw e.t1;case 22:return e.abrupt("return",t);case 23:case"end":return e.stop()}}),e,this,[[5,14]])}))),function(e){return l.apply(this,arguments)})},{key:"load",value:(n=(0,r.Z)(d().mark((function e(){var t,n,r,i,o,s,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},n=this.getCurrentStorage(),r=C(C({},this.getCurrentOptions()),t),!(i=this.getRecoveryStorage())){e.next=17;break}return e.next=7,this.__exec(i,this.getCurrentOptions(A));case 7:if(s=e.sent,(0,v.isEmpty)(s)){e.next=17;break}return e.prev=9,e.next=12,this.__askRecovery();case 12:o=s,e.next=17;break;case 15:e.prev=15,e.t0=e.catch(9);case 17:if(o){e.next=21;break}return e.next=20,this.__exec(n,r);case 20:o=e.sent;case 21:return e.abrupt("return",o||{});case 22:case"end":return e.stop()}}),e,this,[[9,15]])}))),function(){return n.apply(this,arguments)})},{key:"__askRecovery",value:function(){var e=this.em,t=this.getRecovery();return new Promise((function(n,r){(0,v.isFunction)(t)?t(n,r,null==e?void 0:e.getEditor()):confirm(null==e?void 0:e.t("storageManager.recover"))?n():r()}))}},{key:"getRecovery",value:function(){return this.getConfig().recovery}},{key:"getRecoveryStorage",value:function(){return this.getRecovery()&&this.getCurrent()===$&&this.get(A)}},{key:"__exec",value:(t=(0,r.Z)(d().mark((function e(t,n,r){var i,o,s,a,l,c,u,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r?"store":"load",o=this.getConfig(),s=o.onStore,a=o.onLoad,this.onStart(i,r),t){e.next=5;break}return e.abrupt("return",r||{});case 5:if(e.prev=5,u=null===(c=this.em)||void 0===c?void 0:c.getEditor(),!r){e.next=31;break}if(e.t1=s,!e.t1){e.next=13;break}return e.next=12,s(r,u);case 12:e.t1=e.sent;case 13:if(e.t0=e.t1,e.t0){e.next=16;break}e.t0=r;case 16:if(h=e.t0,e.t3=n.onStore,!e.t3){e.next=22;break}return e.next=21,n.onStore(h,u);case 21:e.t3=e.sent;case 22:if(e.t2=e.t3,e.t2){e.next=25;break}e.t2=h;case 25:return h=e.t2,e.next=28,t.store(h,n);case 28:l=r,e.next=53;break;case 31:return e.next=33,t.load(n);case 33:if(l=e.sent,l=this.__clearKeys(l),e.t5=n.onLoad,!e.t5){e.next=40;break}return e.next=39,n.onLoad(l,u);case 39:e.t5=e.sent;case 40:if(e.t4=e.t5,e.t4){e.next=43;break}e.t4=l;case 43:if(l=e.t4,e.t7=a,!e.t7){e.next=49;break}return e.next=48,a(l,u);case 48:e.t7=e.sent;case 49:if(e.t6=e.t7,e.t6){e.next=52;break}e.t6=l;case 52:l=e.t6;case 53:this.onAfter(i,l),this.onEnd(i,l),e.next=61;break;case 57:throw e.prev=57,e.t8=e.catch(5),this.onError(i,e.t8),e.t8;case 61:return e.abrupt("return",l);case 62:case"end":return e.stop()}}),e,this,[[5,57]])}))),function(e,n,r){return t.apply(this,arguments)})},{key:"__clearKeys",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getConfig(),n=new RegExp("^".concat(t.id)),r={};for(var i in e)r[i.replace(n,"")]=e[i];return r}},{key:"getCurrentOptions",value:function(e){var t=this.getConfig(),n=e||this.getCurrent();return t.options[n]||{}}},{key:"onStart",value:function(e,t){var n=this.em;n&&(n.trigger(_),e&&n.trigger("".concat(_,":").concat(e),t))}},{key:"onAfter",value:function(e,t){var n=this.em;n&&(n.trigger(O),n.trigger("".concat(O,":").concat(e),t),n.trigger("storage:".concat(e),t))}},{key:"onEnd",value:function(e,t){var n=this.em;n&&(n.trigger(E),e&&n.trigger("".concat(E,":").concat(e),t))}},{key:"onError",value:function(e,t){var n=this.em;n&&(n.trigger(T,t),e&&n.trigger("".concat(T,":").concat(e),t),this.onEnd(e,t))}},{key:"canAutoload",value:function(){return this.getCurrentStorage()&&this.getConfig().autoload}},{key:"destroy",value:function(){this.__destroy(),this.storages={}}}]),h}(f.Z)},2326:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Tt},evAll:function(){return pt},evCustom:function(){return Ot},evLayerSelect:function(){return St},evPfx:function(){return gt},evProp:function(){return wt},evPropAdd:function(){return xt},evPropRemove:function(){return kt},evPropUp:function(){return Ct},evSector:function(){return mt},evSectorAdd:function(){return vt},evSectorRemove:function(){return yt},evSectorUpdate:function(){return bt},evTarget:function(){return _t}});var i=n(2982),o=n(4942),s=n(9050),a=n(1163),l=n(9304),c=n(2316),u=n.n(c),h={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]},d=n(4925),f=n(5671),p=n(3144),g=n(9340),m=n(2963),v=n(1120),y=n(793),b=["partial"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var C=function(e){(0,g.Z)(n,e);var t=k(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.em=t.em;var r=this.get("id")||"",i=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(i||r).replace(/ /g,"-"));var o=this.get("property");!this.get("id")&&this.set("id",o),!i&&this.set("name",(0,a.capitalize)(o).replace(/-/g," ")),this.on("change",this.__upTargets),n.callInit(this,e,t)}},{key:"__getParentProp",value:function(){var e,t;return null===(e=this.collection)||void 0===e||null===(t=e.opts)||void 0===t?void 0:t.parentProp}},{key:"__upTargets",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.em.get("StyleManager"),a=this.getName(),l=n.__clear,c=l?"":this.__getFullValue(n),u=this.__getParentProp(),h=this.changedAttributes(),d=(0,s.keys)(h).reduce((function(e,n){return e[n]=t.previous(n),e}),{}),f=[].concat((0,i.Z)((0,s.keys)(this.__getClearProps())),["__p"]),p=(0,s.keys)(h),g=!n.__up&&!u&&(l||f.some((function(e){return p.indexOf(e)>=0}))),m=this.get("onChange"),v={property:this,from:d,to:h,value:c,opts:n};o.__trgEv(o.events.propertyUpdate,v),m&&m(v),g&&this.__upTargetsStyle(r({},a,c),n)}},{key:"__upTargetsStyle",value:function(e,t){var n,r=null===(n=this.em)||void 0===n?void 0:n.get("StyleManager");null==r||r.addStyleTargets(x(x({},e),{},{__p:!!t.avoidStore}),t)}},{key:"_up",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.noTarget&&(t.__up=!0);var n=t.partial,r=(0,d.Z)(t,b);return e.__p=!(!r.avoidStore&&!n),this.set(e,x(x({},r),{},{avoidStore:e.__p}))}},{key:"up",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.set(e,x(x({},t),{},{__up:!0}))}},{key:"init",value:function(){}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("property")}},{key:"getLabel",value:function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).locale,n=void 0===t||t,r=this.getId(),i=this.get("name")||this.get("label");return n&&(null===(e=this.em)||void 0===e?void 0:e.t("styleManager.properties.".concat(r)))||i}},{key:"getValue",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).noDefault,t=this.get("value");return this.hasValue()||e?t:this.getDefaultValue()}},{key:"hasValue",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).noParent&&this.getParentTarget(),t=this.get("value");return!(0,s.isUndefined)(t)&&""!==t&&!e}},{key:"hasValueParent",value:function(){return this.hasValue()&&!this.hasValue({noParent:!0})}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getName(),n=e.camelCase?(0,a.camelCase)(t):t;return r({},n,this.__getFullValue(e))}},{key:"getDefaultValue",value:function(){var e=this.get("default");return"".concat((0,s.isUndefined)(e)?this.get("defaults"):e)}},{key:"upValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null===e||""===e?this.__getClearProps():this.__parseValue(e,t);return this._up(n,t)}},{key:"isVisible",value:function(){return!!this.get("visible")}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._up(this.__getClearProps(),x(x({},e),{},{__clear:!0}))}},{key:"canClear",value:function(){var e=this.getParent();return e?e.__canClearProp(this):this.hasValue({noParent:!0})}},{key:"getParent",value:function(){return this.__getParentProp()||null}},{key:"isFull",value:function(){return!!this.get("full")}},{key:"__parseValue",value:function(e,t){return this.parseValue(e,t)}},{key:"__getClearProps",value:function(){return{value:""}}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.parseValue(e),i=!t;!i&&this.set({value:void 0},{avoidStore:i,silent:!0}),this.set(r,x({avoidStore:i},n))}},{key:"setValueFromInput",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.setValue(e,t,x(x({},n),{},{fromInput:1}))}},{key:"parseValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={value:e},r="!important";if((0,s.isString)(e)&&-1!==e.indexOf(r)&&(n.value=e.replace(r,"").trim(),n.important=1),!this.get("functionName")&&!t.complete)return n;var i=[],o="".concat(n.value),a=o.indexOf("(")+1,l=o.lastIndexOf(")"),c=o.substring(0,a-1);if(c&&(n.functionName=c),i.push(a),l>=0&&i.push(l),n.value=String.prototype.substring.apply(o,i),t.numeric){var u=parseFloat(n.value);n.unit=n.value.replace(u,""),n.value=u}return n}},{key:"__getFullValue",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).withDefault;return!this.hasValue()&&e?this.getDefaultValue():this.getFullValue()}},{key:"getFullValue",value:function(e){var t=this.get("functionName"),n=this.getDefaultValue(),r=(0,s.isUndefined)(e)?this.get("value"):e,i=!(0,s.isUndefined)(r)&&""!==r;if(r&&n&&r===n)return n;if(t&&i){var o="url"===t?"'".concat(r.replace(/'|"/g,""),"'"):r;r="".concat(t,"(").concat(o,")")}return i&&this.get("important")&&(r="".concat(r," !important")),r||""}},{key:"__setParentTarget",value:function(e){this.up({parentTarget:e})}},{key:"getParentTarget",value:function(){return this.get("parentTarget")||null}},{key:"__parseFn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.indexOf("(")+1,n=e.lastIndexOf(")");return{name:e.substring(0,t-1).trim(),value:String.prototype.substring.apply(e,[t,n>=0?n:void 0]).trim()}}},{key:"__checkVisibility",value:function(e){var t=e.target,n=e.component,r=e.sectors,i=n||t;if(!i)return!1;var o=this.getId(),l=this.getName(),c=this.get("toRequire"),u=this.get("requires"),h=this.get("requiresParent"),d=i.get("unstylable"),f=i.get("stylable-require"),p=i.get("stylable");if((0,s.isArray)(p)&&(p=p.indexOf(l)>=0),(0,s.isArray)(d)&&(p=d.indexOf(l)<0),c&&(p=!t||f&&(f.indexOf(o)>=0||f.indexOf(l)>=0)),r&&u){var g=(0,s.keys)(u);r.forEach((function(e){e.getProperties().forEach((function(e){if((0,s.includes)(g,e.id)){var t=u[e.id];p=p&&(0,s.includes)(t,e.get("value"))}}))}))}if(h){var m=n&&n.parent(),v=m&&m.getEl();if(v){var y=(0,a.hasWin)()?window.getComputedStyle(v):{};(0,s.each)(h,(function(e,t){p=p&&y[t]&&(0,s.includes)(e,y[t])}))}else p=!1}return!!p}}]),n}(c.Model);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}C.callParentInit=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.prototype.initialize.apply(t,[n,x(x({},r),{},{skipInit:1})])},C.callInit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!n.skipInit&&e.init(t,n)},C.getDefaults=function(){return(0,s.result)(this.prototype,"defaults")},C.prototype.defaults={name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],onChange:null,full:0,important:0,toRequire:0,requires:null,requiresParent:null,parentTarget:null};var E=function(e){return"integer"===e||"number"===e},T=function(e){(0,g.Z)(n,e);var t=O(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"defaults",value:function(){return _(_({},C.getDefaults()),{},{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C.callParentInit(C,this,e,t);var n=this.em,r=new ze(this.get("properties")||[],{em:n,parentProp:this});this.set("properties",r,{silent:1}),this.listenTo(r,"change",this.__upProperties),C.callInit(this,e,t)}},{key:"getProperties",value:function(){return(0,i.Z)(this.get("properties").models)}},{key:"getProperty",value:function(e){return this.get("properties").filter((function(t){return t.getId()===e||t.getName()===e}))[0]||null}},{key:"getPropertyAt",value:function(e){return this.get("properties").at(e)}},{key:"isDetached",value:function(){return!!this.get("detached")}},{key:"getValues",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).byName;return this.getProperties().reduce((function(t,n){return t[e?n.getName():n.getId()]="".concat(n.__getFullValue()),t}),{})}},{key:"getSeparator",value:function(){return this.getSplitSeparator()}},{key:"getJoin",value:function(){return this.__getJoin()}},{key:"getStyleFromProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getName(),n=this.__getJoin(),i=this.get("toStyle"),o=this.getValues(),s={};if(i)s=i(o,{join:n,name:t,property:this});else if(o=this.getValues({byName:!0}),this.isDetached())s=o;else{var a=this.getProperties().map((function(e){return e.__getFullValue({withDefault:1})})).filter(Boolean).join(n);s=r({},t,a)}return this.isDetached()?s[t]="":(s[t]=s[t]||"",s=_(_({},s),this.getProperties().reduce((function(e,t){return e[t.getName()]="",e}),{}))),e.camelCase?Object.keys(s).reduce((function(e,t){return e[camelCase(t)]=s[t],e}),{}):s}},{key:"getSplitSeparator",value:function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))}},{key:"__upProperties",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.__up&&!t.__clearIn){var n=this.__getParentProp();if(n)return n.__upProperties(this,t);this.__upTargetsStyleProps(t,e)}}},{key:"__upTargetsStyleProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=this.getStyleFromProps();if(this.isDetached()&&t){var i=t.getName();n=r({},i,n[i])}this.__upTargetsStyle(n,e)}},{key:"_up",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.__setProperties(this.__getSplitValue(e.value),t),C.prototype._up.call(this,e,t)}},{key:"getStyle",value:function(e){return this.getStyleFromProps(e)}},{key:"__getFullValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isDetached()||e.__clear?"":this.getStyleFromProps()[this.getName()]||""}},{key:"__getJoin",value:function(){var e=this.get("join");return(0,s.isString)(e)?e:this.get("separator")}},{key:"__styleHasProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getName(),n=this.getProperties().map((function(e){return e.getName()}));return[t].concat((0,i.Z)(n)).some((function(t){return!(0,s.isUndefined)(e[t])&&""!==e[t]}))}},{key:"__splitValue",value:function(e,t){return e.split(t).map((function(e){return e.trim()})).filter(Boolean)}},{key:"__splitStyleName",value:function(e,t,n){return this.__splitValue(e[t]||"",n)}},{key:"__getSplitValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).byName,n=this.getProperties(),r=4===n.length&&n.every((function(e){return E(e.getType())})),i=this.__splitValue(e,this.getSplitSeparator()),o={};return n.forEach((function(e,n){var a=i[n],l=(0,s.isUndefined)(a)?"":a;if(r){var c=i.length;l=i[n]||i[n%c+(1!=c&&c%2?1:0)]||l}var u=t?e.getName():e.getId();o[u]=l||""})),o}},{key:"__getPropsFromStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.__styleHasProps(e))return null;var n=t.byName,r=this.getName(),i=this.getProperties(),o=this.getSplitSeparator(),a=this.get("fromStyle"),l=a?a(e,{property:this,name:r,separator:o}):{};return a||(l=this.__getSplitValue(e[r]||"",{byName:n}),i.forEach((function(t){var r=e[t.getName()],i=n?t.getName():t.getId();(0,s.isUndefined)(r)||""===r||(l[i]=r)}))),l}},{key:"__setProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.getProperties().forEach((function(n){var r=e[n.getId()];n.__getFullValue()!==r&&n.upValue(r,t)}));var n=(0,s.keys)(e).map((function(t){return e[t]})).join(" ");this.set("value",n,{silent:!0})}},{key:"clear",value:function(){var e=this;return this.getProperties().map((function(t){return t.clear({__clearIn:!e.isDetached()})})),C.prototype.clear.call(this)}},{key:"hasValue",value:function(e){return this.getProperties().some((function(t){return t.hasValue(e)}))}},{key:"getFullValue",value:function(){return this.__getFullValue()}},{key:"__canClearProp",value:function(e){return this.isDetached()&&e.hasValue({noParent:!0})}}]),n}(C);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var R=function(e){(0,g.Z)(n,e);var t=L(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"defaults",value:function(){return{values:{}}}},{key:"initialize",value:function(){var e=this.collection;this.prop=null==e?void 0:e.prop}},{key:"getId",value:function(){return this.cid}},{key:"getIndex",value:function(){var e=this.collection;return e?e.indexOf(this):-1}},{key:"getValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.get("values");return e.camelCase?Object.keys(t).reduce((function(e,n){return e[(0,a.camelCase)(n)]=t[n],e}),{}):t}},{key:"getLabel",value:function(){var e;return null===(e=this.prop)||void 0===e?void 0:e.getLayerLabel(this)}},{key:"isSelected",value:function(){var e;return(null===(e=this.prop)||void 0===e?void 0:e.getSelectedLayer())===this}},{key:"select",value:function(){var e;return null===(e=this.prop)||void 0===e?void 0:e.selectLayer(this)}},{key:"remove",value:function(){var e;return null===(e=this.prop)||void 0===e?void 0:e.removeLayer(this)}},{key:"move",value:function(e){var t;return null===(t=this.prop)||void 0===t?void 0:t.moveLayer(this,e)}},{key:"getStylePreview",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null===(e=this.prop)||void 0===e?void 0:e.getStylePreview(this,t)}},{key:"hasPreview",value:function(){var e;return!(null===(e=this.prop)||void 0===e||!e.get("preview"))}},{key:"upValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.set("values",$($({},this.getValues()),e))}}]),n}(c.Model);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var M=function(e){(0,g.Z)(n,e);var t=P(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"initialize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prop=t.prop}}]),n}(c.Collection);M.prototype.model=R;var D=["__layers"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var F=/,(?![^\(]*\))/,B=/\s(?![^(]*\))/,H=function(e){(0,g.Z)(n,e);var t=I(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"defaults",value:function(){return N(N({},T.getDefaults()),{},{layers:[],layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T.callParentInit(T,this,e,t);var n=this.get("layers"),r=new M(n,{prop:this});r.property=this,r.properties=this.get("properties"),this.set("layers",r,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(r,"add remove",this.__upLayers),T.callInit(this,e,t)}},{key:"getLayers",value:function(){return this.__getLayers().models}},{key:"__getLayers",value:function(){return this.get("layers")}},{key:"getLayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.__getLayers().at(e)||null}},{key:"getSelectedLayer",value:function(){var e=this.get("selectedLayer");return e&&e.getIndex()>=0?e:null}},{key:"selectLayer",value:function(e){return this.set("selectedLayer",e,{__select:!0})}},{key:"selectLayerAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.getLayer(e);return t&&this.selectLayer(t)}},{key:"moveLayer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e?e.getIndex():-1;n>=0&&(0,s.isNumber)(t)&&t>=0&&t<this.getLayers().length&&n!==t&&(this.removeLayer(e),this.__getLayers().add(e,{at:t}))}},{key:"addLayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return this.getProperties().forEach((function(t){var r=t.getId(),i=e[r];n[r]=(0,s.isUndefined)(i)?t.getDefaultValue():i})),this.get("layers").push({values:n},t)}},{key:"removeLayer",value:function(e){return this.get("layers").remove(e)}},{key:"removeLayerAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.getLayer(e);return t?this.removeLayer(t):null}},{key:"getLayerLabel",value:function(e){var t="";if(e){var n=this.get("layerLabel"),r=e.getValues(),i=e.getIndex();if(n)t=n(e,{index:i,values:r,property:this});else{var o=[];this.getProperties().map((function(e){o.push(r[e.getId()])})),t=o.filter(Boolean).join(" ")}}return t}},{key:"getStyleFromLayer",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.__getJoin(),o=this.__getJoinLayers(),l=this.get("toStyle"),c=this.getName(),u=e.getValues();if(l)t=l(u,{join:i,joinLayers:o,name:c,layer:e,property:this});else{var h=this.getProperties().map((function(e){var t=e.getName(),r=u[e.getId()],i=(0,s.isUndefined)(r)?e.getDefaultValue():r;if(n.number&&E(e.getType())){var o=e.parseValue(r,n.number);i="".concat(o.value).concat(o.unit)}return{name:t,value:i}}));t=this.isDetached()?h.reduce((function(e,t){return e[t.name]=t.value,e}),{}):r({},this.getName(),h.map((function(e){return e.value})).join(i))}return n.camelCase?Object.keys(t).reduce((function(e,n){return e[(0,a.camelCase)(n)]=t[n],e}),{}):t}},{key:"getStylePreview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return this.get("preview")&&(n=this.getStyleFromLayer(e,t)),n}},{key:"getLayerSeparator",value:function(){var e=this.get("layerSeparator");return(0,s.isString)(e)?new RegExp("".concat(e,"(?![^\\(]*\\))")):e}},{key:"__upProperties",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getSelectedLayer();n&&(n.upValues(r({},e.getId(),e.__getFullValue())),t.__up||this.__upTargetsStyleProps(t))}},{key:"__upLayers",value:function(e,t,n){this.__upTargetsStyleProps(n||t)}},{key:"__upTargets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.__select)return C.prototype.__upTargets.call(this,e,t)}},{key:"__upTargetsStyleProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__upTargetsStyle(this.getStyleFromLayers(),e)}},{key:"__upTargetsStyle",value:function(e,t){return C.prototype.__upTargetsStyle.call(this,e,t)}},{key:"__upSelected",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).noEvent,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.em.get("StyleManager"),r=this.getSelectedLayer(),i=null==r?void 0:r.getValues();i&&this.getProperties().forEach((function(e){var n,r=null!==(n=i[e.getId()])&&void 0!==n?n:"";e.__getFullValue()!==r&&e.upValue(r,N(N({},t),{},{__up:!0}))})),!e&&n.__trgEv(n.events.layerSelect,{property:this})}},{key:"_up",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.__layers,r=void 0===n?[]:n,i=(0,d.Z)(e,D);return!this.isDetached()&&this.__setLayers(r),this.__upSelected({noEvent:!0},t),C.prototype._up.call(this,i,t)}},{key:"__setLayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.__getLayers(),n=e.map((function(e){return{values:e}}));t.length===n.length?n.map((function(e,n){var r;return null===(r=t.at(n))||void 0===r?void 0:r.upValues(e.values)})):this.__getLayers().reset(n),this.__upSelected({noEvent:!0})}},{key:"__parseValue",value:function(e){var t=this,n=this.parseValue(e);return n.__layers=e.split(F).map((function(e){return e.trim()})).map((function(e){return t.__parseLayer(e)})).filter(Boolean),n}},{key:"__parseLayer",value:function(e){var t=this.get("parseLayer"),n=e.split(B),r=this.getProperties();return t?t({value:e,values:n}):r.reduce((function(e,t,r){var i=n[r];return e[t.getId()]=(0,s.isUndefined)(i)?t.getDefaultValue():i,e}),{})}},{key:"__getLayersFromStyle",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.__styleHasProps(t))return null;var n=this.getName(),i=this.getProperties(),o=this.getLayerSeparator(),a=this.get("fromStyle"),l=a?a(t,{property:this,name:n,separatorLayers:o}):[];if(!a){var c=this.__splitStyleName(t,n,o).map((function(t){return t.split(e.getSplitSeparator())})).map((function(e){var t={};return i.forEach((function(n,r){var i=e[r];t[n.getId()]=(0,s.isUndefined)(i)?n.getDefaultValue():i})),t}));i.forEach((function(n){var i=n.getId();e.__splitStyleName(t,n.getName(),o).map((function(e){return r({},i,e||n.getDefaultValue())})).forEach((function(e,t){c[t]=c[t]?N(N({},c[t]),e):e}))})),l=c}return(0,s.isArray)(l)?l:[l]}},{key:"getStyle",value:function(e){return this.getStyleFromLayers(e)}},{key:"getStyleFromLayers",value:function(e){var t=this,n={},r=this.getName(),i=this.getLayers(),o=this.getProperties();if(i.map((function(n){return t.getStyleFromLayer(n,e)})).forEach((function(e){(0,s.keys)(e).map((function(t){n[t]||(n[t]=[]),n[t].push(e[t])}))})),(0,s.keys)(n).map((function(e){n[e]=n[e].join(t.__getJoinLayers())})),this.isDetached())n[r]="",!i.length&&o.map((function(e){n[e.getName()]=""}));else{var a=o.reduce((function(e,t){return e[t.getName()]="",e}),{});n[r]=n[r]||"",n=N(N({},n),a)}return n}},{key:"__getJoinLayers",value:function(){var e=this.get("layerJoin"),t=this.get("layerSeparator");return e||((0,s.isString)(t)?t:e)}},{key:"__getFullValue",value:function(){return this.get("detached")?"":this.getStyleFromLayers()[this.getName()]}},{key:"hasValue",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).noParent&&this.getParentTarget();return this.getLayers().length>0&&!e}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.__getLayers().reset(),this.__upTargetsStyleProps(e),C.prototype.clear.call(this)}},{key:"__canClearProp",value:function(){return!1}}]),n}(T),Z=["complete","partial"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var U="data-clear-style",G=function(e){(0,g.Z)(n,e);var t=W(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"template",value:function(){var e=this.pfx,t=this.ppfx;return'\n      <div class="'.concat(e,'label" data-sm-label></div>\n      <div class="').concat(t,'fields" data-sm-fields></div>\n    ')}},{key:"templateLabel",value:function(e){var t=this.pfx,n=this.em,r=e.parent,i=e.attributes,o=i.icon,s=void 0===o?"":o,a=i.info,l=void 0===a?"":a,c=null==n?void 0:n.getConfig().icons,u=(null==c?void 0:c.close)||"";return'\n      <span class="'.concat(t,"icon ").concat(s,'" title="').concat(l,'">\n        ').concat(e.getLabel(),"\n      </span>\n      ").concat(r?"":'<div class="'.concat(t,'clear" style="display: none" ').concat(U,">").concat(u,"</div>"),"\n    ")}},{key:"templateInput",value:function(e){return'\n      <div class="'.concat(this.ppfx,'field">\n        <input placeholder="').concat(e.getDefaultValue(),'"/>\n      </div>\n    ')}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.bindAll)(this,"__change","__updateStyle");var t=e.config||{},n=t.em;this.config=t,this.em=n,this.pfx=t.stylePrefix||"",this.ppfx=t.pStylePrefix||"",this.__destroyFn=this.destroy?this.destroy.bind(this):function(){};var r=this.model;r.view=this,this.onValueChange=(0,s.debounce)(this.onValueChange.bind(this),10),this.updateStatus=(0,s.debounce)(this.updateStatus.bind(this)),this.listenTo(r,"destroy remove",this.remove),this.listenTo(r,"change:visible",this.updateVisibility),this.listenTo(r,"change:name change:className change:full",this.render),this.listenTo(r,"change:value",this.onValueChange),this.listenTo(r,"change:parentTarget",this.updateStatus),this.listenTo(n,"change:device",this.onValueChange);var i=this.init&&this.init.bind(this);i&&i()}},{key:"remove",value:function(){var e=this;c.View.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach((function(t){return e[t]=null})),this.__destroyFn(this._getClbOpts())}},{key:"updateStatus",value:function(){var e,t=this.model,n=this.pfx,r=this.ppfx,i=this.config,o="".concat(r,"four-color"),s="".concat(r,"color-warn"),a=this.$el.children(".".concat(n,"label")),l=this.getClearEl(),c=l?l.style:{};a.removeClass("".concat(o," ").concat(s)),c.display="none",t.hasValue({noParent:!0})&&i.highlightChanged?(a.addClass(o),i.clearProperties&&(c.display="")):t.hasValue()&&i.highlightComputed&&a.addClass(s),null===(e=this.parent)||void 0===e||e.updateStatus()}},{key:"clear",value:function(e){e&&e.stopPropagation(),this.model.clear()}},{key:"getClearEl",value:function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(U,"]"))),this.clearEl}},{key:"inputValueChanged",value:function(e){e&&e.stopPropagation(),this.emit||this.model.upValue(e.target.value)}},{key:"onValueChange",value:function(e,t){this.setValue(this.model.getFullValue()),this.updateStatus()}},{key:"setValue",value:function(e){var t=this.model,n=(0,s.isUndefined)(e)||""===e?t.getDefaultValue():e;if(this.update)return this.__update(n);this.__setValueInput(n)}},{key:"__setValueInput",value:function(e){var t=this.getInputEl();t&&(t.value=e)}},{key:"getInputEl",value:function(){return this.input||(this.input=this.el.querySelector("input")),this.input}},{key:"updateVisibility",value:function(){this.el.style.display=this.model.isVisible()?"":"none"}},{key:"clearCached",value:function(){this.clearEl=null,this.input=null,this.$input=null}},{key:"__unset",value:function(){var e=this.unset&&this.unset.bind(this);e&&e(this._getClbOpts())}},{key:"__update",value:function(e){var t=this.update&&this.update.bind(this);t&&t(V(V({},this._getClbOpts()),{},{value:e}))}},{key:"__change",value:function(){for(var e=this.emit&&this.emit.bind(this),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e&&e.apply(void 0,[this._getClbOpts()].concat(n))}},{key:"__updateStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.complete,r=t.partial,i=((0,d.Z)(t,Z),this.model),o=!1!==n&&!0!==r;(0,a.isObject)(e)?i.__upTargetsStyle(e,{avoidStore:!o}):i.upValue(e,{partial:!o})}},{key:"_getClbOpts",value:function(){var e=this.model;return{el:this.el,createdEl:this.createdEl,property:e,props:e.attributes,change:this.__change,updateStyle:this.__updateStyle}}},{key:"render",value:function(){this.clearCached();var e=this.pfx,t=this.model,n=this.el,r=this.$el,i=t.getName(),o=t.getType(),s=t.get("className")||"",a="".concat(e,"property"),l="number"===o?"".concat(e).concat(o," ").concat(e,"integer"):"".concat(e).concat(o);this.createdEl&&this.__destroyFn(this._getClbOpts()),r.empty().append(this.template(t)),r.find("[data-sm-label]").append(this.templateLabel(t));var c=this.create&&this.create.bind(this);this.createdEl=c&&c(this._getClbOpts()),r.find("[data-sm-fields]").append(this.createdEl||this.templateInput(t)),n.className="".concat(a," ").concat(l," ").concat(a,"__").concat(i," ").concat(s).trim(),n.className+=t.isFull()?" ".concat(a,"--full"):"";var u=this.onRender&&this.onRender.bind(this);u&&u(),this.setValue(t.getValue())}}]),n}(c.View);G.prototype.events=r({change:"inputValueChanged"},"click [".concat(U,"]"),"clear");var q=n(9283);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var Y=function(e){(0,g.Z)(n,e);var t=K(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"initialize",value:function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix||"",this.properties=[],this.parent=e.parent;var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.render)}},{key:"addTo",value:function(e,t,n){this.add(e,null,n)}},{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.parent,i=this.config,o=t||this.el,s=new e.typeView({model:e,config:i});r&&(s.parent=r),s.render();var a=s.el;this.properties.push(s),(0,q.$Q)(o,a,n.at)}},{key:"remove",value:function(){c.View.prototype.remove.apply(this,arguments),this.clearItems()}},{key:"clearItems",value:function(){this.properties.forEach((function(e){return e.remove()})),this.properties=[]}},{key:"render",value:function(){var e=this,t=this.$el,n=this.pfx;this.clearItems();var r=document.createDocumentFragment();return this.collection.forEach((function(t){return e.add(t,r)})),t.empty(),t.append(r),t.attr("class","".concat(n,"properties")),this}}]),n}(c.View);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var ee=function(e){(0,g.Z)(n,e);var t=Q(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"templateInput",value:function(){var e=this.pfx;return'\n      <div class="'.concat(e,"field ").concat(e,'composite">\n        <span id="').concat(e,'input-holder"></span>\n      </div>\n    ')}},{key:"remove",value:function(){var e;null===(e=this.props)||void 0===e||e.remove(),G.prototype.remove.apply(this,arguments)}},{key:"onValueChange",value:function(){}},{key:"onRender",value:function(){var e=this.model,t=this.pfx,n=e.get("properties");if(n.length&&!this.props){var r=e.isDetached(),i=new Y({config:J(J({},this.config),{},{highlightComputed:r,highlightChanged:r}),collection:n,parent:this});i.render(),this.$el.find("#".concat(t,"input-holder")).append(i.el),this.props=i}}},{key:"clearCached",value:function(){G.prototype.clearCached.apply(this,arguments),this.props=null}}]),n}(G);function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var ne=function(e){(0,g.Z)(n,e);var t=te(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"events",value:function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}}},{key:"template",value:function(){var e=this.pfx,t=this.ppfx,n=this.em,r=null==n?void 0:n.getConfig().icons,i=(null==r?void 0:r.close)||"",o=(null==r?void 0:r.move)||"";return'\n      <div class="'.concat(e,'label-wrp">\n        <div id="').concat(e,'move" class="').concat(t,'no-touch-actions" data-move-layer>\n          ').concat(o,'\n        </div>\n        <div id="').concat(e,'label" data-label></div>\n        <div id="').concat(e,'preview-box" class="').concat(e,'layer-preview" style="display: none" data-preview-box>\n          <div id="').concat(e,'preview" class="').concat(e,'layer-preview-cnt" data-preview></div>\n        </div>\n        <div id="').concat(e,'close-layer" class="').concat(e,'btn-close" data-close-layer>\n          ').concat(i,'\n        </div>\n      </div>\n      <div id="').concat(e,'inputs" data-properties></div>\n    ')}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.model,n=e.config||{};this.em=n.em,this.config=n,this.sorter=e.sorter,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.propertyView=e.propertyView;var r=this.propertyView.model;this.listenTo(t,"destroy remove",this.remove),this.listenTo(t,"change:values",this.updateLabel),this.listenTo(r,"change:selectedLayer",this.updateVisibility),t.view=this,t.set({droppable:0,draggable:1}),this.$el.data("model",t)}},{key:"initSorter",value:function(){var e;null===(e=this.sorter)||void 0===e||e.startSort(this.el)}},{key:"removeItem",value:function(e){e&&e.stopPropagation(),this.model.remove()}},{key:"select",value:function(){this.model.select()}},{key:"getPropertiesWrapper",value:function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl}},{key:"getPreviewEl",value:function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl}},{key:"getLabelEl",value:function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl}},{key:"updateLabel",value:function(){var e=this.model,t=e.getLabel();if(this.getLabelEl().innerHTML=t,e.hasPreview()){var n=this.getPreviewEl(),r=e.getStylePreview({number:{min:-3,max:3}}),i=(0,s.keys)(r).map((function(e){return"".concat(e,":").concat(r[e])})).join(";");n.setAttribute("style",i)}}},{key:"updateVisibility",value:function(){var e=this.pfx,t=this.model,n=this.propertyView,r=this.getPropertiesWrapper(),i=t.isSelected();r.style.display=i?"":"none",this.$el[i?"addClass":"removeClass"]("".concat(e,"active")),i&&r.appendChild(n.props.el)}},{key:"render",value:function(){var e=this.el,t=this.pfx,n=this.model;return e.innerHTML=this.template(),e.className="".concat(t,"layer"),n.hasPreview()&&(e.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this}}]),n}(c.View);function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var ie=function(e){(0,g.Z)(n,e);var t=re(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"initialize",value:function(e){var t=this.collection,n=e.config||{},r=n.em,i=n.stylePrefix||"",o=n.pStylePrefix||"";this.config=n,this.pfx=i,this.ppfx=o,this.propertyView=e.propertyView,this.className="".concat(i,"layers ").concat(o,"field"),this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.reset),this.items=[];var s=r?r.get("Utils"):"";this.sorter=s?new s.Sorter({container:this.el,ignoreViewChildren:1,containerSel:".".concat(i,"layers"),itemSel:".".concat(i,"layer"),pfx:n.pStylePrefix}):"",t.view=this,this.$el.data("model",t),this.$el.data("collection",t)}},{key:"addTo",value:function(e){var t=this.collection.indexOf(e);this.addToCollection(e,null,t)}},{key:"addToCollection",value:function(e,t,n){var r=t||null,i=this.propertyView,o=this.config,s=this.sorter,a=this.$el,l=new ne({model:e,config:o,sorter:s,propertyView:i}),c=l.render().el;if(this.items.push(l),r)r.appendChild(c);else if(void 0!==n){var u="before";a.children().length===n&&(n--,u="after"),n<0?a.append(c):a.children().eq(n)[u](c)}else a.append(c);return c}},{key:"reset",value:function(e,t){this.clearItems(t),this.render()}},{key:"remove",value:function(){this.clearItems(),c.View.prototype.remove.apply(this,arguments)}},{key:"clearItems",value:function(){this.items.forEach((function(e){return e.remove()})),this.items=[]}},{key:"render",value:function(){var e=this,t=this.$el,n=this.sorter,r=document.createDocumentFragment();return t.empty(),this.collection.forEach((function(t){return e.addToCollection(t,r)})),t.append(r),t.attr("class",this.className),n&&(n.plh=null),this}}]),n}(c.View);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var le=function(e){(0,g.Z)(n,e);var t=ae(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"events",value:function(){return se(se({},ee.prototype.events),{},{"click [data-add-layer]":"addLayer",change:""})}},{key:"templateInput",value:function(){var e=this.pfx,t=this.em,n=null==t?void 0:t.getConfig().icons,r=(null==n?void 0:n.plus)||"+";return'\n      <div class="'.concat(e,"field ").concat(e,'stack">\n        <button type="button" id="').concat(e,'add" data-add-layer>\n          ').concat(r,"\n        </button>\n        <div data-layers-wrapper></div>\n      </div>\n    ")}},{key:"init",value:function(){var e=this.model;this.listenTo(e.__getLayers(),"change reset",this.updateStatus)}},{key:"addLayer",value:function(){this.model.addLayer({},{at:0})}},{key:"setValue",value:function(){}},{key:"remove",value:function(){var e;null===(e=this.layersView)||void 0===e||e.remove(),ee.prototype.remove.apply(this,arguments)}},{key:"clearCached",value:function(){ee.prototype.clearCached.apply(this,arguments),this.layersView=null}},{key:"onRender",value:function(){var e=this.model,t=this.el,n=this.config,r=e.get("properties");if(r.length&&!this.props){var i=new Y({config:se(se({},n),{},{highlightComputed:!1,highlightChanged:!1}),collection:r,parent:this});i.render();var o=new ie({collection:e.__getLayers(),config:n,propertyView:this});o.render(),t.querySelector("[data-layers-wrapper]").appendChild(o.el),this.props=i,this.layersView=o}}}]),n}(ee);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var de=function(e){(0,g.Z)(n,e);var t=he(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"events",value:function(){return ue(ue({},G.prototype.events),{},{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})}},{key:"templateInput",value:function(){var e,t=this.pfx,n=this.em,r=null===(e=this.em)||void 0===e?void 0:e.getConfig().icons,i=null==r?void 0:r.close;return'\n      <div class="'.concat(t,"field ").concat(t,"file\">\n        <div id='").concat(t,"input-holder'>\n          <div class=\"").concat(t,'btn-c">\n            <button class="').concat(t,'btn" id="').concat(t,'images" type="button" data-open-assets>\n              ').concat(n.t("styleManager.fileButton"),'\n            </button>\n          </div>\n          <div style="clear:both;"></div>\n        </div>\n        <div id="').concat(t,'preview-box" class="').concat(t,'preview-file" data-preview-box>\n          <div id="').concat(t,'preview-file" class="').concat(t,'preview-file-cnt" data-preview></div>\n          <div id="').concat(t,'close" class="').concat(t,'preview-file-close" data-clear-asset>').concat(i,"</div>\n        </div>\n      </div>\n    ")}},{key:"__setValueInput",value:function(e){var t=this.model,n=this.el,r=t.getDefaultValue(),i=n.querySelector("[data-preview-box]"),o=n.querySelector("[data-preview]");i.style.display=e&&e!==r?"":"none",o.style.backgroundImage=e||t.getDefaultValue()}},{key:"openAssetManager",value:function(){var e,t=this,n=null===(e=this.em)||void 0===e?void 0:e.get("AssetManager");null==n||n.open({select:function(e,r){var i=(0,s.isString)(e)?e:e.get("src");t.model.upValue(i,{partial:!r}),r&&n.close()},types:["image"],accept:"image/*"})}}]),n}(G);function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var pe=function(e){(0,g.Z)(n,e);var t=fe(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"templateInput",value:function(){return""}},{key:"init",value:function(){var e=this.model;this.listenTo(e,"change:unit",this.onValueChange),this.listenTo(e,"change:units",this.render)}},{key:"setValue",value:function(){}},{key:"onRender",value:function(){var e=this.ppfx,t=this.model,n=this.el;if(!this.inputInst){var r=t.input;r.ppfx=e,r.render(),n.querySelector(".".concat(e,"fields")).appendChild(r.el),this.input=r.inputEl.get(0),this.inputInst=r}}},{key:"clearCached",value:function(){G.prototype.clearCached.apply(this,arguments),this.inputInst=null}}]),n}(G),ge=n(1511);function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var ve=function(e){(0,g.Z)(n,e);var t=me(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"setValue",value:function(e){var t;null===(t=this.inputInst)||void 0===t||t.setValue(e,{fromTarget:1,def:this.model.getDefaultValue()})}},{key:"remove",value:function(){var e=this;pe.prototype.remove.apply(this,arguments);var t=this.inputInst;t&&t.remove&&t.remove(),["inputInst","$color"].forEach((function(t){return e[t]=null}))}},{key:"__handleChange",value:function(e,t){this.model.upValue(e,{partial:t})}},{key:"onRender",value:function(){if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var e=this.ppfx,t=this.model,n=this.em,r=this.el,i=new ge.Z({target:n,model:t,ppfx:e,onChange:this.__handleChange}).render();r.querySelector(".".concat(e,"fields")).appendChild(i.el),this.input=i.inputEl.get(0),this.inputInst=i}}}]),n}(pe);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var xe=function(e){(0,g.Z)(n,e);var t=we(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"defaults",value:function(){return be(be({},C.getDefaults()),{},{options:[],full:0})}},{key:"getOptions",value:function(){var e=this.attributes,t=e.options,n=e.list;return(t&&t.length?t:n)||[]}},{key:"getOption",value:function(e){var t=this,n=e||this.getValue();return this.getOptions().filter((function(e){return t.getOptionId(e)===n}))[0]||null}},{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.set("options",e),this}},{key:"addOption",value:function(e){if(e){var t=this.getOptions();this.setOptions([].concat((0,i.Z)(t),[e]))}return this}},{key:"getOptionId",value:function(e){return(0,a.isDef)(e.id)?e.id:e.value}},{key:"getOptionLabel",value:function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).locale,r=void 0===n||n,i=((0,s.isString)(e)?this.getOption(e):e)||{},o=this.getOptionId(i),a=i.label||i.name||o,l=this.getId();return r&&(null===(t=this.em)||void 0===t?void 0:t.t("styleManager.options.".concat(l,".").concat(o)))||a}},{key:"initialize",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];C.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)}},{key:"__onOptionChange",value:function(){this.set("list",this.get("options"))}}]),n}(C);function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var Ce=function(e){(0,g.Z)(n,e);var t=ke(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"templateInput",value:function(){var e=this.pfx,t=this.ppfx;return'\n      <div class="'.concat(t,"field ").concat(t,'select">\n        <span id="').concat(e,'input-holder"></span>\n        <div class="').concat(t,'sel-arrow">\n          <div class="').concat(t,'d-s-arrow"></div>\n        </div>\n      </div>\n    ')}},{key:"initialize",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];G.prototype.initialize.apply(this,t),this.listenTo(this.model,"change:options",this.updateOptions)}},{key:"updateOptions",value:function(){this.input=null,this.onRender()}},{key:"onRender",value:function(){var e=this.model,t=this.pfx,n=e.getOptions();if(!this.input){var r=[];n.forEach((function(t){var n=e.getOptionId(t),i=e.getOptionLabel(n),o=t.style?t.style.replace(/"/g,"&quot;"):"",s=o?'style="'.concat(o,'"'):"",a=n.replace(/"/g,"&quot;");r.push('<option value="'.concat(a,'" ').concat(s,">").concat(i,"</option>"))}));var i=this.el.querySelector("#".concat(t,"input-holder"));i.innerHTML="<select>".concat(r.join(""),"</select>"),this.input=i.firstChild}}},{key:"__setValueInput",value:function(e){var t=this.model,n=this.getInputEl(),r=t.getOptions()[0],i=r?t.getOptionId(r):"";n&&(n.value=e||i)}}]),n}(G);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var Ee=function(e){(0,g.Z)(n,e);var t=Oe(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"defaults",value:function(){return _e(_e({},xe.getDefaults()),{},{full:1})}}]),n}(xe);function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var Ae=function(e){(0,g.Z)(n,e);var t=Te(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"templateInput",value:function(){var e=this.ppfx;return'<div class="'.concat(e,"field ").concat(e,'field-radio"></div>')}},{key:"onRender",value:function(){var e=this.pfx,t=this.ppfx,n=this.model,r="".concat(t,"radio-item-label"),i=n.getName(),o=n.getOptions(),s="".concat(e,"radio ").concat(e,"radio-").concat(i),a=n.cid;if(!this.input){var l=[];o.forEach((function(o){var c=o.className?"".concat(o.className," ").concat(e,"icon ").concat(r):"",u=n.getOptionId(o),h="".concat(i,"-").concat(u,"-").concat(a),d=c?"":n.getOptionLabel(u),f=o.title?'title="'.concat(o.title,'"'):"",p=n.getValue()===u?"checked":"";l.push('\n          <div class="'.concat(t,'radio-item">\n            <input type="radio" class="').concat(s,'" id="').concat(h,'" name="').concat(i,"-").concat(a,'" value="').concat(u,'" ').concat(p,'/>\n            <label class="').concat(c||r,'" ').concat(f,' for="').concat(h,'">').concat(d,"</label>\n          </div>\n        "))}));var c=this.el.querySelector(".".concat(t,"field"));c.innerHTML='<div class="'.concat(t,'radio-items">').concat(l.join(""),"</div>"),this.input=c.firstChild}}},{key:"__setValueInput",value:function(e){var t,n=this.model,r=e||n.getDefaultValue(),i=null===(t=this.getInputEl())||void 0===t?void 0:t.querySelector('[value="'.concat(r,'"]'));i&&(i.checked=!0)}}]),n}(Ce),$e=n(7610);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var Me=function(e){(0,g.Z)(n,e);var t=Pe(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"defaults",value:function(){return Re(Re({},C.getDefaults()),{},{units:[],unit:"",min:"",max:"",step:1})}},{key:"getUnits",value:function(){return this.get("units")||[]}},{key:"getUnit",value:function(){return this.get("unit")}},{key:"getMin",value:function(){return this.get("min")}},{key:"getMax",value:function(){return this.get("max")}},{key:"getStep",value:function(){return this.get("step")}},{key:"upUnit",value:function(e,t){return this._up({unit:e},t)}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C.callParentInit(C,this,e,t);var n=this.get("unit"),r=this.get("units");this.input=(0,a.hasWin)()&&new $e.Z({model:this}),r.length&&!n&&this.set("unit",r[0],{silent:1}),C.callInit(this,e,t)}},{key:"__getClearProps",value:function(){return Re(Re({},C.prototype.__getClearProps()),{},{unit:""})}},{key:"parseValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=C.prototype.parseValue.apply(this,arguments),r=this.input.validateInputValue(n.value,Re({deepCheck:1},t)),i=r.value,o=r.unit;return n.value=i,n.unit=o,n}},{key:"getFullValue",value:function(){var e=this.get("value"),t=this.get("unit");return e=(0,s.isUndefined)(e)?"":e,t=!(0,s.isUndefined)(t)&&e?t:"",e="".concat(e).concat(t),C.prototype.getFullValue.apply(this,[e])}}]),n}(C);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var Ie=function(e){(0,g.Z)(n,e);var t=Ne(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"defaults",value:function(){return je(je({},Me.getDefaults()),{},{showInput:1})}}]),n}(Me);function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var Ze=function(e){(0,g.Z)(n,e);var t=He(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"events",value:function(){return Be(Be({},pe.prototype.events),{},{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})}},{key:"templateInput",value:function(e){var t=this.ppfx;return'\n      <div class="'.concat(t,"field ").concat(t,'field-range">\n        <input type="range" min="').concat(e.get("min"),'" max="').concat(e.get("max"),'" step="').concat(e.get("step"),'"/>\n      </div>\n    ')}},{key:"getSliderEl",value:function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider}},{key:"inputValueChanged",value:function(){this.model.upValue(this.getSliderEl().value)}},{key:"inputValueChangedSoft",value:function(){this.model.upValue(this.getSliderEl().value,{partial:!0})}},{key:"setValue",value:function(e){var t=this.model,n=t.parseValue(e);this.getSliderEl().value=""===e?t.getDefaultValue():parseFloat(n.value),pe.prototype.setValue.apply(this,arguments)}},{key:"onRender",value:function(){pe.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")}},{key:"clearCached",value:function(){pe.prototype.clearCached.apply(this,arguments),this.slider=null}}]),n}(pe),ze=u().Collection.extend(y.Z).extend({extendViewApi:1,init:function(){var e=this.opts,t=this.em,n=e.module||(null==t?void 0:t.get("StyleManager"));n&&(n.__listenAdd(this,n.events.propertyAdd),n.__listenRemove(this,n.events.propertyRemove))},types:[{id:"stack",model:H,view:le,isType:function(e){if(e&&"stack"==e.type)return e}},{id:"composite",model:T,view:ee,isType:function(e){if(e&&"composite"==e.type)return e}},{id:"file",model:C,view:de,isType:function(e){if(e&&"file"==e.type)return e}},{id:"color",model:C,view:ve,isType:function(e){if(e&&"color"==e.type)return e}},{id:"select",model:xe,view:Ce,isType:function(e){if(e&&"select"==e.type)return e}},{id:"radio",model:Ee,view:Ae,isType:function(e){if(e&&"radio"==e.type)return e}},{id:"slider",model:Ie,view:Ze,isType:function(e){if(e&&"slider"==e.type)return e}},{id:"integer",model:Me,view:pe,isType:function(e){if(e&&"integer"==e.type)return e}},{id:"number",model:Me,view:pe,isType:function(e){if(e&&"number"==e.type)return e}},{id:"base",model:C,view:G,isType:function(e){return e.type="base",e}}]}),Ve=["extend"];function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var qe=function(e){(0,g.Z)(n,e);var t=Ge(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"defaults",value:function(){return{id:"",name:"",open:!0,visible:!0,buildProps:"",extendBuilded:1,properties:[]}}},{key:"initialize",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).em;this.em=n;var r=e||{},i=this.buildProperties(r.buildProps),o=this.get("name")||"",a=[];!this.get("id")&&this.set("id",o.replace(/ /g,"_").toLowerCase()),a=(a=i?this.extendProperties(i):this.get("properties").map((function(e){return(0,s.isString)(e)?t.buildProperties(e)[0]:e})).filter(Boolean)).map((function(e){return t.checkExtend(e)}));var l=new ze(a,{em:n});l.sector=this,this.set("properties",l)}},{key:"getId",value:function(){return this.get("id")}},{key:"getName",value:function(){var e,t=this.getId();return(null===(e=this.em)||void 0===e?void 0:e.t("styleManager.sectors.".concat(t)))||this.get("name")}},{key:"setName",value:function(e){return this.set("name",e)}},{key:"isOpen",value:function(){return!!this.get("open")}},{key:"setOpen",value:function(e){return this.set("open",e)}},{key:"isVisible",value:function(){return!!this.get("visible")}},{key:"getProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.get("properties");return(t.models?(0,i.Z)(t.models):t).filter((function(t){var n=!0;return e.withValue&&(n=t.hasValue({noParent:!0})),e.withParentValue&&(n=!t.hasValue({noParent:!0})&&t.hasValue()),n}))}},{key:"getProperty",value:function(e){return this.getProperties().filter((function(t){return t.get("id")===e}))[0]||null}},{key:"addProperty",value:function(e,t){return this.get("properties").add(this.checkExtend(e),t)}},{key:"extendProperties",value:function(e,t,n){for(var r=e.length,i=t||this.get("properties"),o=this.get("extendBuilded"),a=[],l=0,c=i.length;l<c;l++){for(var u=i[l],h=0,d=0;d<r;d++){var f=e[d];if(u.property!=f.property&&u.id!=f.property);else{var p=u.properties;p&&p.length&&(u.properties=this.extendProperties(f.properties||[],p,1)),e[d]=o?(0,s.extend)(f,u):u,a[d]=e[d],h=1}}h||(e.push(u),a.push(u))}return n?a.filter((function(e){return e})):e}},{key:"checkExtend",value:function(e){var t=((0,s.isString)(e)?{extend:e}:e)||{},n=t.extend,r=(0,d.Z)(t,Ve);return n?Ue(Ue({},this.buildProperties([n])[0]||{}),r):e}},{key:"buildProperties",value:function(e){var t,n=e||[];if(!n.length)return[];var r=null===(t=this.em)||void 0===t?void 0:t.get("StyleManager").builtIn;return null==r?void 0:r.build(n)}}]),n}(c.Model);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var Je=function(e){(0,g.Z)(n,e);var t=Xe(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"initialize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.module,r=t.em;this.em=r,this.module=n,this.listenTo(this,"reset",this.onReset)}},{key:"model",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.collection.em;return new qe(e,Ye(Ye({},t),{},{em:n}))}},{key:"onReset",value:function(e){((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousModels||[]).forEach((function(e){return e.get("properties").reset()}))}}]),n}(c.Collection),Qe=n(885),et=["extend"];function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt,it=function(e){return e.map((function(e){return{id:e}}))},ot=function(){function e(){(0,f.Z)(this,e),this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var t=", sans-serif",n=["flex-start","flex-end","center"],r=[].concat(n,["baseline","stretch"]);this.optsBgSize=it(["auto","cover","contain"]),this.optsBgAttach=it(["scroll","fixed","local"]),this.optsBgRepeat=it(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=it(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=it(["visible","hidden","scroll","auto"]),this.optsDir=it(["row","row-reverse","column","column-reverse"]),this.opstDisplay=it(["block","inline","inline-block","flex","none"]),this.optsTransitFn=it(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=it(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=it(["none","left","right"]),this.optsPos=it(["static","relative","absolute","fixed"]),this.optsTextAlign=it(["left","center","right","justify"]),this.optsFlexAlign=it(r),this.optsJustCont=it([].concat(n,["space-between","space-around","space-evenly"])),this.optsAlignCont=it([].concat(n,["space-between","space-around","stretch"])),this.optsAlignSelf=it(["auto"].concat((0,i.Z)(r))),this.optsTransitProp=it(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=it(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=it(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+t,"Arial Black, Gadget"+t,"Brush Script MT"+t,"Comic Sans MS, cursive"+t,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+t,"Impact, Charcoal"+t,"Lucida Sans Unicode, Lucida Grande"+t,"Tahoma, Geneva"+t,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+t,"Verdana, Geneva"+t].map((function(e){return{id:e,label:e.split(",")[0]}})),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return(0,p.Z)(e,[{key:"__sub",value:function(e){var t=this;return function(){return e.map((function(e){if((0,s.isString)(e))return t.get(e);var n=e.extend,r=(0,d.Z)(e,et);return nt(nt({},t.get(n)),r)}))}}},{key:"init",value:function(){var e=this,t=this.fixedValues,n=this.requireFlex,i=this.typeNumber;return this.props={},[["text-shadow-h",{type:i,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:t},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:n},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:i,default:"0",requiresParent:n}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black"}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:n},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:n},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(e,t){var n=t.values,r=n["box-shadow-h"],i=n["box-shadow-v"],o=n["box-shadow-blur"],s=n["box-shadow-spread"];return"".concat(r," ").concat(i," ").concat(o," ").concat(s)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(e,t){var n=t.values,r=n["text-shadow-h"],i=n["text-shadow-v"],o=n["text-shadow-blur"];return"".concat(r," ").concat(i," ").concat(o)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(e,t){var n=t.values;return[n["background-repeat-sub"]||"",n["background-position-sub"]||"",n["background-attachment-sub"]||"",n["background-size-sub"]||""].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(e,t){var n=t.property,r=e[t.name]||"",i=n.getLayerSeparator();return r?r.split(i).map((function(e){var t=n.__parseFn(e);return{name:t.name,value:t.value}})):[]},toStyle:function(e,t){return r({},t.name,"".concat(e.name,"(").concat(e.value,")"))},properties:[{property:"name",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(e){var t=e.property;if(e.to.value){var n=nt({},t.getOption().propValue||{}),r=t.getParent().getProperty("value"),i=r.getUnit();(!i||(null==n?void 0:n.units.indexOf(i))<0)&&(n.unit=(null==n?void 0:n.units[0])||""),r.up(n)}}},{property:"value",type:this.typeNumber,default:"0",full:!0}]}]].forEach((function(t){var n=(0,Qe.Z)(t,3),r=n[0],i=n[1],o=n[2];e.add(r,i||{},{from:o})})),this}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).from||"",r=nt(nt({},this.props[n||e]||{}),{},{property:e},t);return r.properties&&(0,s.isFunction)(r.properties)&&(r.properties=r.properties()),this.props[e]=r,r}},{key:"get",value:function(e){return this.props[e]||null}},{key:"build",value:function(e){var t=this,n=[];return((0,s.isString)(e)?[e]:e).forEach((function(e){n.push(t.get(e)||{property:e})})),n}}]),e}(),st=n(168),at=n(7539);function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var ct=function(e){(0,g.Z)(n,e);var t=lt(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"template",value:function(e){var t,n=e.pfx,r=e.label,i=null===(t=this.em)||void 0===t?void 0:t.getConfig().icons,o=(null==i?void 0:i.caret)||"",s="".concat(n,"sector-");return(0,at.Z)(rt||(rt=(0,st.Z)(['\n      <div class="','title" data-sector-title>\n        <div class="','caret">$','</div>\n        <div class="','label">',"</div>\n      </div>\n    "])),s,s,o,s,r)}},{key:"events",value:function(){return{"click [data-sector-title]":"toggle"}}},{key:"initialize",value:function(e){var t=e.config||{},n=this.model,r=t.em;this.config=t,this.em=r,this.pfx=t.stylePrefix||"",this.listenTo(n,"destroy remove",this.remove),this.listenTo(n,"change:open",this.updateOpen),this.listenTo(n,"change:visible",this.updateVisibility)}},{key:"updateOpen",value:function(){var e=this.$el,t=this.model,n=this.pfx,r=t.isOpen();e[r?"addClass":"removeClass"]("".concat(n,"open")),this.getPropertiesEl().style.display=r?"":"none"}},{key:"updateVisibility",value:function(){this.el.style.display=this.model.isVisible()?"":"none"}},{key:"getPropertiesEl",value:function(){var e=this.$el,t=this.pfx;return e.find(".".concat(t,"properties")).get(0)}},{key:"toggle",value:function(){var e=this.model;e.setOpen(!e.get("open"))}},{key:"renderProperties",value:function(){var e=this.model,t=this.config,n=e.get("properties");if(n){var r=new Y({collection:n,config:t});this.$el.append(r.render().el)}}},{key:"render",value:function(){var e=this.pfx,t=this.model,n=this.$el,r=t.getId(),i=t.getName();return n.html(this.template({pfx:e,label:i})),this.renderProperties(),n.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(r," no-select")),this.updateOpen(),this}}]),n}(c.View);function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var ht=function(e){(0,g.Z)(n,e);var t=ut(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.module,n=e.config,r=void 0===n?{}:n,i=this.collection;this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.config=r,this.module=t,this.listenTo(i,"add",this.addTo),this.listenTo(i,"reset",this.render)}},{key:"remove",value:function(){var e=this;c.View.prototype.remove.apply(this,arguments),["config","module","em"].forEach((function(t){return e[t]={}}))}},{key:"addTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.addToCollection(e,null,n)}},{key:"addToCollection",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.config,i=this.el,o=t||i,s=new ct({model:e,config:r}).render().el;return(0,q.$Q)(o,s,n.at),s}},{key:"render",value:function(){var e=this,t=this.$el,n=this.pfx,r=this.ppfx;t.empty();var i=document.createDocumentFragment();return this.collection.each((function(t){return e.addToCollection(t,i)})),t.append(i),t.addClass("".concat(n,"sectors ").concat(r,"one-bg ").concat(r,"two-color")),this}}]),n}(c.View);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt="style",gt="".concat(pt,":"),mt="".concat(gt,"sector"),vt="".concat(mt,":add"),yt="".concat(mt,":remove"),bt="".concat(mt,":update"),wt="".concat(gt,"property"),xt="".concat(wt,":add"),kt="".concat(wt,":remove"),Ct="".concat(wt,":update"),St="".concat(gt,"layer:select"),_t="".concat(gt,"target"),Ot="".concat(gt,"custom"),Et=function(e){return e||0===e},Tt=function(){var e,t,n;return ft(ft({},l.Z),{},{Sector:qe,events:{all:pt,sectorAdd:vt,sectorRemove:yt,sectorUpdate:bt,propertyAdd:xt,propertyRemove:kt,propertyUpdate:Ct,layerSelect:St,target:_t,custom:Ot},name:"StyleManager",init:function(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.bindAll)(this,"__clearStateTarget"),this.__initConfig(h,r);var i=this.config,o=i.em,a=i.pStylePrefix;a&&(i.stylePrefix=a+i.stylePrefix),this.builtIn=new ot,e=new ze([],{em:o,module:this}),t=new Je([],ft(ft({},i),{},{module:this}));var l=new c.Model({targets:[]});this.model=l,this.__listenAdd(t,vt),this.__listenRemove(t,yt),this.__listenUpdate(t,bt);var u="component:toggled component:update:classes change:state change:device frame:resized selector:type";this.upAll=(0,s.debounce)((function(){return n.__upSel()})),l.listenTo(o,u,this.upAll),l.listenTo(o,"component:toggled",this.__clearStateTarget);var d=(0,s.debounce)((function(){n.__upProps(),n.__trgCustom()}));l.listenTo(o,"styleable:change undo redo",d);var f=(0,s.debounce)((function(){return n.__trgCustom()}));return l.listenTo(o,"".concat(St," ").concat(_t),f),l.on("change:lastTarget",(function(){return o.trigger(_t,n.getSelected())})),this},__upSel:function(){this.select(this.em.getSelectedAll())},__trgCustom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},__trgEv:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.em).trigger.apply(t,[e].concat(r))},__clearStateTarget:function(){var e=this,t=this.em,n=this.__getStateTarget();n&&(null==t||t.skip((function(){t.get("CssComposer").remove(n),e.model.set({stateTarget:null})})))},onLoad:function(){t.add(this.config.sectors,{silent:!0})},postRender:function(){this.__appendTo()},addSector:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getSector(e);return i||(n.id=e,i=t.add(n,r)),i},getSector:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.where({id:e})[0];return!r&&n.warn&&this._logNoSector(e),r||null},getSectors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t&&t.models?e.array?(0,i.Z)(t.models):t:[];return e.visible?n.filter((function(e){return e.isVisible()})):n},removeSector:function(e){return this.getSectors().remove(this.getSector(e,{warn:1}))},addProperty:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getSector(e,{warn:1}),i=null;return r&&(i=r.addProperty(t,n)),i},getProperty:function(e,t){var n,r=this.getSector(e,{warn:1});return r&&(n=r.get("properties").filter((function(e){return e.get("property")===t||e.get("id")===t}))[0]),n||null},getProperties:function(e){var t=null,n=this.getSector(e,{warn:1});return n&&(t=n.get("properties")),t},removeProperty:function(e,t){var n=this.getProperties(e);return n?n.remove(this.getProperty(e,t)):null},select:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.em,i=(0,s.isArray)(e)?e:[e],o=n.stylable,l=r.get("CssComposer"),c=[];i.filter(Boolean).forEach((function(e){var t=e;if((0,s.isString)(e)){var n=l.getRule(e)||l.setRule(e);!(0,s.isUndefined)(o)&&n.set({stylable:o}),t=n}c.push(t)}));var u=n.component||c.filter((function(e){return(0,a.isComponent)(e)})).reverse()[0];c=c.map((function(e){return t.getModelToStyle(e)}));var h=r.getState(),d=c.slice().reverse()[0],f=this.getParentRules(d,{state:h,component:u}),p=this.__getStateTarget();return r.skip((function(){var e;if(h&&null!=d&&null!==(e=d.getState)&&void 0!==e&&e.call(d)){var t=d.getStyle();p?p.setStyle(t):p=l.getAll().add({selectors:"gjs-selected",style:t,shallow:!0,important:!0})}else p&&(l.remove(p),p=null)})),this.model.set({targets:c,lastTarget:d,lastTargetParents:f,stateTarget:p,component:u}),this.__upProps(n),c},getSelected:function(){return this.model.get("lastTarget")||null},getSelectedAll:function(){return this.model.get("targets")},getSelectedParents:function(){return this.model.get("lastTargetParents")||[]},__getStateTarget:function(){return this.model.get("stateTarget")||null},addStyleTargets:function(e,t){this.getSelectedAll().map((function(n){return n.addStyle(e,t)}));var n=this.getSelected(),r=this.__getStateTarget();n&&(null==r||r.setStyle(n.getStyle(),t))},getBuiltIn:function(e){return this.builtIn.get(e)},getBuiltInAll:function(){return this.builtIn.props},addBuiltIn:function(e,t){return this.builtIn.add(e,t)},getModelToStyle:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.em,i=n.skipAdd;if(r&&null!==(t=e)&&void 0!==t&&t.toHTML){var o,s=r.getConfig(),a=r.get("UndoManager"),l=r.get("CssComposer"),c=r.get("SelectorManager"),u=c?c.getConfig():{},h=s.devicePreviewMode?"":r.get("state"),d=e.get("classes").getStyleable(),f=d.length,p=!u.componentFirst||n.useClasses,g={noCount:1},m={state:h,addOpts:g};if(a.stop(),f&&p){var v=r.getCurrentMedia();(o=l.get(d,h,v))||i||(o=l.add(d,h,v,{},g))}else if(s.avoidInlineStyle){var y=e.getId();!(o=l.getIdRule(y,m))&&!i&&(o=l.setIdRule(y,{},m)),e.is("wrapper")&&o.set("wrapper",1,g)}o&&(e=o),a.start()}return e},getParentRules:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.state,r=t.component,i=this.em,o=[];if(i&&e){var a=r,l=i.get("CssComposer"),c=i.get("CodeManager").getGenerator("css"),u=e.toHTML?e:e.getComponent(),h={combination:!0,array:!0},d=[],f=[],p=[];u?(d=l.getRules("#".concat(u.getId())),p=(f=a?l.getRules(a.getSelectors().getFullName(h)):[]).concat(d)):(d=a?l.getRules("#".concat(a.getId())):[],f=l.getRules(e.getSelectors().getFullName(h)),p=d.concat(f));var g=p.filter((function(e){return(0,s.isUndefined)(n)?1:e.get("state")===n})).sort(c.sortRules).reverse();o=g.slice(g.indexOf(e)+1)}return o},addType:function(t,n){e.addType(t,n)},getType:function(t){return e.getType(t)},getTypes:function(){return e.getTypes()},createType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.model,r=void 0===n?{}:n,i=t.view,o=void 0===i?{}:i,s=this.config,a=this.getType(e);if(a)return new a.view(ft({model:new a.model(r),config:s},o))},render:function(){var e=this.config,r=this.em,i=n&&n.el;return(n=new ht({el:i,em:r,config:e,collection:t,module:this})).render().el},_logNoSector:function(e){var t=this.em;t&&t.logWarning("'".concat(e,"' sector not found"))},__upProps:function(e){var n=this,r=this.getSelected();if(r){var i=this.model.get("component"),o=this.getSelectedParents(),s=r.getStyle(),a=o.map((function(e){return{target:e,style:e.getStyle()}}));t.map((function(t){t.getProperties().map((function(t){n.__upProp(t,s,a,e)}))})),t.forEach((function(e){var n=e.getProperties();n.forEach((function(e){var n=e.__checkVisibility({target:r,component:i,sectors:t});e.set("visible",n)}));var o=n.some((function(e){return e.isVisible()}));e.set("visible",o)}))}},__upProp:function(e,t,n,r){var i=this,o=e.getName(),s=t[o],a=Et(s),l="stack"===e.getType(),c="composite"===e.getType(),u=ft(ft({},r),{},{__up:!0}),h=!c&&!l,d=l?e.__getLayersFromStyle(t):[],f=c?e.__getPropsFromStyle(t):{},p=a?s:null,g=null;if(l&&null===d||c&&null===f){var m=l?"__getLayersFromStyle":"__getPropsFromStyle",v=n.filter((function(t){return null!==e[m](t.style)}))[0];if(v){p=v.style[o],g=v.target;var y=e[m](v.style);l?d=y:f=y}}else if(!a){p=null;var b=n.filter((function(e){return Et(e.style[o])}))[0];b&&(p=b.style[o],g=b.target)}if(e.__setParentTarget(g),h&&e.__getFullValue()!==p&&e.upValue(p,u),l&&e.__setLayers(d||[]),c){var w=e.getProperties();if(e.isDetached()){var x=e.__getPropsFromStyle(t,{byName:!0})||{},k=n.map((function(t){return ft(ft({},t),{},{style:e.__getPropsFromStyle(t.style,{byName:!0})||{}})}));w.map((function(e){return i.__upProp(e,x,k,r)}))}else e.__setProperties(f||{},u),e.getProperties().map((function(e){return e.__setParentTarget(g)}))}},destroy:function(){[e,t].forEach((function(e){e.reset(),e.stopListening()})),n&&n.remove(),this.model.stopListening(),this.upAll.cancel(),this.em={},this.config={},this.builtIn={},this.model={}}})}},6388:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z},evAll:function(){return B},evCustom:function(){return Z},evPfx:function(){return H}});var r=n(4942),i=n(9050),o=n(9304),s=n(2316),a=n.n(s),l={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}]},c=n(5671),u=n(3144),h=n(7326),d=n(9340),f=n(2963),p=n(1120),g=n(6602),m=n(885),v=n(1163);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var x=a().$,k=function(e){(0,d.Z)(n,e);var t=w(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.Z)(this,n),e=t.call(this,i),(0,r.Z)((0,h.Z)(e),"events",{}),(0,r.Z)((0,h.Z)(e),"appendInput",!0);var o=i.config,s=void 0===o?{}:o,a=(0,h.Z)(e),l=a.model,u=a.eventCapture,d=l.target,f=l.attributes.type;e.config=s,e.em=s.em,e.pfx=s.stylePrefix||"",e.ppfx=s.pStylePrefix||"",e.target=d;var p=(0,h.Z)(e).ppfx;return e.clsField="".concat(p,"field ").concat(p,"field-").concat(f),[["change:value",e.onValueChange],["remove",e.removeView]].forEach((function(t){var n=(0,m.Z)(t,2),r=n[0],i=n[1];l.off(r,i),e.listenTo(l,r,i)})),l.view=(0,h.Z)(e),e.listenTo(l,"change:label",e.render),e.listenTo(l,"change:placeholder",e.rerender),e.events={},u.forEach((function(t){return e.events[t]="onChange"})),e.delegateEvents(),e.init(),e}return(0,u.Z)(n,[{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"templateLabel",value:function(){var e=this.ppfx,t=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(t,'">').concat(t,"</div>")}},{key:"templateInput",value:function(){var e=this.clsField;return'<div class="'.concat(e,'" data-input></div>')}},{key:"getClbOpts",value:function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}}},{key:"removeView",value:function(){this.remove(),this.removed()}},{key:"init",value:function(){}},{key:"removed",value:function(){}},{key:"onRender",value:function(){}},{key:"onUpdate",value:function(){}},{key:"onEvent",value:function(){}},{key:"onChange",value:function(e){var t=this.getInputElem();t&&!(0,i.isUndefined)(t.value)&&this.model.set("value",t.value),this.onEvent(b(b({},this.getClbOpts()),{},{event:e}))}},{key:"getValueForTarget",value:function(){return this.model.get("value")}},{key:"setInputValue",value:function(e){var t=this.getInputElem();t&&(t.value=e)}},{key:"onValueChange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.fromTarget)this.setInputValue(e.get("value")),this.postUpdate();else{var r=this.getValueForTarget();e.setTargetValue(r,n)}}},{key:"renderLabel",value:function(){var e=this.$el,t=this.target,n=this.getLabel(),r=this.templateLabel(t);this.createLabel&&(r=this.createLabel({label:n,component:t,trait:this})||""),e.find("[data-label]").append(r)}},{key:"getLabel",value:function(){var e=this.em,t=this.model.attributes,n=t.label,r=t.name;return e.t("traitManager.traits.labels.".concat(r))||(0,v.capitalize)(n||r).replace(/-/g," ")}},{key:"getComponent",value:function(){return this.target}},{key:"getInputEl",value:function(){if(!this.$input){var e=this.em,t=this.model,n=t,r=t.attributes.name,o=n.get("placeholder")||n.get("default")||"",s=n.get("type")||"text",a=n.get("min"),l=n.get("max"),c=this.getModelValue(),u=x('<input type="'.concat(s,'" placeholder="').concat(o,'">')),h=e.t("traitManager.traits.attributes.".concat(r))||{};u.attr(h),(0,i.isUndefined)(c)||(n.set({value:c},{silent:!0}),u.prop("value",c)),a&&u.prop("min",a),l&&u.prop("max",l),this.$input=u}return this.$input.get(0)}},{key:"getInputElem",value:function(){var e=this.input,t=this.$input;return e||t&&t.get&&t.get(0)||this.getElInput()}},{key:"getModelValue",value:function(){var e,t=this.model,n=this.target,r=t.get("name");if(t.get("changeProp"))e=n.get(r);else{var o=n.get("attributes");e=t.get("value")||o[r]}return(0,i.isUndefined)(e)?"":e}},{key:"getElInput",value:function(){return this.elInput}},{key:"renderField",value:function(){var e=this.$el,t=this.appendInput,n=this.model,r=e.find("[data-input]"),o=r[r.length-1],s=n.el;s||(s=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,i.isString)(s)?(o.innerHTML=s,this.elInput=o.firstChild):(t?o.appendChild(s):o.insertBefore(s,o.firstChild),this.elInput=s),n.el=this.elInput}},{key:"hasLabel",value:function(){var e=this.model.attributes.label;return!this.noLabel&&!1!==e}},{key:"rerender",value:function(){this.model.el=null,this.render()}},{key:"postUpdate",value:function(){this.onUpdate(this.getClbOpts())}},{key:"render",value:function(){var e=this.$el,t=this.pfx,n=this.ppfx,r=this.model.attributes,o=r.type,s=r.id,a=this.hasLabel&&this.hasLabel(),l="".concat(t,"trait");this.$input=null;var c='<div class="'.concat(l," ").concat(l,"--").concat(o,'">\n      ').concat(a?'<div class="'.concat(n,'label-wrp" data-label></div>'):"",'\n      <div class="').concat(n,"field-wrp ").concat(n,"field-wrp--").concat(o,'" data-input>\n        ').concat(this.templateInput?(0,i.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"","\n      </div>\n    </div>");return e.empty().append(c),a&&this.renderLabel(),this.renderField(),this.el.className="".concat(l,"__wrp ").concat(l,"__wrp-").concat(s),this.postUpdate(),this.onRender(this.getClbOpts()),this}}]),n}(a().View);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}k.prototype.eventCapture=["change"];var S=function(e){(0,d.Z)(n,e);var t=C(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;(0,c.Z)(this,n),e=t.call(this,i),(0,r.Z)((0,h.Z)(e),"reuseView",!0),e.itemsView=o;var s=i.config||{},a=s.stylePrefix||"",l=i.editor;return e.config=s,e.em=l,e.pfx=a,e.ppfx=s.pStylePrefix||"",e.className="".concat(a,"traits"),e.listenTo(l,"component:toggled",e.updatedCollection),e.updatedCollection(),e}return(0,u.Z)(n,[{key:"updatedCollection",value:function(){var e=this.ppfx,t=this.className,n=this.em.getSelected();this.el.className="".concat(t," ").concat(e,"one-bg ").concat(e,"two-color"),this.collection=n?n.get("traits"):[],this.render()}}]),n}(g.Z);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}S.prototype.itemView=k;var O=a().$,E=function(e){(0,d.Z)(n,e);var t=_(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.Z)(this,n),(e=t.call(this,r)).listenTo(e.model,"change:options",e.rerender),e}return(0,u.Z)(n,[{key:"templateInput",value:function(){var e=this.ppfx,t=this.clsField;return'<div class="'.concat(t,'">\n      <div data-input></div>\n      <div class="').concat(e,'sel-arrow">\n        <div class="').concat(e,'d-s-arrow"></div>\n      </div>\n    </div>')}},{key:"getInputEl",value:function(){if(!this.$input){var e=this.model,t=this.em,n=e.get("name"),r=e.get("options")||[],o=[],s="<select>";r.forEach((function(e){var r,a,l,c="";(0,i.isString)(e)?(r=e,a=e):(r=e.name||e.label||e.value,a="".concat((0,i.isUndefined)(e.value)?e.id:e.value).replace(/"/g,"&quot;"),c+=(l=e.style?e.style.replace(/"/g,"&quot;"):"")?' style="'.concat(l,'"'):"");var u=t.t("traitManager.traits.options.".concat(n,".").concat(a))||r;s+='<option value="'.concat(a,'"').concat(c,">").concat(u,"</option>"),o.push(a)})),s+="</select>",this.$input=O(s);var a=e.getTargetValue(),l=o.indexOf(a)>=0?a:e.get("default");!(0,i.isUndefined)(l)&&this.$input.val(l)}return this.$input.get(0)}}]),n}(k);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var A=function(e){(0,d.Z)(n,e);var t=T(n);function n(){var e;(0,c.Z)(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,r.Z)((0,h.Z)(e),"appendInput",!1),e}return(0,u.Z)(n,[{key:"templateInput",value:function(){var e=this.ppfx,t=this.clsField;return'<label class="'.concat(t,'" data-input>\n    <i class="').concat(e,'chk-icon"></i>\n  </label>')}},{key:"onChange",value:function(){var e=this.getInputElem().checked;this.model.set("value",this.getCheckedValue(e))}},{key:"getCheckedValue",value:function(e){var t=e,n=this.model.attributes,r=n.valueTrue,o=n.valueFalse;return t&&!(0,i.isUndefined)(r)&&(t=r),t||(0,i.isUndefined)(o)||(t=o),t}},{key:"getInputEl",value:function(){for(var e=!this.$input,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=k.prototype.getInputEl.apply(this,n);if(e){var s,a,l=this.model,c=this.target,u=l.attributes,h=(u.valueTrue,u.valueFalse),d=l.get("name");l.get("changeProp")?a=s=c.get(d):s=!(!(a=c.get("attributes")[d])&&""!==a),(0,i.isUndefined)(h)||a!==h||(s=!1),o.checked=s}return o}}]),n}(k),$=n(7610);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var R=function(e){(0,d.Z)(n,e);var t=L(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"getValueForTarget",value:function(){var e=this.model,t=e.attributes,n=t.value,r=t.unit;return(0,i.isUndefined)(n)||""===n?e.get("default"):n+r}},{key:"getInputEl",value:function(){if(!this.input){var e=this.ppfx,t=this.model,n=this.getModelValue(),r=new $.Z({contClass:"".concat(e,"field-int"),type:"number",model:t,ppfx:e});this.input=r.render(),this.$input=this.input.inputEl,this.$unit=this.input.unitEl,t.set("value",n,{fromTarget:1}),this.$input.val(n),this.input=r.el}return this.input}}]),n}(k),P=n(1511);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var D=function(e){(0,d.Z)(n,e);var t=M(n);function n(){var e;(0,c.Z)(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,r.Z)((0,h.Z)(e),"templateInput",""),e}return(0,u.Z)(n,[{key:"getInputEl",value:function(){if(!this.input){var e=this.model,t=this.getModelValue(),n=new P.Z({model:e,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render();n.setValue(t,{fromTarget:1}),this.input=n.el}return this.input}}]),n}(k);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var N=function(e){(0,d.Z)(n,e);var t=j(n);function n(){var e;(0,c.Z)(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,r.Z)((0,h.Z)(e),"templateInput",""),e}return(0,u.Z)(n,[{key:"onChange",value:function(){this.handleClick()}},{key:"handleClick",value:function(){var e=this.model,t=this.em,n=e.get("command");n&&((0,i.isString)(n)?t.get("Commands").run(n):n(t.get("Editor"),e))}},{key:"renderLabel",value:function(){this.model.get("label")&&k.prototype.renderLabel.apply(this,arguments)}},{key:"getInputEl",value:function(){var e=this.model,t=this.ppfx,n=e.props(),r=n.labelButton,i=n.text,o=n.full,s=r||i,a="".concat(t,"btn");return'<button type="button" class="'.concat(a,"-prim").concat(o?" ".concat(a,"--full"):"",'">').concat(s,"</button>")}}]),n}(k);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}N.prototype.eventCapture=["click button"];var B="trait",H="".concat(B,":"),Z="".concat(H,"custom"),z=function(){var e={text:k,number:R,select:E,checkbox:A,color:D,button:N};return F(F({},o.Z),{},{TraitsView:S,events:{all:B,custom:Z},name:"TraitManager",init:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__initConfig(l,n);var r=this.config,o=new s.Model;this.model=o;var a=this.em,c=r.pStylePrefix;this.types=F({},e),c&&(r.stylePrefix="".concat(c).concat(r.stylePrefix));var u=(0,i.debounce)((function(){return t.__upSel()}));o.listenTo(a,"component:toggled",u);var h=(0,i.debounce)((function(){return t.__onUp()}));return o.listenTo(a,"trait:update",h),this},__upSel:function(){this.select(this.em.getSelected())},__onUp:function(){this.select(this.getSelected())},select:function(e){var t=e?e.getTraits():[];this.model.set({component:e,traits:t}),this.__trgCustom()},getSelected:function(){return this.model.get("component")||null},getCurrent:function(){return this.model.get("traits")||[]},__trgCustom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},postRender:function(){this.__appendTo()},getTraitsViewer:function(){return this.view},addType:function(e,t){var n=this.getType("text");this.types[e]=n.extend(t)},getType:function(e){return this.getTypes()[e]},getTypes:function(){return this.types},render:function(){var e=this.view,t=this.getConfig(),n=e&&e.el;return e=new S({el:n,collection:[],editor:t.em,config:t},this.getTypes()),this.view=e,e.el},destroy:function(){this.__destroy()}})}},8202:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(2982),i=n(4942),o=n(3410),s=n.n(o),a=n(9050);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(){var e,t,n,i,o={maximumStackLength:500,trackSelection:1},l=function(e){return e.avoidStore||e.noUndo},u=function(e){return Object.keys(e.changedAttributes())};return{name:"UndoManager",init:function(){var h=this,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=c(c({},o),d),e=n.em,this.em=e,n._disable&&(n=c(c({},n),{},{maximumStackLength:0}));var f=!0;return(t=new(s())(c({track:!0,register:[]},n))).changeUndoType("change",{condition:function(e){var t=e.get("_undo");if(t){var n=e.get("_undoexc");if((0,a.isArray)(n)&&u(e).some((function(e){return n.indexOf(e)>=0})))return!1;if((0,a.isBoolean)(t))return!0;if((0,a.isArray)(t)&&u(e).some((function(e){return t.indexOf(e)>=0})))return!0}return!1},on:function(e,t,n){!i&&(i=e.previousAttributes());var r=n||t||{};if(r.noUndo&&setTimeout((function(){i=null})),!l(r)){var o=e.toJSON({fromUndo:f}),s={object:e,before:i,after:o};if(i=null,!(0,a.isEmpty)(o))return s}}}),t.changeUndoType("add",{on:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!l(n)&&h.isRegistered(t))return{object:t,before:void 0,after:e,options:c(c({},n),{},{fromUndo:f})}}}),t.changeUndoType("remove",{on:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!l(n)&&h.isRegistered(t))return{object:t,before:e,after:void 0,options:c(c({},n),{},{fromUndo:f})}}}),t.changeUndoType("reset",{undo:function(e,t){e.reset(t,{fromUndo:f})},redo:function(e,t,n){e.reset(n,{fromUndo:f})},on:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l(t)&&h.isRegistered(e))return{object:e,before:t.previousModels,after:(0,r.Z)(e.models),options:c(c({},t),{},{fromUndo:f})}}}),t.on("undo redo",(function(){e.trigger("change:canvasOffset"),e.getSelectedAll().map((function(e){return e.trigger("rerender:layer")}))})),["undo","redo"].forEach((function(n){return t.on(n,(function(){return e.trigger(n)}))})),this},postLoad:function(){n.trackSelection&&e&&this.add(e.get("selected"))},getConfig:function(){return n},add:function(e){return t.register(e),this},remove:function(e){return t.unregister(e),this},removeAll:function(){return t.unregisterAll(),this},start:function(){return t.startTracking(),this},stop:function(){return t.stopTracking(),this},undo:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!e.isEditing()&&t.undo(n),this},undoAll:function(){return t.undoAll(),this},redo:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!e.isEditing()&&t.redo(n),this},redoAll:function(){return t.redoAll(),this},hasUndo:function(){return t.isAvailable("undo")},hasRedo:function(){return t.isAvailable("redo")},isRegistered:function(e){return!!this.getInstance().objectRegistry.isRegistered(e)},getStack:function(){return t.stack},getStackGroup:function(){var e=[],t=[];return this.getStack().forEach((function(n){var r=n.get("magicFusionIndex");t.indexOf(r)<0&&(t.push(r),e.push(n))})),e},skip:function(e){this.stop(),e(),this.start()},getGroupedStack:function(){var e={};return this.getStack().forEach((function(t,n){var r=t.get("magicFusionIndex"),i=function(e,t){var n=e.attributes,r=n.type,i=n.after,o=n.before,s=n.object,a=n.options;return{index:t,type:r,after:i,before:o,object:s,options:void 0===a?{}:a}}(t,n);e[r]?e[r].push(i):e[r]=[i]})),Object.keys(e).map((function(t){var n=e[t];return{index:n[n.length-1].index,actions:n,labels:(0,a.unique)(n.reduce((function(e,t){var n,r=null===(n=t.options)||void 0===n?void 0:n.action;return r&&e.push(r),e}),[]))}}))},goToGroup:function(e){var t=this;if(e){var n=this.getPointer(),r=e.index-n;(0,a.times)(Math.abs(r),(function(){t[r<0?"undo":"redo"](!1)}))}},getPointer:function(){return this.getStack().pointer},clear:function(){return t.clear(),this},getInstance:function(){return t},destroy:function(){this.clear().removeAll(),[e,t,n,i].forEach((function(e){return{}})),this.em={}}}}},5610:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(4942),i=n(5671),o=n(3144),s=n(9050),a=n(1163);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.Z)(this,e),this.opts={container:null,onStart:null,onDrag:null,onEnd:null,setPosition:null,getPosition:null,guidesStatic:null,guidesTarget:null,snapOffset:5,doc:0,scale:1},(0,s.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(t),this.delta={x:0,y:0},this}return(0,o.Z)(e,[{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=c(c({},this.opts),e)}},{key:"toggleDrag",value:function(e){var t=this.getDocumentEl(),n=this.getContainerEl(),r=this.getWindowEl(),i=e?"on":"off",o={on:a.on,off:a.off};o[i](n,"mousemove dragover",this.drag),o[i](t,"mouseup dragend touchend",this.stop),o[i](t,"keydown",this.keyHandle),o[i](r,"scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var e=this.lastScroll,t=this.delta,n=this.getScrollInfo(),r={x:n.x-e.x,y:n.y-e.y};this.move(t.x+r.x,t.y+r.y),this.lastScrollDiff=r}},{key:"start",value:function(e){var t=this.opts,n=t.onStart;this.toggleDrag(1),this.startPointer=this.getPointerPos(e),this.guidesStatic=(0,s.result)(t,"guidesStatic")||[],this.guidesTarget=(0,s.result)(t,"guidesTarget")||[],(0,s.isFunction)(n)&&n(e,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff={x:0,y:0},this.globScrollDiff={x:0,y:0},this.drag(e)}},{key:"drag",value:function(e){var t=this,n=this.opts,r=this.lastScrollDiff,i=this.globScrollDiff,o=n.onDrag,a=this.startPointer,l=this.getPointerPos(e),u={x:i.x+r.x,y:i.y+r.y};this.globScrollDiff=u;var h={x:l.x-a.x+u.x,y:l.y-a.y+u.y};this.lastScrollDiff={x:0,y:0};var d=this.lockedAxis;"x"===(d=e.shiftKey?!d&&this.detectAxisLock(h.x,h.y):null)?h.x=a.x:"y"===d&&(h.y=a.y);var f=function(r){["x","y"].forEach((function(e){return r[e]=r[e]*(0,s.result)(n,"scale")})),t.delta=r,t.move(r.x,r.y),(0,s.isFunction)(o)&&o(e,t)},p=c({},h);if(this.currentPointer=l,this.lockedAxis=d,this.lastScroll=this.getScrollInfo(),f(h),this.guidesTarget.length){var g=this.snapGuides(p),m=g.newDelta,v=g.trgX,y=g.trgY;(v||y)&&f(m)}0===e.which&&this.stop(e)}},{key:"snapGuides",value:function(e){var t=this,n=e,r=this.trgX,i=this.trgY;return this.guidesTarget.forEach((function(n){n.x&&t.trgX||n.y&&t.trgY||(n.active=0,t.guidesStatic.forEach((function(o){if(!(n.y&&o.x||n.x&&o.y)){var a=n.y&&o.y,l=a?"y":"x",c=n[l],u=o[l],h=e[l],d=a?i:r;if(t.isPointIn(c,u)&&(0,s.isUndefined)(d)){var f=h-(c-u);t.setGuideLock(n,f)}}})))})),r=this.trgX,i=this.trgY,["x","y"].forEach((function(r){var i=r.toUpperCase(),o=t["trg".concat(i)];o&&!t.isPointIn(e[r],o.lock)&&(t.setGuideLock(o,null),o=null),o&&!(0,s.isUndefined)(o.lock)&&(n[r]=o.lock)})),{newDelta:n,trgX:this.trgX,trgY:this.trgY}}},{key:"isPointIn",value:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).offset||this.opts.snapOffset;return e>=t&&e<=t+n||e<=t&&e>=t-n}},{key:"setGuideLock",value:function(e,t){var n=(0,s.isUndefined)(e.x)?"Y":"X",r="trg".concat(n);return null!==t?(e.active=1,e.lock=t,this[r]=e):(delete e.active,delete e.lock,delete this[r]),e}},{key:"stop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.delta,r=t.cancel,i=r?0:n.x,o=r?0:n.y;this.toggleDrag(),this.lockedAxis=null,this.move(i,o,1);var a=this.opts.onEnd;(0,s.isFunction)(a)&&a(e,this,{cancelled:r})}},{key:"keyHandle",value:function(e){(0,a.isEscKey)(e)&&this.stop(e,{cancel:1})}},{key:"move",value:function(e,t,n){var r=this.el,i=this.opts,o=this.startPosition;if(o){var a=i.setPosition,l=o.x+e,c=o.y+t;this.position={x:l,y:c,end:n},(0,s.isFunction)(a)&&a(this.position),r&&(r.style.left="".concat(l,"px"),r.style.top="".concat(c,"px"))}}},{key:"getContainerEl",value:function(){var e=this.opts.container;return e?[e]:this.getDocumentEl()}},{key:"getWindowEl",value:function(){return this.getContainerEl().map((function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow}))}},{key:"getDocumentEl",value:function(e){var t=this.opts.doc;if(e=e||this.el,!this.docs){var n=[document];e&&n.push(e.ownerDocument),t&&n.push(t),this.docs=n}return this.docs}},{key:"getPointerPos",value:function(e){var t=this.opts.getPointerPosition,n=(0,a.getPointerEvent)(e);return t?t(e):{x:n.clientX,y:n.clientY}}},{key:"getStartPosition",value:function(){var e=this.el,t=this.opts.getPosition,n={x:0,y:0};return(0,s.isFunction)(t)?n=t():e&&(n={x:parseFloat(e.style.left),y:parseFloat(e.style.top)}),n}},{key:"getScrollInfo",value:function(){var e=this.opts.doc,t=e&&e.body;return{y:t?t.scrollTop:0,x:t?t.scrollLeft:0}}},{key:"detectAxisLock",value:function(e,t){var n=e,r=t,i=Math.abs(n),o=Math.abs(r);return r>=i||r<=-i?"x":n>o||n<-o?"y":void 0}}]),e}()},2579:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return me}});var r="undefined"!=typeof document?document:null,i="undefined"!=typeof window?window:null,o=Array.prototype,s=o.filter,a=o.indexOf,l=o.map,c=o.push,u=o.reverse,h=o.slice,d=o.splice,f=/^#[\w-]*$/,p=/^\.[\w-]*$/,g=/<.+>/,m=/^\w+$/;function v(e,t){return void 0===t&&(t=r),p.test(e)?t.getElementsByClassName(e.slice(1)):m.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e)}function y(e,t){if(void 0===t&&(t=r),e){if(e.__cash)return e;var n=e;if(T(e)){if(t.__cash&&(t=t[0]),!(n=f.test(e)?t.getElementById(e.slice(1)):g.test(e)?fe(e):v(e,t)))return}else if(E(e))return this.ready(e);(n.nodeType||n===i)&&(n=[n]),this.length=n.length;for(var o=0,s=this.length;o<s;o++)this[o]=n[o]}}function b(e,t){return new y(e,t)}var w=b.fn=b.prototype=y.prototype={constructor:b,__cash:!0,length:0,splice:d};w.get=function(e){return void 0===e?h.call(this):this[e<0?e+this.length:e]},w.eq=function(e){return b(this.get(e))},w.first=function(){return this.eq(0)},w.last=function(){return this.eq(-1)},w.map=function(e){return b(l.call(this,(function(t,n){return e.call(t,n,t)})))},w.slice=function(){return b(h.apply(this,arguments))};var x=/(?:^\w|[A-Z]|\b\w)/g,k=/[\s-_]+/g;function C(e){return e.replace(x,(function(e,t){return e[t?"toUpperCase":"toLowerCase"]()})).replace(k,"")}function S(e,t){for(var n=0,r=e.length;n<r&&!1!==t.call(e[n],e[n],n,e);n++);}b.camelCase=C,b.each=S,w.each=function(e){return S(this,(function(t,n){return e.call(t,n,t)})),this},w.removeProp=function(e){return this.each((function(t,n){delete n[e]}))},b.extend=w.extend=function(e){void 0===e&&(e=this);for(var t=arguments,n=t.length,r=n<2?0:1;r<n;r++)for(var i in t[r])e[i]=t[r][i];return e};var _=1;function O(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function E(e){return"function"==typeof e}function T(e){return"string"==typeof e}function A(e){return!isNaN(parseFloat(e))&&isFinite(e)}b.guid=_,b.matches=O,b.isFunction=E,b.isString=T,b.isNumeric=A;var $=Array.isArray;function L(e){return T(e)?function(t,n){return O(n,e)}:e.__cash?function(t,n){return e.is(n)}:function(e,t,n){return t===n}}b.isArray=$,w.prop=function(e,t){if(e){if(T(e))return arguments.length<2?this[0]&&this[0][e]:this.each((function(n,r){r[e]=t}));for(var n in e)this.prop(n,e[n]);return this}},w.filter=function(e){if(!e)return b();var t=E(e)?e:L(e);return b(s.call(this,(function(n,r){return t.call(n,r,n,e)})))};var R=/\S+/g;function P(e){return T(e)&&e.match(R)||[]}function M(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))}function D(e,t,n){if(1===e.nodeType){var r=i.getComputedStyle(e,null);return t?n?r.getPropertyValue(t):r[t]:r}}function j(e,t){return parseInt(D(e,t),10)||0}w.hasClass=function(e){var t=P(e),n=!1;return t.length&&this.each((function(e,r){return!(n=r.classList.contains(t[0]))})),n},w.removeAttr=function(e){var t=P(e);return t.length?this.each((function(e,n){S(t,(function(e){n.removeAttribute(e)}))})):this},w.attr=function(e,t){if(e){if(T(e)){if(arguments.length<2){if(!this[0])return;var n=this[0].getAttribute(e);return null===n?void 0:n}return null===t?this.removeAttr(e):this.each((function(n,r){r.setAttribute(e,t)}))}for(var r in e)this.attr(r,e[r]);return this}},w.toggleClass=function(e,t){var n=P(e),r=void 0!==t;return n.length?this.each((function(e,i){S(n,(function(e){r?t?i.classList.add(e):i.classList.remove(e):i.classList.toggle(e)}))})):this},w.addClass=function(e){return this.toggleClass(e,!0)},w.removeClass=function(e){return arguments.length?this.toggleClass(e,!1):this.attr("class","")},b.unique=M,w.add=function(e,t){return b(M(this.get().concat(b(e,t).get())))};var N=/^--/;function I(e){return N.test(e)}var F={},B=r&&r.createElement("div"),H=B?B.style:{},Z=["webkit","moz","ms","o"];function z(e,t){if(void 0===t&&(t=I(e)),t)return e;if(!F[e]){var n=C(e),r=""+n.charAt(0).toUpperCase()+n.slice(1);S((n+" "+Z.join(r+" ")+r).split(" "),(function(t){if(t in H)return F[e]=t,!1}))}return F[e]}b.prefixedProp=z;var V={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function W(e,t,n){return void 0===n&&(n=I(e)),n||V[e]||!A(t)?t:t+"px"}w.css=function(e,t){if(T(e)){var n=I(e);return e=z(e,n),arguments.length<2?this[0]&&D(this[0],e,n):e?(t=W(e,t,n),this.each((function(r,i){1===i.nodeType&&(n?i.style.setProperty(e,t):i.style[e]=t)}))):this}for(var r in e)this.css(r,e[r]);return this};var U="__cashData",G=/^data-(.*)/;function q(e){return e[U]=e[U]||{}}function K(e,t){var n=q(e);if(t){if(!(t in n)){var r=e.dataset?e.dataset[t]||e.dataset[C(t)]:b(e).attr("data-"+t);if(void 0!==r){try{r=JSON.parse(r)}catch(e){}n[t]=r}}return n[t]}return n}function Y(e,t){return j(e,"border"+(t?"Left":"Top")+"Width")+j(e,"padding"+(t?"Left":"Top"))+j(e,"padding"+(t?"Right":"Bottom"))+j(e,"border"+(t?"Right":"Bottom")+"Width")}function X(e,t){for(var n=0,r=t.length;n<r;n++)if(e.indexOf(t[n])<0)return!1;return!0}function J(e,t,n){S(e[n],(function(e){e[0];var r=e[1];t.removeEventListener(n,r)})),delete e[n]}b.hasData=function(e){return U in e},w.data=function(e,t){var n=this;if(!e){if(!this[0])return;return S(this[0].attributes,(function(e){var t=e.name.match(G);t&&n.data(t[1])})),K(this[0])}if(T(e))return void 0===t?this[0]&&K(this[0],e):this.each((function(n,r){return function(e,t,n){q(e)[t]=n}(r,e,t)}));for(var r in e)this.data(r,e[r]);return this},w.removeData=function(e){return this.each((function(t,n){return function(e,t){void 0===t?delete e[U]:delete q(e)[t]}(n,e)}))},S(["Width","Height"],(function(e){w["inner"+e]=function(){if(this[0])return this[0]===i?i["inner"+e]:this[0]["client"+e]}})),S(["width","height"],(function(e,t){w[e]=function(n){return this[0]?arguments.length?(n=parseInt(n,10),this.each((function(r,i){if(1===i.nodeType){var o=D(i,"boxSizing");i.style[e]=W(e,n+("border-box"===o?Y(i,!t):0))}}))):this[0]===i?this[0][C("outer-"+e)]:this[0].getBoundingClientRect()[e]-Y(this[0],!t):void 0===n?void 0:this}})),S(["Width","Height"],(function(e,t){w["outer"+e]=function(n){if(this[0])return this[0]===i?i["outer"+e]:this[0]["offset"+e]+(n?j(this[0],"margin"+(t?"Top":"Left"))+j(this[0],"margin"+(t?"Bottom":"Right")):0)}}));var Q="__cashEvents",ee=".";function te(e){return e[Q]=e[Q]||{}}function ne(e){var t=e.split(ee);return[t[0],t.slice(1).sort()]}function re(e,t,n,r){var i=te(e);if(t){var o=i[t];if(!o)return;r&&(r.guid=r.guid||_++),i[t]=o.filter((function(i){var o=i[0],s=i[1];if(r&&s.guid!==r.guid||!X(o,n))return!0;e.removeEventListener(t,s)}))}else if(n&&n.length)for(t in i)re(e,t,n,r);else for(t in i)J(i,e,t)}w.off=function(e,t){var n=this;return void 0===e?this.each((function(e,t){return re(t)})):S(P(e),(function(e){var r=ne(e),i=r[0],o=r[1];n.each((function(e,n){return re(n,i,o,t)}))})),this},w.on=function(e,t,n,r){var i=this;if(!T(e)){for(var o in e)this.on(o,t,e[o]);return this}return E(t)&&(n=t,t=!1),S(P(e),(function(e){var o=ne(e),s=o[0],a=o[1];i.each((function(e,i){var o=function e(o){if(!o.namespace||X(a,o.namespace.split(ee))){var l=i;if(t){for(var c=o.target;!O(c,t);){if(c===i)return;if(!(c=c.parentNode))return}l=c}o.namespace=o.namespace||"";var u=n.call(l,o,o.data);r&&re(i,s,a,e),!1===u&&(o.preventDefault(),o.stopPropagation())}};o.guid=n.guid=n.guid||_++,function(e,t,n,r){r.guid=r.guid||_++;var i=te(e);i[t]=i[t]||[],i[t].push([n,r]),e.addEventListener(t,r)}(i,s,a,o)}))})),this},w.one=function(e,t,n){return this.on(e,t,n,!0)},w.ready=function(e){var t=function(){return e(b)};return"loading"!==r.readyState?setTimeout(t):r.addEventListener("DOMContentLoaded",t),this},w.trigger=function(e,t){var n=e;if(T(e)){var i=ne(e),o=i[0],s=i[1];(n=r.createEvent("HTMLEvents")).initEvent(o,!0,!0),n.namespace=s.join(ee)}return n.data=t,this.each((function(e,t){t.dispatchEvent(n)}))};var ie=/select-one/i,oe=/select-multiple/i;function se(e){var t=e.type;return ie.test(t)?function(e){return e.selectedIndex<0?null:e.options[e.selectedIndex].value}(e):oe.test(t)?function(e){var t=[];return S(e.options,(function(e){!e.selected||e.disabled||e.parentNode.disabled||t.push(e.value)})),t}(e):e.value}var ae=/%20/g,le=/file|reset|submit|button|image/i,ce=/radio|checkbox/i;w.serialize=function(){var e="";return this.each((function(t,n){S(n.elements||[n],(function(t){if(!t.disabled&&t.name&&"FIELDSET"!==t.tagName&&!le.test(t.type)&&(!ce.test(t.type)||t.checked)){var n=se(t);void 0!==n&&S($(n)?n:[n],(function(n){e+=function(e,t){return"&"+encodeURIComponent(e)+"="+encodeURIComponent(t).replace(ae,"+")}(t.name,n)}))}}))})),e.substr(1)},w.val=function(e){return void 0===e?this[0]&&se(this[0]):this.each((function(t,n){var r=oe.test(n.type),i=null===e?r?[]:"":e;r&&$(i)?S(n.options,(function(e){e.selected=i.indexOf(e.value)>=0})):n.value=i}))},w.clone=function(){return this.map((function(e,t){return t.cloneNode(!0)}))},w.detach=function(){return this.each((function(e,t){t.parentNode&&t.parentNode.removeChild(t)}))};var ue,he=/^\s*<(\w+)[^>]*>/,de=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function fe(e){if(function(){if(!ue){var e=r.createElement("table"),t=r.createElement("tr");ue={"*":r.createElement("div"),tr:r.createElement("tbody"),td:t,th:t,thead:e,tbody:e,tfoot:e}}}(),!T(e))return[];if(de.test(e))return[r.createElement(RegExp.$1)];var t=he.test(e)&&RegExp.$1,n=ue[t]||ue["*"];return n.innerHTML=e,b(n.childNodes).detach().get()}function pe(e,t,n){if(void 0!==t){var r=T(t);!r&&t.length?S(t,(function(t){return pe(e,t,n)})):S(e,r?function(e){e.insertAdjacentHTML(n?"afterbegin":"beforeend",t)}:function(e,r){return function(e,t,n){n?e.insertBefore(t,e.childNodes[0]):e.appendChild(t)}(e,r?t.cloneNode(!0):t,n)})}}b.parseHTML=fe,w.empty=function(){var e=this[0];if(e)for(;e.firstChild;)e.removeChild(e.firstChild);return this},w.append=function(){var e=this;return S(arguments,(function(t){pe(e,t)})),this},w.appendTo=function(e){return pe(b(e),this),this},w.html=function(e){if(void 0===e)return this[0]&&this[0].innerHTML;var t=e.nodeType?e[0].outerHTML:e;return this.each((function(e,n){n.innerHTML=t}))},w.insertAfter=function(e){var t=this;return b(e).each((function(e,n){var r=n.parentNode;t.each((function(t,i){r.insertBefore(e?i.cloneNode(!0):i,n.nextSibling)}))})),this},w.after=function(){var e=this;return S(u.apply(arguments),(function(t){u.apply(b(t).slice()).insertAfter(e)})),this},w.insertBefore=function(e){var t=this;return b(e).each((function(e,n){var r=n.parentNode;t.each((function(t,i){r.insertBefore(e?i.cloneNode(!0):i,n)}))})),this},w.before=function(){var e=this;return S(arguments,(function(t){b(t).insertBefore(e)})),this},w.prepend=function(){var e=this;return S(arguments,(function(t){pe(e,t,!0)})),this},w.prependTo=function(e){return pe(b(e),u.apply(this.slice()),!0),this},w.remove=function(){return this.detach().off()},w.replaceWith=function(e){var t=this;return this.each((function(n,r){var i=r.parentNode;if(i){var o=n?b(e).clone():b(e);if(!o[0])return t.remove(),!1;i.replaceChild(o[0],r),b(o[0]).after(o.slice(1))}}))},w.replaceAll=function(e){return b(e).replaceWith(this),this},w.text=function(e){return void 0===e?this[0]?this[0].textContent:"":this.each((function(t,n){n.textContent=e}))};var ge=r&&r.documentElement;w.offset=function(){var e=this[0];if(e){var t=e.getBoundingClientRect();return{top:t.top+i.pageYOffset-ge.clientTop,left:t.left+i.pageXOffset-ge.clientLeft}}},w.offsetParent=function(){return b(this[0]&&this[0].offsetParent)},w.position=function(){var e=this[0];if(e)return{left:e.offsetLeft,top:e.offsetTop}},w.children=function(e){var t=[];return this.each((function(e,n){c.apply(t,n.children)})),t=b(M(t)),e?t.filter((function(t,n){return O(n,e)})):t},w.contents=function(){var e=[];return this.each((function(t,n){c.apply(e,"IFRAME"===n.tagName?[n.contentDocument]:n.childNodes)})),b(e.length&&M(e))},w.find=function(e){for(var t=[],n=0,r=this.length;n<r;n++){var i=v(e,this[n]);i.length&&c.apply(t,i)}return b(t.length&&M(t))},w.has=function(e){var t=T(e)?function(t,n){return!!v(e,n).length}:function(t,n){return n.contains(e)};return this.filter(t)},w.is=function(e){if(!e||!this[0])return!1;var t=L(e),n=!1;return this.each((function(r,i){return!(n=t(r,i,e))})),n},w.next=function(){return b(this[0]&&this[0].nextElementSibling)},w.not=function(e){if(!e||!this[0])return this;var t=L(e);return this.filter((function(n,r){return!t(n,r,e)}))},w.parent=function(){var e=[];return this.each((function(t,n){n&&n.parentNode&&e.push(n.parentNode)})),b(M(e))},w.index=function(e){var t=e?b(e)[0]:this[0],n=e?this:b(t).parent().children();return a.call(n,t)},w.closest=function(e){return e&&this[0]?this.is(e)?this.filter(e):this.parent().closest(e):b()},w.parents=function(e){var t,n=[];return this.each((function(i,o){for(t=o;t&&t.parentNode&&t!==r.body.parentNode;)t=t.parentNode,(!e||e&&O(t,e))&&n.push(t)})),b(M(n))},w.prev=function(){return b(this[0]&&this[0].previousElementSibling)},w.siblings=function(){var e=this[0];return this.parent().children().filter((function(t,n){return n!==e}))};var me=b},9283:function(e,t,n){"use strict";n.d(t,{$Q:function(){return f},FW:function(){return u},G1:function(){return s},L_:function(){return l},Mx:function(){return a},R3:function(){return p},SJ:function(){return y},dL:function(){return d},pn:function(){return h},rw:function(){return m},sE:function(){return c},t3:function(){return v},ut:function(){return g}});var r=n(9050),i="tag",o="attributes",s="transitionend oTransitionEnd transitionend webkitTransitionEnd",a=function(e){return e&&9===e.nodeType},l=function(e){var t=e&&e.parentNode;t&&t.removeChild(e)},c=function(e,t){return e.querySelectorAll(t)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&e.setAttribute&&(0,r.each)(t,(function(t,n){return e.setAttribute(n,t)}))},h=function(e){return e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},d=function(e,t){e.parentNode.replaceChild(t,e)},f=function(e,t,n){var i=e.childNodes,o=i.length,s=(0,r.isUndefined)(n)?o:n;(0,r.isString)(t)&&(e.insertAdjacentHTML("beforeEnd",t),t=e.lastChild,e.removeChild(t)),s>=o?e.appendChild(t):e.insertBefore(t,i[s])},p=function(e,t){return f(e,t)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=document.createElement(e);return t&&(0,r.each)(t,(function(e,t){return i.setAttribute(t,e)})),n&&((0,r.isString)(n)?i.innerHTML=n:i.appendChild(n)),i},m=function(e){return document.createTextNode(e)},v=function(e,t){var n,r=e.type;try{n=new window[t](r,e)}catch(e){(n=document.createEvent(t)).initEvent(r,!0,!0)}return n._parentEvent=e,0===r.indexOf("key")&&(n.keyCodeVal=e.keyCode,["keyCode","which"].forEach((function(e){Object.defineProperty(n,e,{get:function(){return this.keyCodeVal}})}))),n},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(Array.isArray(t)?t:[t]).forEach((function(t){var n=t[i]||"div",s=t[o]||{},a=document.createElement(n);(0,r.each)(s,(function(e,t){a.setAttribute(t,e)})),e.appendChild(a)}))}},9661:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(1002),i=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},o=function(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError((0,r.Z)(e)+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function s(e,n){if(n&&("object"===(0,r.Z)(n)||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(t){s(e,t)}),(function(n){i[e]={status:"rejected",reason:n},0==--o&&t(i)}))}i[e]={status:"fulfilled",value:n},0==--o&&t(i)}for(var a=0;a<i.length;a++)s(a,i[a])}))},s=setTimeout;function a(e){return Boolean(e&&void 0!==e.length)}function l(){}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void d(t.promise,e)}h(t.promise,r)}else(1===e._state?h:d)(t.promise,e._value)}))):e._deferreds.push(t)}function h(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===(0,r.Z)(t)||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void f(e);if("function"==typeof n)return void g((i=n,o=t,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=t,f(e)}catch(t){d(e,t)}var i,o}function d(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function g(e,t){var n=!1;try{e((function(e){n||(n=!0,h(t,e))}),(function(e){n||(n=!0,d(t,e))}))}catch(e){if(n)return;n=!0,d(t,e)}}c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(l);return u(this,new p(e,t,n)),n},c.prototype.finally=i,c.all=function(e){return new c((function(t,n){if(!a(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function s(e,a){try{if(a&&("object"===(0,r.Z)(a)||"function"==typeof a)){var l=a.then;if("function"==typeof l)return void l.call(a,(function(t){s(e,t)}),n)}i[e]=a,0==--o&&t(i)}catch(e){n(e)}}for(var l=0;l<i.length;l++)s(l,i[l])}))},c.allSettled=o,c.resolve=function(e){return e&&"object"===(0,r.Z)(e)&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,n){n(e)}))},c.race=function(e){return new c((function(t,n){if(!a(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)c.resolve(e[r]).then(t,n)}))},c._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){s(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var m=c;(0,n(1163).hasWin)()&&(window.Promise=window.Promise||m);var v="function"==typeof fetch?fetch.bind():function(e,t){return new m((function(n,r){var i=new XMLHttpRequest;for(var o in i.open(t.method||"get",e),i.withCredentials="include"==t.credentials,t.headers||{})i.setRequestHeader(o,t.headers[o]);i.onload=function(e){return n({status:i.status,statusText:i.statusText,text:function(){return m.resolve(i.responseText)}})},i.onerror=r,i.upload&&t.onProgress&&(i.upload.onprogress=t.onProgress),t.body?i.send(t.body):i.send()}))}},6718:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(4942),i=n(5610),o=n(2316),s=n.n(o),a=n(9050),l=n(1163);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=s().$,d=function(){},f=s().View.extend({initialize:function(e){this.opt=e||{},(0,a.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var t=e||{};this.elT=0,this.elL=0,this.borderOffset=t.borderOffset||10;var n=t.container;this.el="string"==typeof n?document.querySelector(n):n,this.$el=h(this.el),this.containerSel=t.containerSel||"div",this.itemSel=t.itemSel||"div",this.draggable=t.draggable||!0,this.nested=t.nested||0,this.pfx=t.pfx||"",this.ppfx=t.ppfx||"",this.freezeClass=t.freezeClass||this.pfx+"freezed",this.onStart=t.onStart||d,this.onEndMove=t.onEndMove||"",this.customTarget=t.customTarget,this.onEnd=t.onEnd,this.direction=t.direction||"v",this.onMoveClb=t.onMove||"",this.relative=t.relative||0,this.ignoreViewChildren=t.ignoreViewChildren||0,this.ignoreModels=t.ignoreModels||0,this.plh=t.placer||"",this.wmargin=t.wmargin||0,this.offTop=t.offsetTop||0,this.offLeft=t.offsetLeft||0,this.document=t.document||document,this.$document=h(this.document),this.dropContent=null,this.em=t.em||null,this.dragHelper=null,this.canvasRelative=t.canvasRelative||0,this.selectOnEnd=!t.avoidSelectOnEnd,this.scale=t.scale,this.activeTextModel=null,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},getScale:function(){return(0,a.result)(this,scale)||1},getContainerEl:function(e){if(e&&(this.el=e),!this.el){var t=this.opt.container;this.el="string"==typeof t?document.querySelector(t):t,this.$el=h(this.el)}return this.el},getDocuments:function(e){var t=this.em,n=e?e.ownerDocument:t&&t.get("Canvas").getBody().ownerDocument,r=[document];return n&&r.push(n),r},updateOffset:function(){var e,t=(null===(e=this.em)||void 0===e?void 0:e.get("canvasOffset"))||{};this.offTop=t.top,this.offLeft=t.left},setDropContent:function(e){this.dropModel=null,this.dropContent=e},updateTextViewCursorPosition:function(e){var t=this.em;if(t){var n=t.get("Canvas"),r=n.getDocument(),i=null;if(r.caretRangeFromPoint){var o=(0,l.getPointerEvent)(e);i=r.caretRangeFromPoint(o.clientX,o.clientY)}else e.rangeParent&&(i=r.createRange()).setStart(e.rangeParent,e.rangeOffset);var s=n.getWindow().getSelection();n.getFrameEl().focus(),s.removeAllRanges(),i&&s.addRange(i),this.setContentEditable(this.activeTextModel,!0)}},setContentEditable:function(e,t){if(e){var n=e.getEl();n.contentEditable!=t&&(n.contentEditable=t)}},toggleSortCursor:function(e){var t=this.em,n=t&&t.get("Canvas");n&&(e?n.startAutoscroll():n.stopAutoscroll())},setDragHelper:function(e,t){for(var n=t||"",r=e.cloneNode(1),i=e.getBoundingClientRect(),o=getComputedStyle(e),s="",a=0;a<o.length;a++){var l=o[a];s+="".concat(l,":").concat(o.getPropertyValue(l),";")}document.body.appendChild(r),r.className+=" ".concat(this.pfx,"bdrag"),r.setAttribute("style",s),this.dragHelper=r,r.style.width="".concat(i.width,"px"),r.style.height="".concat(i.height,"px"),n&&this.moveDragHelper(n),this.em&&h(this.em.get("Canvas").getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),h(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},moveDragHelper:function(e){var t=e.target.ownerDocument;if(this.dragHelper&&t){var n=e.pageY,r=e.pageX,i=0,o=0,s=(t.defaultView||t.parentWindow).frameElement,a=this.dragHelper.style;if(s){var l=s.getBoundingClientRect();i=l.top+document.documentElement.scrollTop,o=l.left+document.documentElement.scrollLeft,n=e.clientY,r=e.clientX}a.top=n+i+"px",a.left=r+o+"px"}},matches:function(e,t,n){return l.matches.call(e,t)},closest:function(e,t){if(e){for(var n=e.parentNode;n&&1===n.nodeType;){if(this.matches(n,t))return n;n=n.parentNode}return null}},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},createPlaceholder:function(){var e=this.pfx,t=document.createElement("div"),n=document.createElement("div");return t.className=e+"placeholder",t.style.display="none",t.style["pointer-events"]="none",n.className=e+"placeholder-int",t.appendChild(n),t},startSort:function(e){var t,n,r,i,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.em,c=this.itemSel,u=this.containerSel,h=this.plh,d=this.getContainerEl(s.container),f=this.getDocuments(e);this.dropModel=null,this.target=null,this.prevTarget=null,this.moved=0,e&&!this.matches(e,"".concat(c,", ").concat(u))&&(e=this.closest(e,c)),this.sourceEl=e,h||(this.plh=this.createPlaceholder(),d.appendChild(this.plh)),e&&((o=this.getSourceModel(e))&&o.set&&o.set("status","freezed"),this.srcModel=o),(0,l.on)(d,"mousemove dragover",this.onMove),(0,l.on)(f,"mouseup dragend touchend",this.endMove),(0,l.on)(f,"keydown",this.rollback),this.onStart({sorter:this,target:o,parent:o&&(null===(t=(n=o).parent)||void 0===t?void 0:t.call(n)),index:o&&(null===(r=(i=o).index)||void 0===r?void 0:r.call(i))}),null==a||a.clearSelection(),this.toggleSortCursor(1),null==a||a.trigger("sorter:drag:start",e,o)},getTargetModel:function(e){var t=e||this.target;return h(t).data("model")},getSourceModel:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.target,i=n.avoidChildren,o=void 0===i?1:i,s=this.em,a=this.sourceEl,l=e||a,c=this.dropModel,d=this.dropContent,f=function(e){return e&&r&&e.opt&&e.opt.avoidChildren&&t.isTextableActive(e,r)};if(d&&s){if(f(c)&&(c=null),!c){var p=s.get("DomComponents").getComponents(),g={avoidChildren:o,avoidStore:1,avoidUpdateStyle:1},m=p.add(d,u(u({},g),{},{temporary:1}));if(c=(c=p.remove(m,g))instanceof Array?c[0]:c,this.dropModel=c,f(c))return this.getSourceModel(l,{target:r,avoidChildren:0})}return c}return l&&h(l).data("model")},selectTargetModel:function(e,t){if(!(e instanceof s().Collection||t&&t===e)){var n=this.targetModel;n&&n!==this.srcModel&&n.set("status",""),e&&e.set&&(e.set("status","selected-parent"),this.targetModel=e)}},onMove:function(e){var t=e,n=this.em,r=this.onMoveClb,i=this.plh,o=this.customTarget;this.moved=1;var s=i.style.display;s&&"none"!==s||(i.style.display="block");var l=this.offset(this.el);this.elT=this.wmargin?Math.abs(l.top):l.top,this.elL=this.wmargin?Math.abs(l.left):l.left;var c=e.pageY-this.elT+this.el.scrollTop,u=e.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&n){var d=n.get("Canvas").getMouseRelativeCanvas(e,{noScroll:1});u=d.x,c=d.y}this.rX=u,this.rY=c,this.eventMove=e;var f=this.getSourceModel(),p=o?o({sorter:this,event:e}):e.target,g=this.dimsFromTarget(p,u,c),m=this.target,v=m&&this.getTargetModel(m);if(this.selectTargetModel(v,f),v||(i.style.display="none"),m){this.lastDims=g;var y=this.findPosition(g,u,c);this.isTextableActive(f,v)?(this.activeTextModel=v,i.style.display="none",this.lastPos=y,this.updateTextViewCursorPosition(t)):(this.disableTextable(),this.activeTextModel=null,this.lastPos&&this.lastPos.index==y.index&&this.lastPos.method==y.method||(this.movePlaceholder(this.plh,g,y,this.prevTargetDim),this.$plh||(this.$plh=h(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=y)),(0,a.isFunction)(r)&&r({event:e,target:f,parent:v,index:y.index+("after"==y.method?1:0)}),n&&n.trigger("sorter:drag",{target:m,targetModel:v,sourceModel:f,dims:g,pos:y,x:u,y:c})}},isTextableActive:function(e,t){var n;return(null==e||null===(n=e.get)||void 0===n?void 0:n.call(e,"textable"))&&(null==t?void 0:t.isInstanceOf("text"))},disableTextable:function(){var e=this.activeTextModel;e&&e.getView().disableEditing(),this.setContentEditable(e,!1)},isInFlow:function(e,t){if(!e)return!1;t=t||document.body;var n=e;return n.offsetHeight,!!this.styleInFlow(n,t)},styleInFlow:function(e,t){if(!(0,l.isTextNode)(e)){var n=e.style||{},r=h(e),i=t&&h(t);if(!n.overflow||"visible"===n.overflow){var o=r.css("float");if(!(o&&"none"!==o||i&&"flex"==i.css("display")&&"column"!==i.css("flex-direction"))){switch(n.position){case"static":case"relative":case"":break;default:return}switch(e.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(r.css("display")){case"block":case"list-item":case"table":case"flex":return!0}}}}},validTarget:function(e,t){var n=this.getTargetModel(e),r=this.getSourceModel(t,{target:n}),i={valid:!0,src:t=r&&r.view&&r.view.el,srcModel:r,trg:e=n&&n.view&&n.view.el,trgModel:n};if(!t||!e)return i.valid=!1,i;var o=r.get("draggable");if((0,a.isFunction)(o)){var l=o(r,n);i.dragInfo=l,i.draggable=l,o=l}else o=o instanceof Array?o.join(", "):o,i.dragInfo=o,o=(0,a.isString)(o)?this.matches(e,o):o,i.draggable=o;var c=n.get("droppable");if((0,a.isFunction)(c)){var u=c(r,n);i.droppable=u,i.dropInfo=u,c=u}else c=(c=c instanceof s().Collection?1:c)instanceof Array?c.join(", "):c,i.dropInfo=c,c=(0,a.isString)(c)?this.matches(t,c):c,c=o&&this.isTextableActive(r,n)?1:c,i.droppable=c;return c&&o||(i.valid=!1),i},dimsFromTarget:function(e,t,n){var r=this.em,i=[];if(!e)return i;if(this.matches(e,"".concat(this.itemSel,", ").concat(this.containerSel))||(e=this.closest(e,this.itemSel)),this.draggable instanceof Array&&(e=this.closest(e,this.draggable.join(","))),!e)return i;if(this.prevTarget&&this.prevTarget!=e&&(this.prevTarget=null),!this.prevTarget){this.targetP=this.closest(e,this.containerSel);var o=this.validTarget(e);if(r&&r.trigger("sorter:drag:validation",o),!o.valid&&this.targetP)return this.dimsFromTarget(this.targetP,t,n);this.prevTarget=e,this.prevTargetDim=this.getDim(e),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(e)}if(this.prevTarget==e&&(i=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,t,n)||!this.nested&&!this.cacheDims.length){var s=this.targetP;s&&this.validTarget(s).valid&&(i=this.cacheDimsP,this.target=s)}return this.lastPos=null,i},getTargetFromEl:function(e){var t,n=e,r=this.targetPrev,i=this.em,o=this.containerSel,s=this.itemSel;if(this.matches(n,"".concat(s,", ").concat(o))||(n=this.closest(n,s)),this.draggable instanceof Array&&(n=this.closest(n,this.draggable.join(","))),r&&r!=n&&(this.targetPrev=""),!this.targetPrev){t=this.closest(n,o);var a=this.validTarget(n);if(i&&i.trigger("sorter:drag:validation",a),!a.valid&&t)return this.getTargetFromEl(t);this.targetPrev=n}return this.nearElBorders(n)&&(t=this.closest(n,o))&&this.validTarget(t).valid&&(n=t),n},nearElBorders:function(e){var t=10,n=e.getBoundingClientRect(),r=e.ownerDocument.body,i=this.getCurrentPos(),o=i.x,s=i.y,a=n.top+r.scrollTop,l=n.left+r.scrollLeft,c=n.width,u=n.height;if(s<a+t||s>a+u-t||o<l+t||o>l+c-t)return 1},getCurrentPos:function(){var e=this.eventMove;return{x:e.pageX||0,y:e.pageY||0}},getDim:function(e){var t,n,r,i,o=this.em,s=this.canvasRelative,a=o&&o.get("Canvas"),l=a?a.getElementOffsets(e):{};if(s&&o){var c=a.getElementPos(e,{noScroll:1});t=c.top,n=c.left,r=c.height,i=c.width}else{var u=this.offset(e);t=this.relative?e.offsetTop:u.top-(this.wmargin?-1:1)*this.elT,n=this.relative?e.offsetLeft:u.left-(this.wmargin?-1:1)*this.elL,r=e.offsetHeight,i=e.offsetWidth}return{top:t,left:n,height:r,width:i,offsets:l}},getChildrenDim:function(e){var t=this,n=[];if(!e)return n;var r=this.getTargetModel(e);if(r&&r.view&&!this.ignoreViewChildren){var i=r.getCurrentView?r.getCurrentView():r.view;e=i.getChildrenContainer()}return(0,a.each)(e.children,(function(r,i){var o=(0,l.getModel)(r,h),s=o&&o.index?o.index():i;if((0,l.isTextNode)(r)||t.matches(r,t.itemSel)){var a=t.getDim(r),c=t.direction;c="v"==c||"h"!=c&&t.isInFlow(r,e),a.dir=c,a.el=r,a.indexEl=s,n.push(a)}})),n},nearBorders:function(e,t,n){var r=0,i=this.borderOffset,o=t||0,s=n||0,a=e.top,l=e.left,c=e.height,u=e.width;return(a+i>s||s>a+c-i||l+i>o||o>l+u-i)&&(r=1),!!r},findPosition:function(e,t,n){for(var r={index:0,indexEl:0,method:"before"},i=0,o=0,s=0,a=0,l=0,c=0,u=0,h=0,d=e.length;h<d;h++){var f=u=e[h],p=f.top,g=f.left,m=f.height,v=f.width;if(c=p+m,a=g+v/2,l=p+m/2,!(o&&g>o||s&&l>=s||i&&g+v<i))if(r.index=h,r.indexEl=u.indexEl,u.dir){if(n<l){r.method="before";break}r.method="after"}else n<c&&(s=c),t<a?(o=a,r.method="before"):(i=a,r.method="after")}return r},movePlaceholder:function(e,t,n,r){var i=0,o=0,s=0,a=0,l=0,c="px",u=5,h=n.method,d=t[n.index];if(e.classList.remove("vertical"),e.classList.add("horizontal"),d){var f=d.top,p=d.left,g=d.height,m=d.width;d.dir?(a=m+c,l="auto",o="before"==h?f-i:f+g-i,s=p):(a="auto",l=g-2*i+c,o=f+i,s="before"==h?p-i:p+m-i,e.classList.remove("horizontal"),e.classList.add("vertical"))}else{if(!this.nested)return void(e.style.display="none");if(r){var v=r.offsets||{},y=v.paddingTop||u,b=v.paddingLeft||u;o=r.top+y,s=r.left+b,a=parseInt(r.width)-2*b+c,l="auto"}}e.style.top=o+c,e.style.left=s+c,a&&(e.style.width=a),l&&(e.style.height=l)},parents:function(e){return e?[e].concat(this.parents(e.parent())):[]},sort:function(e,t){var n=e.parents.filter((function(e){return t.parents.includes(e)}))[0];if(!n)return t.model.index()-e.model.index();var r=e.parents[e.parents.indexOf(n)-1];return t.parents[t.parents.indexOf(n)-1].index()-r.index()},endMove:function(e){var t,n=this,r=this.sourceEl,i=[],o=this.getDocuments(),s=this.getContainerEl(),c=this.onEndMove,h=this.onEnd,d=this.target,f=this.lastPos;if((0,l.off)(s,"mousemove dragover",this.onMove),(0,l.off)(o,"mouseup dragend touchend",this.endMove),(0,l.off)(o,"keydown",this.rollback),this.plh.style.display="none",r&&(t=this.getSourceModel(),this.selectOnEnd&&t&&t.set&&(t.set("status",""),t.set("status","selected"))),this.moved&&d){var p=this.toMove,g=(0,a.isArray)(p)?p:p?[p]:[r],m=0;1===g.length?i.push(this.move(d,g[0],f)):g.map((function(e){return{model:e,parents:n.parents(e)}})).sort(this.sort).forEach((function(e){var t=e.model,r=t.index(),o=t.parent().getEl();i.push(n.move(d,t,u(u({},f),{},{indexEl:f.indexEl-m,index:f.index-m}))),o===d&&r<=f.index&&m++}))}this.plh&&(this.plh.style.display="none");var v=this.dragHelper;if(v&&(v.parentNode.removeChild(v),this.dragHelper=null),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),this.toMove=null,this.eventMove=0,this.dropModel=null,(0,a.isFunction)(c)){var y={target:t,parent:t&&t.parent(),index:t&&t.index()};i.length?i.forEach((function(e){return c(e,n,y)})):c(null,this,u(u({},y),{},{cancelled:1}))}(0,a.isFunction)(h)&&h({sorter:this})},move:function(e,t,n){var r,i,o=this.em,c=this.dropContent,u=(0,l.getElement)(t),d=[],f="after"===n.method?n.indexEl+1:n.indexEl,p=this.validTarget(e,u),g=h(e).data("collection"),m=p.trgModel,v=p.srcModel,y=p.draggable,b=m instanceof s().Collection?1:p.droppable;if(g&&b&&y){var w={at:f,action:"move-component"},x=this.isTextableActive(v,m);if(c)r=(0,a.isFunction)(c)?c():c,w.avoidUpdateStyle=!0,w.action="add-component";else{var k=v.collection.indexOf(v),C=g===v.collection;(!C||k!==f&&k!==f-1||x)&&(r=v.collection.remove(v,{temporary:!0}),C&&f>k&&(w.at=f-1))}r&&(x?(delete w.at,i=m.getView().insertComponent(r,w)):i=g.add(r,w)),this.dropContent=null,this.prevTarget=null}else if(o){var S=p.dropInfo||(null==m?void 0:m.get("droppable")),_=p.dragInfo||(null==v?void 0:v.get("draggable"));!g&&d.push("Target collection not found"),!b&&S&&d.push("Target is not droppable, accepts [".concat(S,"]")),!y&&_&&d.push("Component not draggable, acceptable by [".concat(_,"]")),o.logWarning("Invalid target position",{errors:d,model:v,context:"sorter",target:m})}return null==o||o.trigger("sorter:drag:end",{targetCollection:g,modelToDrop:r,warns:d,validResult:p,dst:e,srcEl:u}),i},rollback:function(e){(0,l.off)(this.getDocuments(),"keydown",this.rollback),27==(e.which||e.keyCode)&&(this.moved=0,this.endMove())}}),p=n(5671),g=n(3144);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={mousePosFetcher:null,updateTarget:null,ratioDefault:0,posFetcher:null,onStart:null,onMove:null,onEnd:null,onUpdateContainer:function(){},step:1,minDim:10,maxDim:"",unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:1,silentFrames:0,avoidContainerUpdate:0,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:1,tc:1,tr:1,cl:1,cr:1,bl:1,bc:1,br:1},b=function(e,t){var n=t||window,r=e.getBoundingClientRect();return{left:r.left+n.pageXOffset,top:r.top+n.pageYOffset,width:r.width,height:r.height}},w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,p.Z)(this,e),this.setOptions(t),(0,a.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop"),this}return(0,g.Z)(e,[{key:"getConfig",value:function(){return this.opts}},{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=(0,a.defaults)(e,y),this.setup()}},{key:"setup",value:function(){var e=this.opts,t=e.prefix||"",n=e.appendTo||document.body,r=this.container;for(r||((r=document.createElement("div")).className="".concat(t,"resizer-c"),n.appendChild(r),this.container=r);r.firstChild;)r.removeChild(r.firstChild);var i={};for(var o in["tl","tc","tr","cl","cr","bl","bc","br"].forEach((function(t){return i[t]=e[t]?function(e,t){var n=t.prefix||"",r=document.createElement("i");return r.className=n+"resizer-h "+n+"resizer-h-"+e,r.setAttribute("data-"+n+"handler",e),r}(t,e):""})),i){var s=i[o];s&&r.appendChild(s)}this.handlers=i,this.mousePosFetcher=e.mousePosFetcher,this.updateTarget=e.updateTarget,this.posFetcher=e.posFetcher,this.onStart=e.onStart,this.onMove=e.onMove,this.onEnd=e.onEnd,this.onUpdateContainer=e.onUpdateContainer}},{key:"toggleFrames",value:function(e){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,a.each)(t,(function(t){return t.style.pointerEvents=e?"none":""}))}}},{key:"isHandler",value:function(e){var t=this.handlers;for(var n in t)if(t[n]===e)return!0;return!1}},{key:"getFocusedEl",value:function(){return this.el}},{key:"getParentEl",value:function(){return this.el.parentElement}},{key:"getDocumentEl",value:function(){return[this.el.ownerDocument,document]}},{key:"getElementPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.posFetcher||"";return n?n(e,t):b(e)}},{key:"focus",value:function(e){e&&e===this.el||(this.el=e,this.updateContainer({forceShow:1}),(0,l.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))}},{key:"blur",value:function(){this.container.style.display="none",this.el&&((0,l.off)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),this.el=null)}},{key:"start",value:function(e){if(0===e.button){e.preventDefault(),e.stopPropagation();var t=this.el,n=this.getParentEl(),r=this.opts||{},i=this.mousePosFetcher,o="data-"+r.prefix+"handler",s=this.getElementPos(t,{target:"el"}),c=this.getElementPos(n);this.handlerAttr=e.target.getAttribute(o),this.clickedHandler=e.target,this.startDim={t:s.top,l:s.left,w:s.width,h:s.height},this.rectDim={t:s.top,l:s.left,w:s.width,h:s.height},this.startPos=i?i(e):{x:e.clientX,y:e.clientY},this.parentDim={t:c.top,l:c.left,w:c.width,h:c.height};var u=this.getDocumentEl();this.docs=u,(0,l.on)(u,"pointermove",this.move),(0,l.on)(u,"keydown",this.handleKeyDown),(0,l.on)(u,"pointerup",this.stop),(0,a.isFunction)(this.onStart)&&this.onStart(e,{docs:u,config:r,el:t,resizer:this}),this.toggleFrames(1),this.move(e)}}},{key:"move",value:function(e){var t=this.onMove,n=this.mousePosFetcher,r=n?n(e):{x:e.clientX,y:e.clientY};this.currentPos=r,this.delta={x:r.x-this.startPos.x,y:r.y-this.startPos.y},this.keys={shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey},this.rectDim=this.calc(this),this.updateRect(0),t&&t(e)}},{key:"stop",value:function(e){var t=this.el,n=this.opts,r=this.docs||this.getDocumentEl();(0,l.off)(r,"pointermove",this.move),(0,l.off)(r,"keydown",this.handleKeyDown),(0,l.off)(r,"pointerup",this.stop),this.updateRect(1),this.toggleFrames(),(0,a.isFunction)(this.onEnd)&&this.onEnd(e,{docs:r,config:n,el:t,resizer:this}),delete this.docs}},{key:"updateRect",value:function(e){var t=this.el,n=this.opts,r=this.rectDim,i=this.updateTarget,o=this.getSelectedHandler(),s=n.unitHeight,l=n.unitWidth,c=n.keyWidth,u=n.keyHeight;if((0,a.isFunction)(i))i(t,r,{store:e,selectedHandler:o,resizer:this,config:n});else{var h=t.style;h[c]=r.w+l,h[u]=r.h+s}this.updateContainer()}},{key:"updateContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.opts,n=this.container,r=this.el,i=n.style;!t.avoidContainerUpdate&&r&&e.forceShow&&(i.display="block"),this.onUpdateContainer({el:n,resizer:this,opts:v(v({},t),e)})}},{key:"getSelectedHandler",value:function(){var e=this.handlers;if(this.selectedHandler)for(var t in e)if(e[t]===this.selectedHandler)return t}},{key:"handleKeyDown",value:function(e){27===e.keyCode&&(this.rectDim=this.startDim,this.stop(e))}},{key:"handleMouseDown",value:function(e){var t=e.target;this.isHandler(t)?(this.selectedHandler=t,this.start(e)):t!==this.el&&(this.selectedHandler="",this.blur())}},{key:"calc",value:function(e){var t,n=this.opts||{},r=n.step,i=this.startDim,o=n.minDim,s=n.maxDim,a=e.delta.x,c=e.delta.y,u=this.parentDim.w,h=this.parentDim.h,d=this.opts.unitWidth,f=this.opts.unitHeight,p="%"===d?i.w/100*u:i.w,g="%"===f?i.h/100*h:i.h,m={t:0,l:0,w:p,h:g};if(e){var v=e.handlerAttr;~v.indexOf("r")&&(t="%"===d?(0,l.normalizeFloat)((p+a*r)/u*100,.01):(0,l.normalizeFloat)(p+a*r,r),t=Math.max(o,t),s&&(t=Math.min(s,t)),m.w=t),~v.indexOf("b")&&(t="%"===f?(0,l.normalizeFloat)((g+c*r)/h*100,.01):(0,l.normalizeFloat)(g+c*r,r),t=Math.max(o,t),s&&(t=Math.min(s,t)),m.h=t),~v.indexOf("l")&&(t="%"===d?(0,l.normalizeFloat)((p-a*r)/u*100,.01):(0,l.normalizeFloat)(p-a*r,r),t=Math.max(o,t),s&&(t=Math.min(s,t)),m.w=t),~v.indexOf("t")&&(t="%"===f?(0,l.normalizeFloat)((g-c*r)/h*100,.01):(0,l.normalizeFloat)(g-c*r,r),t=Math.max(o,t),s&&(t=Math.min(s,t)),m.h=t);var y=n.ratioDefault?!e.keys.shift:e.keys.shift;if(v.indexOf("c")<0&&y){var b=i.w/i.h;m.w/m.h>b?m.h=Math.round(m.w/b):m.w=Math.round(m.h*b)}return~v.indexOf("l")&&(m.l=i.w-m.w),~v.indexOf("t")&&(m.t=i.h-m.h),m}}}]),e}(),x={init:function(e){return new w(e)}};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(){return{name:"Utils",init:function(){return this},destroy:function(){},Sorter:f,Resizer:x,Dragger:i.Z,helpers:C({},l)}}},7116:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r,i=n(2316),o=n.n(i),s=n(9050),a=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t,n,r){return e.call(this,n,{module:t,modelConstructor:r})||this}return a(t,e),t.prototype.add=function(t,n){var r,i=this,o=(0,s.isArray)(t)?t:(0,s.isUndefined)(t)?void 0:[t];return o=null!==(r=null==o?void 0:o.map((function(e){return e instanceof i.newModel?e:new i.newModel(i.module,e)})))&&void 0!==r?r:[void 0],e.prototype.add.call(this,(0,s.isArray)(t)?o:o[0],n)},t.prototype.preinitialize=function(e,t){this.newModel=t.modelConstructor,this.module=t.module},t}(o().Collection)},7904:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r,i=n(2316),o=n.n(i),s=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(t,n,r){var i=e.call(this,n,r)||this;return i._module=t,i}return s(t,e),Object.defineProperty(t.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),t}(o().Model)},6434:function(e,t,n){"use strict";n.d(t,{O:function(){return h},Z:function(){return u}});var r,i=n(9050),o=n(1163),s=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},l=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},c=function(){function e(e,t,n){this.cls=[],this.isPrivate=!1,this._em=e,this._name=t;var r=this.name.charAt(0).toLowerCase()+this.name.slice(1),s=(0,i.isUndefined)(e.config[r])?e.config[this.name]:e.config[r],a=!0===s?{}:s||{};a.pStylePrefix=e.config.pStylePrefix||"",(0,i.isUndefined)(s)||s||(a._disable=1),a.em=e,this._config=(0,o.deepMerge)(n||{},a)}return Object.defineProperty(e.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),e.prototype.init=function(e){},e.prototype.postLoad=function(e){},Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e.prototype.getConfig=function(e){return e?this.config[e]:this.config},e.prototype.__logWarn=function(e,t){void 0===t&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(e),t)},e.prototype.__appendTo=function(){var e=this.getConfig().appendTo;if(e){var t=(0,i.isElement)(e)?e:document.querySelector(e);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},e}(),u=c,h=function(e){function t(t,n,r,i){var o=e.call(this,t,n)||this;return o.cls=[],o.private=!1,o.all=r,o.events=i,o.__initListen(),o}return s(t,e),t.prototype.postLoad=function(e){},t.prototype.render=function(){},t.prototype.getProjectData=function(e){var t={},n=this.storageKey;return n&&(t[n]=e||this.getAll()),t},t.prototype.loadProjectData=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=t.all,r=t.onResult,i=t.reset,s=this.storageKey,a={action:"load"},l=n||this.all,c=e[s];if("string"==typeof c)try{c=JSON.parse(c)}catch(e){this.__logWarn("Data parsing failed",{input:c})}return i&&c&&l.reset(void 0,a),r?c&&r(c,a):c&&(0,o.isDef)(c.length)&&l.reset(c,a),c},t.prototype.clear=function(e){void 0===e&&(e={});var t=this.all;return t&&t.reset(void 0,e),this},t.prototype.getAll=function(){return l([],this.all.models,!0)},t.prototype.getAllMap=function(){return this.getAll().reduce((function(e,t){return e[t.get(t.idAttribute)]=t,e}),{})},t.prototype.__initListen=function(e){void 0===e&&(e={});var t=this,n=t.all,r=t.em,i=t.events;n&&r&&n.on("add",(function(e,t,n){return r.trigger(i.add,e,n)})).on("remove",(function(e,t,n){return r.trigger(i.remove,e,n)})).on("change",(function(e,t){return r.trigger(i.update,e,e.changedAttributes(),t)})).on("all",this.__catchAllEvent,this),this.cls=[n].concat(e.collections||[]),(e.propagate||[]).forEach((function(e){var t=e.entity,i=e.event;t.on("all",(function(e,t,o,s){var l=a({event:e},s||o);[r,n].map((function(e){return e.trigger(i,t,l)}))}))}))},t.prototype.__remove=function(e,t){var n=this;void 0===t&&(t={});var r=this.em,i=isString(e)?this.get(e):e,o=function(){return i&&n.all.remove(i,t),i};return!t.silent&&(null==r||r.trigger(this.events.removeBefore,i,o,t)),!t.abort&&o()},t.prototype.__catchAllEvent=function(e,t,n,r){var i=this.em,o=this.events,s=r||n;i&&o.all&&i.trigger(o.all,{event:e,model:t,options:s}),this.__onAllEvent()},t.prototype.__appendTo=function(){var e=this.config.appendTo;if(e){var t=(0,i.isElement)(e)?e:document.querySelector(e);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},t.prototype.__onAllEvent=function(){},t.prototype._createId=function(e){void 0===e&&(e=16);var t,n=this.getAll().length+e,r=this.getAllMap();do{t=(0,o.createId)(n)}while(r[t]);return t},t.prototype.__listenAdd=function(e,t){var n=this;e.on("add",(function(e,r,i){return n.em.trigger(t,e,i)}))},t.prototype.__listenRemove=function(e,t){var n=this;e.on("remove",(function(e,r,i){return n.em.trigger(t,e,i)}))},t.prototype.__listenUpdate=function(e,t){var n=this;e.on("change",(function(e,r){return n.em.trigger(t,e,e.changedAttributes(),r)}))},t.prototype.__destroy=function(){var e;this.cls.forEach((function(e){e.stopListening(),e.reset()})),null===(e=this.view)||void 0===e||e.remove(),this.view=void 0},t}(c)},3059:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r,i=n(2316),o=n.n(i),s=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),Object.defineProperty(t.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"module",{get:function(){var e,t;return null!==(t=null===(e=this.model)||void 0===e?void 0:e.module)&&void 0!==t?t:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),t.prototype.preinitialize=function(e){this.className=""},t}(o().View)},7287:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var r,i=n(9050),o=n(6434),s=n(1163),a={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:"",autoscrollLimit:50,extHl:0,frameContent:"<!DOCTYPE html>",frameStyle:"\n    body { background-color: #fff }\n    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }\n    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }\n    * ::-webkit-scrollbar { width: 10px }\n  ",notTextable:["button","a","input[type=checkbox]","input[type=radio]"]},l=n(7904),c=n(7948),u=n(2004),h=n(3560),d=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e){function t(t){var n=this,r=t.em,i=t.config,o=i.scripts,s=i.styles;return(n=e.call(this,t,{scripts:o,styles:s})||this).set("frames",new h.Z(t)),n.listenTo(n,"change:zoom",n.onZoomChange),n.listenTo(r,"change:device ".concat(u.evUpdate),n.updateDevice),n.listenTo(r,c.evPageSelect,n._pageUpdated),n}return d(t,e),t.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[]}},Object.defineProperty(t.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this.em.get("PageManager").getMain();this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},t.prototype._pageUpdated=function(e,t){var n=this.em;n.setSelected(),n.get("readyCanvas")&&n.stopDefault(),null==t||t.getFrames().map((function(e){return e.disable()})),this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},t.prototype.updateDevice=function(e){void 0===e&&(e={});var t=this.em,n=t.getDeviceModel(),r=e.frame||t.getCurrentFrameModel();if(r&&n){var i=n.attributes,o=i.width,s=i.height;r.set({width:o,height:s},{noUndo:1})}},t.prototype.onZoomChange=function(){this.get("zoom")<1&&this.set("zoom",1)},t}(l.Z),p=f,g=n(6840),m=n(3059),v=n(9283),y=n(2316),b=n.n(y),w=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(e){function t(t,n){void 0===t&&(t={}),void 0===n&&(n=!1);var r=e.call(this,t)||this;return r.itemsView="",r.itemType="type",r.reuseView=!1,r.viewCollection=[],n&&r.listenTo(r.collection,"add",r.addTo),r}return w(t,e),t.prototype.addTo=function(e){this.add(e)},t.prototype.itemViewNotFound=function(e){},t.prototype.add=function(e,t){var n,r=this,i=r.reuseView,o=r.viewCollection,s=(r.itemsView,t||null),a=e.get(this.itemType);n=e.view&&i?e.view:this.renderView(e,a),o.push(n);var l=n.render().el;s?s.appendChild(l):this.$el.append(l)},t.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each((function(n){return e.add(n,t)})),this.$el.append(t),this.onRender(),this},t.prototype.onRender=function(){},t.prototype.onRemoveBefore=function(e,t){},t.prototype.onRemove=function(e,t){},t.prototype.remove=function(e){void 0===e&&(e={});var t=this.viewCollection;return this.onRemoveBefore(t,e),this.clearItems(),b().View.prototype.remove.apply(this,e),this.onRemove(t,e),this},t.prototype.clearItems=function(){this.viewCollection},t}(m.Z),k=n(4868),C=n(4942),S=n(5671),_=n(3144);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var E=function(){function e(t,n){var r=this;(0,S.Z)(this,e),this.em=t;var o=n||t.get("Canvas").getFrames().map((function(e){return e.getComponent().getEl()})),s=Array.isArray(o)?o:[o];return this.el=o,this.counter=0,(0,i.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),s.forEach((function(e){return r.toggleEffects(e,1)})),this}return(0,_.Z)(e,[{key:"toggleEffects",value:function(e,t){var n={on:s.on,off:s.off},r=t?"on":"off";n[r](e,"dragenter",this.handleDragEnter),n[r](e,"dragover",this.handleDragOver),n[r](e,"drop",this.handleDrop),n[r](e,"dragleave",this.handleDragLeave)}},{key:"__customTglEff",value:function(e){var t=e?s.on:s.off,n=this.el.ownerDocument,r=n.defaultView.frameElement;this.sortOpts=e?{onStart:function(e){var t=e.sorter;(0,s.on)(r,"pointermove",t.onMove)},onEnd:function(e){var t=e.sorter;(0,s.off)(r,"pointermove",t.onMove)},customTarget:function(e){var t=e.event;return n.elementFromPoint(t.clientX,t.clientY)}}:null,t(r,"pointerenter",this.handleDragEnter),t(r,"pointermove",this.handleDragOver),t(document,"pointerup",this.handleDrop),t(r,"pointerout",this.handleDragLeave)}},{key:"startCustom",value:function(){this.__customTglEff(!0)}},{key:"endCustom",value:function(e){this.over?this.endDrop(e):this.__customTglEff(!1)}},{key:"endDrop",value:function(e,t){var n=this.em,r=this.dragStop;this.counter=0,r&&r(e),this.__customTglEff(!1),n.trigger("canvas:dragend",t)}},{key:"handleDragLeave",value:function(e){this.updateCounter(-1,e)}},{key:"updateCounter",value:function(e,t){this.counter+=e,0===this.counter&&this.endDrop(1,t)}},{key:"handleDragEnter",value:function(e){var t=this,n=this.em,r=e.dataTransfer;if(this.updateCounter(1,e),!this.over){this.over=1;var i,o,s=n.get("Utils"),a=n.get("Canvas"),l=n.get("dragContent")||"<br>";if(n.stopDefault(),n.inAbsoluteMode()){var c=n.get("DomComponents").getWrapper(),u=c.append({})[0],h=n.get("Commands").run("core:component-drag",{event:e,guidesInfo:1,center:1,target:u,onEnd:function(e,n,i){var o;if(!i.cancelled){o=c.append(l)[0];var s=a.getOffset(),h=u.getStyle(),d=h.top,f=h.left,p=h.position;o.addStyle({left:parseFloat(f)-s.left+"px",top:parseFloat(d)-s.top+"px",position:p})}t.handleDragEnd(o,r),u.remove()}});i=function(t){return h.stop(e,{cancel:t})},o=function(e){return l=e}}else{var d=new s.Sorter(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,C.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({em:n,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:a.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(e){return t.handleDragEnd(e,r)},document:this.el.ownerDocument},this.sortOpts||{}));d.setDropContent(l),d.startSort(),this.sorter=d,i=function(e){e&&(d.moved=0),d.endMove()},o=function(e){return d.setDropContent(e)}}this.dragStop=i,this.dragContent=o,n.trigger("canvas:dragenter",r,l)}}},{key:"handleDragEnd",value:function(e,t){var n=this.em;this.over=0,e&&(n.set("dragResult",e),n.trigger("canvas:drop",t,e)),n.runDefault({preserveSelected:1})}},{key:"handleDragOver",value:function(e){e.preventDefault(),this.em.trigger("canvas:dragover",e)}},{key:"handleDrop",value:function(e){e.preventDefault();var t=this.dragContent,n=e.dataTransfer,r=this.getContentByData(n).content;e.target.style.border="",r&&t&&t(r),this.endDrop(!r,e)}},{key:"getContentByData",value:function(e){var t=this.em,n=e&&e.types,r=e&&e.files||[],o=t.get("dragContent"),s=e&&e.getData("text");if(r.length){s=[];for(var a=0;a<r.length;a++){var l=r[a],c=l.type.split("/")[0];"image"==c&&s.push({type:c,file:l,attributes:{alt:l.name}})}}else if(o)s=o;else if((0,i.indexOf)(n,"text/html")>=0)s=e&&e.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,i.indexOf)(n,"text/uri-list")>=0)s={type:"link",attributes:{href:s},content:s};else if((0,i.indexOf)(n,"text/json")>=0){var u=e&&e.getData("text/json");u&&(s=JSON.parse(u))}else 1===n.length&&"text/plain"===n[0]&&(s="<div>".concat(s,"</div>"));var h={content:s};return t.trigger("canvas:dragdata",e,h),h}}]),e}(),T=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(){return A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},A.apply(this,arguments)},$=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},L=function(e){function t(t,n){var r=e.call(this,{model:t})||this;r.dragging=!1,r.lastMaxHeight=0,r.tools={},(0,i.bindAll)(r,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var o=r,a=o.el;o.em,r.module._config=A(A({},r.config||{}),{frameView:r}),r.frameWrapView=n,r.showGlobalTools=(0,i.debounce)(r.showGlobalTools.bind(r),50);var l=r.getCanvasModel();return r.listenTo(t,"change:head",r.updateHead),r.listenTo(l,"change:styles",r.renderStyles),t.view=r,(0,s.setViewEl)(a,r),r}return T(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),t.prototype.updateHead=function(){var e=this.model,t=this.getHead(),n=[],r=[],i=e.head,o=e.previous("head"),s=function(e){return void 0===e&&(e={}),Object.keys(e).sort().map((function(t){return"[".concat(t,'="').concat(e[t],'"]')})).join("")},a=function(e,t,n){e.forEach((function(e){var r=e.tag,i=e.attributes;!t.some((function(e){return e.tag===r&&s(e.attributes)===s(i)}))&&n.push(e)}))};a(i,o,r),a(o,i,n),n.forEach((function(e){var n,r=t.querySelector("".concat(e.tag).concat(s(e.attributes)));null===(n=null==r?void 0:r.parentNode)||void 0===n||n.removeChild(r)})),(0,v.SJ)(t,r)},t.prototype.getEl=function(){return this.el},t.prototype.getCanvasModel=function(){return this.em.get("Canvas").getModel()},t.prototype.getWindow=function(){return this.getEl().contentWindow},t.prototype.getDoc=function(){return this.getEl().contentDocument},t.prototype.getHead=function(){return this.getDoc().querySelector("head")},t.prototype.getBody=function(){return this.getDoc().querySelector("body")},t.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},t.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,v.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},t.prototype.getToolsEl=function(){var e;return null===(e=this.frameWrapView)||void 0===e?void 0:e.elTools},t.prototype.getGlobalToolsEl=function(){return this.em.get("Canvas").getGlobalToolsEl()},t.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},t.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},t.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},t.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},t.prototype.getOffsetRect=function(){var e=this.el,t=this.getBody(),n=t.scrollTop,r=t.scrollLeft,i=e.offsetHeight,o=e.offsetWidth;return{top:e.offsetTop,left:e.offsetLeft,height:i,width:o,scrollTop:n,scrollLeft:r,scrollBottom:n+i,scrollRight:r+o}},t.prototype._getTool=function(e){var t=this.tools,n=this.getToolsEl();return t[e]||(t[e]=n.querySelector(e)),t[e]},t.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.wrapper;return this._toggleEffects(!1),this.tools={},n&&n.remove(),m.Z.prototype.remove.apply(this,e),this},t.prototype.startAutoscroll=function(){var e=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout((function(){e._toggleAutoscrollFx(!0),requestAnimationFrame(e.autoscroll)}),0)},t.prototype.autoscroll=function(){if(this.dragging){var e=this.lastClientY,t=this.em.get("Canvas"),n=this.getWindow(),r=n.pageYOffset,o=e||0,s=t.getConfig().autoscrollLimit,a=this.getRect().height-s,l=r;o<s&&(l-=s-o),o>a&&(l+=o-a),!(0,i.isUndefined)(e)&&l!==r&&l>0&&l<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity=0,this.showGlobalTools(),n.scrollTo(0,l)),requestAnimationFrame(this.autoscroll)}},t.prototype.updateClientY=function(e){e.preventDefault(),this.lastClientY=(0,s.getPointerEvent)(e).clientY*this.em.getZoomDecimal()},t.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},t.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},t.prototype._toggleAutoscrollFx=function(e){this.dragging=e;var t=this.getWindow(),n=e?"on":"off",r={on:s.on,off:s.off};r[n](t,"mousemove dragover",this.updateClientY),r[n](t,"mouseup",this.stopAutoscroll)},t.prototype.render=function(){var e=this.$el,t=this.ppfx;return e.attr({class:"".concat(t,"frame")}),this.renderScripts(),this},t.prototype.renderScripts=function(){var e=this,t=this,n=t.el,r=t.model,o=t.em,s="frame:load",a={el:n,model:r,view:this},l=this.getCanvasModel(),c=function t(r){var l;if(r.length>0){var c=r.shift(),u=(0,v.ut)("script",A({type:"text/javascript"},(0,i.isString)(c)?{src:c}:c));u.onerror=u.onload=t.bind(null,r),null===(l=n.contentDocument)||void 0===l||l.head.appendChild(u)}else e.renderBody(),o&&o.trigger(s,a)};n.onload=function(){var t=e.config.frameContent;if(t){var n=e.getDoc();n.open(),n.write(t),n.close()}o&&o.trigger("".concat(s,":before"),a),c($([],l.get("scripts"),!0))}},t.prototype.renderStyles=function(e){void 0===e&&(e={});var t=this.getHead(),n=this.getCanvasModel(),r=function(e){return e.map((function(e){return{tag:"link",attributes:A({rel:"stylesheet"},(0,i.isString)(e)?{href:e}:e)}}))},o=r(e.prev||n.previous("styles")),s=r(n.get("styles")),a=[],l=[],c=function(e,t,n){e.forEach((function(e){var r=e.attributes.href;!t.some((function(e){return e.attributes.href===r}))&&n.push(e)}))};c(s,o,l),c(o,s,a),a.forEach((function(e){var n,r=t.querySelector('link[href="'.concat(e.attributes.href,'"]'));null===(n=null==r?void 0:r.parentNode)||void 0===n||n.removeChild(r)})),(0,v.SJ)(t,l)},t.prototype.renderBody=function(){var e,t,n=this,r=this,i=r.config,o=r.em,a=r.model,l=r.ppfx,c=this.getDoc(),u=this.getBody(),h=this.getWindow(),d=o.config;h._isEditor=!0,this.renderStyles({prev:[]}),(0,v.R3)(u,"<style>\n      ".concat(d.baseCss||i.frameStyle||"",'\n\n      [data-gjs-type="wrapper"] {\n        min-height: 100vh;\n        padding-top: 0.001em;\n      }\n\n      .').concat(l,"dashed *[data-gjs-highlightable] {\n        outline: 1px dashed rgba(170,170,170,0.7);\n        outline-offset: -2px;\n      }\n\n      .").concat(l,"selected {\n        outline: 2px solid #3b97e3 !important;\n        outline-offset: -2px;\n      }\n\n      .").concat(l,"selected-parent {\n        outline: 2px solid ").concat("#ffca6f"," !important\n      }\n\n      .").concat(l,"no-select {\n        user-select: none;\n        -webkit-user-select:none;\n        -moz-user-select: none;\n      }\n\n      .").concat(l,"freezed {\n        opacity: 0.5;\n        pointer-events: none;\n      }\n\n      .").concat(l,"no-pointer {\n        pointer-events: none;\n      }\n\n      .").concat(l,"plh-image {\n        background: #f5f5f5;\n        border: none;\n        height: 100px;\n        width: 100px;\n        display: block;\n        outline: 3px solid #ffca6f;\n        cursor: pointer;\n        outline-offset: -2px\n      }\n\n      .").concat(l,"grabbing {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n      }\n\n      .").concat(l,"is__grabbing {\n        overflow-x: hidden;\n      }\n\n      .").concat(l,"is__grabbing,\n      .").concat(l,"is__grabbing * {\n        cursor: grabbing !important;\n      }\n\n      ").concat(d.canvasCss||"","\n      ").concat(d.protectedCss||"","\n    </style>"));var f=a.getComponent(),p=o.get("DomComponents").getType("wrapper").view;this.wrapper=new p({model:f,config:A(A({},f.config),{em:o,frameView:this})}).render(),(0,v.R3)(u,null===(e=this.wrapper)||void 0===e?void 0:e.el),(0,v.R3)(u,new k.Z({collection:a.getStyles(),config:A(A({},o.get("CssComposer").getConfig()),{frameView:this})}).render().el),(0,v.R3)(u,this.getJsContainer()),(0,s.on)(u,"click",(function(e){var t;return e&&"A"==(null===(t=e.target)||void 0===t?void 0:t.tagName)&&e.preventDefault()})),(0,s.on)(u,"submit",(function(e){return e&&e.preventDefault()})),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent"}].forEach((function(e){return e.event.split(" ").forEach((function(t){c.addEventListener(t,(function(t){return n.el.dispatchEvent((0,v.t3)(t,e.class))}))}))})),this._toggleEffects(!0),this.droppable=(0,s.hasDnd)(o)&&new E(o,null===(t=this.wrapper)||void 0===t?void 0:t.el),a.trigger("loaded")},t.prototype._toggleEffects=function(e){var t=e?s.on:s.off,n=this.getWindow();n&&t(n,"".concat(v.G1," resize"),this._emitUpdate)},t.prototype._emitUpdate=function(){this.model._emitUpdated()},t}(m.Z),R=L,P=n(5610),M=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(){return D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},D.apply(this,arguments)},j=function(e){function t(t,n){var r=e.call(this,{model:t})||this;return(0,i.bindAll)(r,"onScroll","frameLoaded","updateOffset","remove","startDrag"),D(D({},t.config),{frameWrapView:r}),r.cv=n,r.frame=new R(t,r),r.classAnim="".concat(r.ppfx,"frame-wrapper--anim"),r.updateOffset=(0,i.debounce)(r.updateOffset.bind(r),0),r.updateSize=(0,i.debounce)(r.updateSize.bind(r),0),r.listenTo(t,"loaded",r.frameLoaded),r.listenTo(t,"change:x change:y",r.updatePos),r.listenTo(t,"change:width change:height",r.updateSize),r.listenTo(t,"destroy remove",r.remove),r.updatePos(),r.setupDragger(),r}return M(t,e),t.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},t.prototype.setupDragger=function(){var e,t,n,r=this,i=this.module,o=this.model,s=function(e){i.toggleFramesEvents(e)};this.dragger=new P.Z({onStart:function(){var i=o.attributes,a=i.x,l=i.y;n=r.em.getZoomMultiplier(),e=a,t=l,s(!1)},onEnd:function(){return s(!0)},setPosition:function(r){o.set({x:e+r.x*n,y:t+r.y*n})}})},t.prototype.startDrag=function(e){var t;e&&(null===(t=this.dragger)||void 0===t||t.start(e))},t.prototype.__clear=function(e){var t=this.frame;t&&t.remove(e),(0,v.L_)(this.elTools)},t.prototype.remove=function(e){var t=this;return this.__clear(e),m.Z.prototype.remove.apply(this,e),["frame","dragger","cv","elTools"].forEach((function(e){return t[e]=0})),this},t.prototype.updateOffset=function(){var e,t=this,n=t.em,r=t.$el,i=t.frame;n&&(n.runDefault({preserveSelected:1}),r.removeClass(this.classAnim),null===(e=null==i?void 0:i.model)||void 0===e||e._emitUpdated())},t.prototype.updatePos=function(e){var t=this.model,n=this.el,r=t.attributes,i=r.x,o=r.y,s=n.style;this.frame.rect=void 0,s.left=isNaN(i)?i:"".concat(i,"px"),s.top=isNaN(o)?o:"".concat(o,"px"),e&&this.updateOffset()},t.prototype.updateSize=function(){this.updateDim()},t.prototype.updateDim=function(){var e=this,t=e.em,n=e.el,r=e.$el,o=e.model,s=e.classAnim,a=e.frame;if(a){a.rect=void 0,r.addClass(s);var l=this.__handleSize(),c=l.noChanges,u=l.width,h=l.height;((0,i.isNull)(u)||(0,i.isNull)(h))&&o.set(D(D({},u?{}:{width:n.offsetWidth}),h?{}:{height:n.offsetHeight}),{silent:1}),t.stopDefault({preserveSelected:1}),c?this.updateOffset():setTimeout(this.updateOffset,350)}},t.prototype.onScroll=function(){var e=this.frame;this.em.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},t.prototype.frameLoaded=function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()},t.prototype.__handleSize=function(){var e="px",t=this.model,n=this.el.style,r=t.attributes,o=r.width,s=r.height,a=n.width||"",l=n.height||"",c=o||"",u=s||"",h=a==c&&l==u;return n.width=(0,i.isNumber)(c)?"".concat(c).concat(e):c,n.height=(0,i.isNumber)(u)?"".concat(u).concat(e):u,{noChanges:h,width:o,height:s,newW:c,newH:u}},t.prototype.render=function(){var e=this,t=e.frame,n=e.$el,r=e.ppfx,i=e.cv,o=e.model,s=e.el,a=o.attributes.onRender;this.__clear(),this.__handleSize(),t.render(),n.empty().attr({class:"".concat(r,"frame-wrapper")}).append('\n      <div class="'.concat(r,'frame-wrapper__top gjs-two-color" data-frame-top>\n        <div class="').concat(r,'frame-wrapper__name" data-action-move>\n          ').concat(o.get("name")||"",'\n        </div>\n        <div class="').concat(r,'frame-wrapper__top-r">\n          <div class="').concat(r,'frame-wrapper__icon" data-action-remove style="display: none">\n            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(r,'frame-wrapper__right" data-frame-right></div>\n      <div class="').concat(r,'frame-wrapper__left" data-frame-left></div>\n      <div class="').concat(r,'frame-wrapper__bottom" data-frame-bottom></div>\n      ')).append(t.el);var l=(0,v.ut)("div",{class:"".concat(r,"tools"),style:"pointer-events:none; display: none"},'\n      <div class="'.concat(r,'highlighter" data-hl></div>\n      <div class="').concat(r,'badge" data-badge></div>\n      <div class="').concat(r,'placeholder">\n        <div class="').concat(r,'placeholder-int"></div>\n      </div>\n      <div class="').concat(r,'ghost"></div>\n      <div class="').concat(r,'toolbar" style="pointer-events:all"></div>\n      <div class="').concat(r,'resizer"></div>\n      <div class="').concat(r,'offset-v" data-offset>\n        <div class="gjs-marginName" data-offset-m>\n          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>\n          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>\n          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>\n          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>\n        </div>\n        <div class="gjs-paddingName" data-offset-m>\n          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>\n          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>\n          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>\n          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>\n        </div>\n      </div>\n      <div class="').concat(r,'offset-fixed-v"></div>\n    '));this.elTools=l;var c=null==i?void 0:i.toolsWrapper;return c&&c.appendChild(l),a&&a({el:s,elTop:s.querySelector("[data-frame-top]"),elRight:s.querySelector("[data-frame-right]"),elBottom:s.querySelector("[data-frame-bottom]"),elLeft:s.querySelector("[data-frame-left]"),frame:o,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},t}(m.Z),N=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(e){function t(t,n){void 0===t&&(t={});var r=e.call(this,t,!0)||this;return r.listenTo(r.collection,"reset",r.render),r.canvasView=n.canvasView,r._module=n.module,r}return N(t,e),t.prototype.onRemoveBefore=function(e,t){void 0===t&&(t={}),e.forEach((function(e){return e.remove(t)}))},t.prototype.onRender=function(){var e=this.$el,t=this.ppfx;e.attr({class:"".concat(t,"frames")})},t.prototype.renderView=function(e,t){return new j(e,this.canvasView)},t}(x),F=I,B=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(){return H=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},H.apply(this,arguments)},Z=function(e){function t(t){var n=e.call(this,{model:t})||this;n.ready=!1,(0,i.bindAll)(n,"clearOff","onKeyPress","onCanvasMove"),n.className=n.pfx+"canvas";var r=n.em;return n._initFrames(),n.listenTo(r,"change:canvasOffset",n.clearOff),n.listenTo(r,"component:selected",n.checkSelected),n.listenTo(t,"change:zoom change:x change:y",n.updateFrames),n.listenTo(t,"change:frames",n._onFramesUpdate),n.toggleListeners(!0),n}return B(t,e),t.prototype.events=function(){return{wheel:"onWheel"}},t.prototype.template=function(){var e=this.pfx;return'\n      <div class="'.concat(e,'canvas__frames" data-frames></div>\n      <div id="').concat(e,'tools" class="').concat(e,'canvas__tools" data-tools></div>\n    ')},t.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},t.prototype._initFrames=function(){var e=this,t=e.frames,n=e.model,r=e.config,i=e.em,o=n.frames;i.set("readyCanvas",0),o.once("loaded:all",(function(){return i.set("readyCanvas",1)})),null==t||t.remove(),this.frames=new F({collection:o},H(H({},r),{canvasView:this}))},t.prototype.checkSelected=function(e,t){var n;void 0===t&&(t={});var r=t.scroll,i=this.em.get("currentFrame");r&&(null===(n=e.views)||void 0===n||n.forEach((function(e){e._getFrame()===i&&e.scrollIntoView(r)})))},t.prototype.remove=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return null===(e=this.frames)||void 0===e||e.remove(),this.frames=void 0,m.Z.prototype.remove.apply(this,t),this.toggleListeners(!1),this},t.prototype.preventDefault=function(e){var t;e&&(e.preventDefault(),null===(t=e._parentEvent)||void 0===t||t.preventDefault())},t.prototype.onCanvasMove=function(e){},t.prototype.toggleListeners=function(e){this.el;var t=e?s.on:s.off;t(document,"keypress",this.onKeyPress),t(window,"scroll resize",this.clearOff)},t.prototype.onKeyPress=function(e){var t=this.em;" "!==(0,s.getKeyChar)(e)||1===t.getZoomDecimal()||t.get("Canvas").isInputFocused()||(this.preventDefault(e),t.get("Editor").runCommand("core:canvas-move"))},t.prototype.onWheel=function(e){if((e.ctrlKey||e.metaKey)&&this.em.getConfig().multiFrames){this.preventDefault(e);var t=this.model,n=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),r=t.get("zoom");t.set("zoom",r+2*n)}},t.prototype.updateFrames=function(e){var t=this.em,n=this.model.attributes,r=n.x,i=n.y,o=this.getZoom(),s={preserveSelected:1},a=o?1/o:1;this.framesArea.style.transform="scale(".concat(o,") translate(").concat(r*a,"px, ").concat(i*a,"px)"),this.clearOff(),t.stopDefault(s),t.trigger("canvas:update",e),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout((function(){return t.runDefault(s)}),300)},t.prototype.getZoom=function(){return this.em.getZoomDecimal()},t.prototype.isElInViewport=function(e){var t=(0,s.getElement)(e),n=(0,s.getElRect)(t),r=this.getFrameOffset(t),i=n.top,o=n.left;return i>=0&&o>=0&&i<=r.height&&o<=r.width},t.prototype.offset=function(e,t){var n,r;void 0===t&&(t={});var i=(0,s.getElRect)(e),o=null==e?void 0:e.ownerDocument.body,a=t.noScroll;return{top:i.top+(a?0:null!==(n=null==o?void 0:o.scrollTop)&&void 0!==n?n:0),left:i.left+(a?0:null!==(r=null==o?void 0:o.scrollLeft)&&void 0!==r?r:0),width:i.width,height:i.height}},t.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},t.prototype.getFrameOffset=function(e){var t;if(!this.frmOff||e){var n=null===(t=this.frame)||void 0===t?void 0:t.el,r=null==e?void 0:e.ownerDocument.defaultView,i=r?r.frameElement:n;this.frmOff=this.offset(i||n)}return this.frmOff},t.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},t.prototype.getElementPos=function(e,t){void 0===t&&(t={});var n=this.getZoom(),r=t||{},i=this.getFrameOffset(e),o=this.el,s=this.getCanvasOffset(),a=this.offset(e,t),l=r.avoidFrameOffset?0:i.top,c=r.avoidFrameOffset?0:i.left;return{top:a.top*n+l-s.top+o.scrollTop,left:a.left*n+c-s.left+o.scrollLeft,height:a.height*n,width:a.width*n,zoom:n,rect:a}},t.prototype.getElementOffsets=function(e){var t=this;if(!e||(0,s.isTextNode)(e))return{};var n={},r=window.getComputedStyle(e);return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach((function(e){n[e]=parseFloat(r[e])*t.getZoom()})),n},t.prototype.getPosition=function(e){var t;void 0===e&&(e={});var n=null===(t=this.frame)||void 0===t?void 0:t.el.contentDocument;if(n){var r=n.body,i=this.getZoom(),o=this.getFrameOffset(),s=this.getCanvasOffset(),a=e.noScroll;return{top:o.top+(a?0:r.scrollTop)*i-s.top,left:o.left+(a?0:r.scrollLeft)*i-s.left,width:s.width,height:s.height}}},t.prototype.updateScript=function(e){var t=e.model,n=t.getId();e.scriptContainer||(e.scriptContainer=(0,v.ut)("div",{"data-id":n}),this.getJsContainer().appendChild(e.scriptContainer)),e.el.id=n,e.scriptContainer.innerHTML="";var r=document.createElement("script"),i=t.getScriptString(),o=t.get("script-props")?i:"function(){\n".concat(i,"\n;}"),s=JSON.stringify(t.__getScriptProps());r.innerHTML="\n      setTimeout(function() {\n        var item = document.getElementById('".concat(n,"');\n        if (!item) return;\n        (").concat(o,".bind(item))(").concat(s,")\n      }, 1);"),setTimeout((function(){var t=e.scriptContainer;null==t||t.appendChild(r)}),0)},t.prototype.getJsContainer=function(e){var t=this.getFrameView(e);return t&&t.getJsContainer()},t.prototype.getFrameView=function(e){return(null==e?void 0:e._getFrame())||this.em.get("currentFrame")},t.prototype._renderFrames=function(){if(this.ready){var e=this,t=e.model,n=e.frames,r=e.em,i=e.framesArea,o=t.frames;o.listenToLoad(),n.render();var s=o.at(0),a=null==s?void 0:s.view;r.setCurrentFrame(a),null==i||i.appendChild(n.el),this.frame=a}},t.prototype.render=function(){var e=this,t=e.el,n=e.$el,r=e.ppfx,i=e.config,o=e.em;n.html(this.template());var a=n.find("[data-frames]");this.framesArea=a.get(0);var l=n.find("[data-tools]");this.toolsWrapper=l.get(0),l.append('\n      <div class="'.concat(r,"tools ").concat(r,'tools-gl" style="pointer-events:none">\n        <div class="').concat(r,'placeholder">\n          <div class="').concat(r,'placeholder-int"></div>\n        </div>\n      </div>\n      <div id="').concat(r,'tools" style="pointer-events:none">\n        ').concat(i.extHl?'<div class="'.concat(r,'highlighter-sel"></div>'):"",'\n        <div class="').concat(r,'badge"></div>\n        <div class="').concat(r,'ghost"></div>\n        <div class="').concat(r,'toolbar" style="pointer-events:all"></div>\n        <div class="').concat(r,'resizer"></div>\n        <div class="').concat(r,'offset-v"></div>\n        <div class="').concat(r,'offset-fixed-v"></div>\n      </div>\n    '));var c=t.querySelector("#".concat(r,"tools"));return this.hlEl=t.querySelector(".".concat(r,"highlighter")),this.badgeEl=t.querySelector(".".concat(r,"badge")),this.placerEl=t.querySelector(".".concat(r,"placeholder")),this.ghostEl=t.querySelector(".".concat(r,"ghost")),this.toolbarEl=t.querySelector(".".concat(r,"toolbar")),this.resizerEl=t.querySelector(".".concat(r,"resizer")),this.offsetEl=t.querySelector(".".concat(r,"offset-v")),this.fixedOffsetEl=t.querySelector(".".concat(r,"offset-fixed-v")),this.toolsGlobEl=t.querySelector(".".concat(r,"tools-gl")),this.toolsEl=c,this.el.className=(0,s.getUiClass)(o,this.className),this.ready=!0,this._renderFrames(),this},t}(m.Z),z=Z,V=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=function(){return W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},W.apply(this,arguments)},U=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},G=function(e){function t(t){var n=e.call(this,t,"Canvas",a)||this;return n.canvas=new p(n),n.model=n.canvas,n.startAutoscroll=n.startAutoscroll.bind(n),n.stopAutoscroll=n.stopAutoscroll.bind(n),n}return V(t,e),t.prototype.getCanvasView=function(){return this.canvasView},t.prototype.init=function(){},t.prototype.onLoad=function(){this.model.init()},t.prototype.getModel=function(){return this.canvas},t.prototype.getElement=function(){return this.getCanvasView().el},t.prototype.getFrame=function(e){return this.getFrames()[e||0]},t.prototype.getFrameEl=function(){var e=(this.canvasView||{}).frame;return null==e?void 0:e.el},t.prototype.getFramesEl=function(){var e;return null===(e=this.canvasView)||void 0===e?void 0:e.framesArea},t.prototype.getWindow=function(){var e=(this.canvasView||{}).frame;return null==e?void 0:e.getWindow()},t.prototype.getDocument=function(){var e=this.getFrameEl();return null==e?void 0:e.contentDocument},t.prototype.getBody=function(){var e=this.getDocument();return null==e?void 0:e.body},t.prototype._getLocalEl=function(e,t,n){var r=e,i=null==t?void 0:t._getFrame();return i?i[n]():r},t.prototype.getGlobalToolsEl=function(){var e;return null===(e=this.canvasView)||void 0===e?void 0:e.toolsGlobEl},t.prototype.getToolsEl=function(e){return this._getLocalEl(this.getCanvasView().toolsEl,e,"getToolsEl")},t.prototype.getHighlighter=function(e){return this._getLocalEl(this.getCanvasView().hlEl,e,"getHighlighter")},t.prototype.getBadgeEl=function(e){return this._getLocalEl(this.getCanvasView().badgeEl,e,"getBadgeEl")},t.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},t.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},t.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},t.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},t.prototype.getOffsetViewerEl=function(e){return this._getLocalEl(this.getCanvasView().offsetEl,e,"getOffsetViewerEl")},t.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},t.prototype.render=function(){var e;return null===(e=this.canvasView)||void 0===e||e.remove(),this.canvasView=new z(this.canvas),this.canvasView.render().el},t.prototype.getOffset=function(){var e=this.offset(this.getFrameEl()),t=this.offset(this.getElement());return{top:e.top-t.top,left:e.left-t.left}},t.prototype.offset=function(e){return this.getCanvasView().offset(e)},t.prototype.setCustomBadgeLabel=function(e){this.config.customBadgeLabel=e},t.prototype.getElementPos=function(e,t){return this.getCanvasView().getElementPos(e,t)},t.prototype.getElementOffsets=function(e){return this.getCanvasView().getElementOffsets(e)},t.prototype.getRect=function(){var e,t=null!==(e=this.getCanvasView().getPosition())&&void 0!==e?e:{},n=t.top,r=void 0===n?0:n,i=t.left,o=void 0===i?0:i;return W(W({},this.getCanvasView().getCanvasOffset()),{topScroll:r,leftScroll:o})},t.prototype.getTargetToElementDim=function(e,t,n){void 0===n&&(n={});var r=n||{},i=this.getCanvasView().getPosition();if(i){var o=r.elPos||this.getCanvasView().getElementPos(t),s=n.toRight||0,a=r.targetHeight||e.offsetHeight,l=r.targetWidth||e.offsetWidth,c=r.event||null,u=o.top-a,h=o.left;h+=s?o.width:0;var d=(h=s?h-l:h)<i.left?i.left:h,f=u<i.top?i.top:u,p={top:f=f>o.top+o.height?o.top+o.height:f,left:d,elementTop:o.top,elementLeft:o.left,elementWidth:o.width,elementHeight:o.height,targetWidth:e.offsetWidth,targetHeight:e.offsetHeight,canvasTop:i.top,canvasLeft:i.left,canvasWidth:i.width,canvasHeight:i.height};return c&&this.em&&this.em.trigger(c,p),p}},t.prototype.canvasRectOffset=function(e,t,n){var r=this;void 0===n&&(n={});var i=function(e,t,i){void 0===t&&(t=1);var o=r.em.getZoomDecimal(),s=t?"top":"left",a=e.ownerDocument,l=n.offset?function(e){var t=e.defaultView;return null==t?void 0:t.frameElement}(a):{},c=l.offsetTop,u=void 0===c?0:c,h=l.offsetLeft,d=void 0===h?0:h,f=a.body||{},p=f.scrollTop,g=void 0===p?0:p,m=f.scrollLeft,v=t?g:void 0===m?0:m,y=t?u:d;return i[s]-(v-y)*o};return{top:i(e,1,t),left:i(e,0,t)}},t.prototype.getTargetToElementFixed=function(e,t,n){var r;void 0===n&&(n={});var o=n.pos||this.getElementPos(e),s=n.canvasOff||this.canvasRectOffset(e,o),a=t.offsetHeight||0,l=t.offsetWidth||0,c=o.left+o.width,u=this.getCanvasView(),h=u.getPosition(),d=u.getFrameOffset(e),f=n.event,p=-a,g=(0,i.isUndefined)(n.left)?o.width-l:n.left;g=o.left<-g?-o.left:g;var m=null!==(r=null==h?void 0:h.width)&&void 0!==r?r:0;g=c>m?g-(c-m):g;var v=o.height+a,y=v<d.height;s.top<a&&(y?p+=v:p=-s.top<o.height?-s.top:o.height);var b={top:p,left:g,canvasOffsetTop:s.top,canvasOffsetLeft:s.left};return f&&this.em.trigger(f,b),b},t.prototype.getMouseRelativePos=function(e,t){void 0===t&&(t={});var n=0,r=0,i=t.subWinOffset,o=e.target.ownerDocument,s=o.defaultView||o.parentWindow,a=s.frameElement,l=i?s.pageYOffset:0,c=i?s.pageXOffset:0;if(a){var u=a.getBoundingClientRect();n=u.top||0,r=u.left||0}return{y:e.clientY+n-l,x:e.clientX+r-c}},t.prototype.getMouseRelativeCanvas=function(e,t){var n,r=this.getZoomDecimal(),i=null!==(n=this.getCanvasView().getPosition(t))&&void 0!==n?n:{},o=i.top,s=void 0===o?0:o,a=i.left,l=void 0===a?0:a;return{y:e.clientY*r+s,x:e.clientX*r+l}},t.prototype.hasFocus=function(){return this.getDocument().hasFocus()},t.prototype.isInputFocused=function(){var e=this.getDocument(),t=this.getFrameEl(),n=U(["body"],this.config.notTextable,!0),r=t&&document.activeElement===t?e&&e.activeElement:document.activeElement;return r&&!n.some((function(e){return r.matches(e)}))},t.prototype.scrollTo=function(e,t){void 0===t&&(t={});var n=(0,s.getElement)(e),r=n&&(0,s.getViewEl)(n);r&&r.scrollIntoView(t)},t.prototype.startAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.startAutoscroll()},t.prototype.stopAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.stopAutoscroll()},t.prototype.setZoom=function(e){return this.canvas.set("zoom",parseFloat(e)),this},t.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},t.prototype.setCoords=function(e,t){return this.canvas.set({x:parseFloat(e),y:parseFloat(t)}),this},t.prototype.getCoords=function(){var e=this.canvas.attributes;return{x:e.x,y:e.y}},t.prototype.getZoomDecimal=function(){return this.getZoom()/100},t.prototype.getZoomMultiplier=function(){var e=this.getZoomDecimal();return e?1/e:1},t.prototype.toggleFramesEvents=function(e){this.getFramesEl().style.pointerEvents=e?"":"none"},t.prototype.getFrames=function(){return this.canvas.frames.map((function(e){return e}))},t.prototype.addFrame=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),this.canvas.frames.add(new g.Z(this,W({},e)),t)},t.prototype.destroy=function(){var e,t=this;this.canvas.stopListening(),null===(e=this.canvasView)||void 0===e||e.remove(),["model","droppable"].forEach((function(e){return t[e]={}}))},t}(o.Z)},6840:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r,i=n(9050),o=n(7904),s=n(1163),a=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},c=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},u="__aw",h="__ah",d=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.em,a=r.attributes,l=a.styles,c=a.component,d=o.get("DomComponents"),f=d.getConfig(),p=o.get("CssComposer").getAll(),g={},m={em:o,config:f,frame:r,idMap:g};if(!(0,s.isComponent)(c)){var v=(0,s.isObject)(c)?c:{components:c};!v.type&&(v.type="wrapper");var y=d.getType("wrapper").model;r.set("component",new y(v,m))}return l?(0,s.isObject)(l)||(Object.keys(g).length&&Array.isArray(l)&&l.forEach((function(e){var t=e.selectors;if(t&&1==t.length){var n=t[0],r=n.name&&2===n.type&&n;if(r&&g[r.name])r.name=g[r.name];else if((0,i.isString)(n)&&"#"===n[0]){var o=n.substring(1);o&&g[o]&&(t[0]="#".concat(g[o]))}}})),p.add(l),r.set("styles",p)):r.set("styles",p),!n.width&&r.set(u,1),!n.height&&r.set(h,1),r}return a(t,e),t.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(t.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),t.prototype.onRemove=function(){this.getComponent().remove({root:1})},t.prototype.changesUp=function(e){void 0===e&&(e={}),e.temporary||e.noCount||e.avoidStore||this.set("changesCount",this.get("changesCount")+1)},t.prototype.getComponent=function(){return this.get("component")},t.prototype.getStyles=function(){return this.get("styles")},t.prototype.disable=function(){this.trigger("disable")},t.prototype.remove=function(){this.view=void 0;var e=this.collection;return e&&e.remove(this)},t.prototype.getHead=function(){return c([],this.head,!0)},t.prototype.setHead=function(e){return this.set("head",c([],e,!0))},t.prototype.addHeadItem=function(e){this.head.push(e)},t.prototype.getHeadByAttr=function(e,t,n){return this.head.filter((function(r){return r.attributes&&r.attributes[e]==t&&(!n||n===r.tag)}))[0]},t.prototype.removeHeadByAttr=function(e,t,n){var r=this.getHeadByAttr(e,t,n),i=this.head.indexOf(r);i>=0&&this.head.splice(i,1)},t.prototype.addLink=function(e){var t="link";!this.getHeadByAttr("href",e,t)&&this.addHeadItem({tag:t,attributes:{href:e,rel:"stylesheet"}})},t.prototype.removeLink=function(e){this.removeHeadByAttr("href",e,"link")},t.prototype.addScript=function(e){var t="script";!this.getHeadByAttr("src",e,t)&&this.addHeadItem({tag:t,attributes:{src:e}})},t.prototype.removeScript=function(e){this.removeHeadByAttr("src",e,"script")},t.prototype.getPage=function(){var e;return null===(e=this.collection)||void 0===e?void 0:e.page},t.prototype._emitUpdated=function(e){void 0===e&&(e={}),this.em.trigger("frame:updated",l({frame:this},e))},t.prototype.toJSON=function(e){void 0===e&&(e={});var t=o.Z.prototype.toJSON.call(this,e),n=(0,i.result)(this,"defaults");return e.fromUndo&&delete t.component,delete t.styles,delete t.changesCount,t[u]&&delete t.width,t[h]&&delete t.height,(0,i.forEach)(t,(function(e,n){0===n.indexOf("_")&&delete t[n]})),(0,i.forEach)(n,(function(e,n){t[n]===e&&delete t[n]})),(0,i.forEach)(["attributes","head"],(function(e){(0,i.isEmpty)(t[e])&&delete t[e]})),t},t}(o.Z)},3560:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r,i=n(9050),o=n(7116),s=n(6840),a=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t,n){void 0===n&&(n=[]);var r=e.call(this,t,n,s.Z)||this;return r.loadedItems=0,r.itemsToLoad=0,(0,i.bindAll)(r,"itemLoaded"),r.on("reset",r.onReset),r.on("remove",r.onRemove),r}return a(t,e),t.prototype.onReset=function(e,t){var n=this;((null==t?void 0:t.previousModels)||[]).map((function(e){return n.onRemove(e)}))},t.prototype.onRemove=function(e){null==e||e.onRemove()},t.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},t.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},t.prototype.listenToLoadItems=function(e){var t=this;this.forEach((function(n){return n[e?"on":"off"]("loaded",t.itemLoaded)}))},t}(o.Z)},5819:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Vt}});var r=n(9050),i={stylePrefix:"comp-",components:[],draggableComponents:1,processor:0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]},o=n(9138),s=n(8431),a=n(2169),l=n(5671),c=n(3144),u=n(9340),h=n(2963),d=n(1120);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var p=function(e){(0,u.Z)(n,e);var t=f(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"tagName",value:function(){return"div"}}]),n}(a.Z),g=n(3505),m=n(4942),v=n(1752),y=n(1163);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var k=function(e){(0,u.Z)(n,e);var t=x(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return w(w({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{type:"cell",tagName:"td",draggable:["tr"]})}}]),n}(o.ZP);k.isComponent=function(e){return["td","th"].indexOf((0,y.toLowerCase)(e.tagName))>=0};var C=a.Z.extend({});function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var E="tr",T=function(e){(0,u.Z)(n,e);var t=O(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return _(_({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{tagName:E,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})}}]),n}(o.ZP);T.isComponent=function(e){return(0,y.toLowerCase)(e.tagName)===E};var A=a.Z.extend({});function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var P="table",M=function(e){(0,u.Z)(n,e);var t=R(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return L(L({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{type:P,tagName:P,droppable:["tbody","thead","tfoot"]})}},{key:"initialize",value:function(e,t){o.ZP.prototype.initialize.apply(this,arguments);var n=this.get("components");!n.length&&n.add({type:"tbody"})}}]),n}(o.ZP);M.isComponent=function(e){return(0,y.toLowerCase)(e.tagName)===P};var D=a.Z.extend({events:{}});function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var F="tbody",B=function(e){(0,u.Z)(n,e);var t=I(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return N(N({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{type:F,tagName:F,draggable:["table"],droppable:["tr"],columns:1,rows:1})}},{key:"initialize",value:function(e,t){o.ZP.prototype.initialize.apply(this,arguments);var n=this.get("components"),r=this.get("columns"),i=this.get("rows");if(!n.length){for(var s=[];i--;){for(var a=[],l=r;l--;)a.push({type:"cell",classes:["cell"]});s.push({type:"row",classes:["row"],components:a})}n.add(s)}}}]),n}(o.ZP);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}B.isComponent=function(e){return(0,y.toLowerCase)(e.tagName)===F};var V="thead",W=function(e){(0,u.Z)(n,e);var t=z(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return Z(Z({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{type:V,tagName:V})}}]),n}(B);W.isComponent=function(e){return(0,y.toLowerCase)(e.tagName)===V};var U=a.Z.extend({});function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var q=function(e){(0,u.Z)(n,e);var t=G(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n)}(a.Z);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var J="tfoot",Q=function(e){(0,u.Z)(n,e);var t=X(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return Y(Y({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{type:J,tagName:J})}}]),n}(B);Q.isComponent=function(e){return(0,y.toLowerCase)(e.tagName)===J};var ee=a.Z.extend({});function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var ie='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',oe=function(e){(0,u.Z)(n,e);var t=re(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return ne(ne({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(ie,'>\n        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>\n      </svg>'),fallback:"<svg ".concat(ie,'>\n        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>\n      </svg>'),file:""})}},{key:"initialize",value:function(e,t){o.ZP.prototype.initialize.apply(this,arguments);var n=this.get("attributes").src;n&&(0,y.buildBase64UrlFromSvg)((0,r.result)(this,"defaults").src)!==n&&this.set("src",n,{silent:1})}},{key:"initToolbar",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.ZP.prototype.initToolbar.apply(this,t);var r=this.em;if(r){var i="image-editor";if(r.get("Commands").has(i)){for(var s=!1,a=this.get("toolbar"),l=0;l<a.length;l++)if("image-editor"===a[l].command){s=!0;break}s||(a.push({attributes:{class:"fa fa-pencil"},command:i}),this.set("toolbar",a))}}}},{key:"getAttrToHTML",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=o.ZP.prototype.getAttrToHTML.apply(this,t),i=this.getSrcResult();return i&&(r.src=i),r}},{key:"getSrcResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.get(e.fallback?"fallback":"src")||"",n=t;return t&&"<svg"===t.substr(0,4)&&(n=(0,y.buildBase64UrlFromSvg)(t)),n}},{key:"isDefaultSrc",value:function(){var e=this.get("src"),t=(0,r.result)(this,"defaults").src;return e===t||e===(0,y.buildBase64UrlFromSvg)(t)}},{key:"toJSON",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=o.ZP.prototype.toJSON.apply(this,t);return r.attributes&&r.src===r.attributes.src&&delete r.src,r}},{key:"parseUri",value:function(e){var t={};if((0,y.hasWin)())(t=document.createElement("a")).href=e;else if("undefined"!=typeof URL)try{t=new URL(e)}catch(e){}return{hostname:t.hostname||"",pathname:t.pathname||"",protocol:t.protocol||"",search:t.search||"",hash:t.hash||"",port:t.port||"",query:function(){for(var e={},t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").substring(1).split("&"),n=0;n<t.length;n++){var r=t[n].split("="),i=decodeURIComponent(r[0]);i&&(e[i]=decodeURIComponent(r[1]||""))}return e}(t.search)}}}]),n}(o.ZP);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}oe.isComponent=function(e){return"img"===(0,y.toLowerCase)(e.tagName)};var ce=function(e){(0,u.Z)(n,e);var t=le(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return ae(ae({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{type:"map",src:"",void:0,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:(0,v.Z)((0,d.Z)(n.prototype),"defaults",this).toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]})}},{key:"initialize",value:function(e,t){this.get("src")?this.parseFromSrc():this.updateSrc(),oe.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)}},{key:"updateSrc",value:function(){this.set("src",this.getMapUrl())}},{key:"getMapUrl",value:function(){var e=this,t=e.get("address"),n=e.get("zoom"),r=e.get("mapType");return t=t?"&q="+t:"",n=n?"&z="+n:"",r=r?"&t="+r:"",e.get("mapUrl")+"?"+t+n+r+"&output=embed"}},{key:"parseFromSrc",value:function(){var e=this.parseUri(this.get("src")).query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)}}]),n}(oe);function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}ce.isComponent=function(e){var t="";return"iframe"==(0,y.toLowerCase)(e.tagName)&&/maps\.google\.com/.test(e.src)&&(t={type:"map",src:e.src}),t};var he=function(e){(0,u.Z)(n,e);var t=ue(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"tagName",value:function(){return"img"}},{key:"events",value:function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}}},{key:"initialize",value:function(e){a.Z.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()}},{key:"fetchFile",value:function(){if(!this.modelOpt.temporary){var e=this.model,t=this.em,n=e.get("file");if(n&&t){var i=t.get("AssetManager").FileUploader();null==i||i.uploadFile({dataTransfer:{files:[n]}},(function(t){var n=t&&t.data&&t.data[0],i=n&&((0,r.isString)(n)?n:n.src);i&&e.set({src:i})})),e.set("file","")}}}},{key:"updateSrc",value:function(){var e=this.model,t=this.classEmpty,n=this.$el,r=e.getSrcResult(),i=r&&!e.isDefaultSrc();e.addAttributes({src:r}),n[i?"removeClass":"addClass"](t)}},{key:"onActive",value:function(e){e&&e.stopPropagation();var t=this.em,n=this.model,r=t&&t.get("AssetManager");r&&n.get("editable")&&r.open({select:function(e,t){n.set({src:e.getSrc()}),t&&r.close()},target:n,types:["image"],accept:"image/*"})}},{key:"onError",value:function(){var e=this.model.getSrcResult({fallback:1});e&&(this.el.src=e)}},{key:"onLoad",value:function(){this.em.trigger("change:canvasOffset")}},{key:"noDrag",value:function(e){return e.preventDefault(),!1}},{key:"render",value:function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var e=this.$el,t=this.model,n=e.attr("class")||"";return!t.get("src")&&e.attr("class","".concat(n," ").concat(this.classEmpty).trim()),this.postRender(),this}}]),n}(a.Z);function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var fe=function(e){(0,u.Z)(n,e);var t=de(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"tagName",value:function(){return"div"}},{key:"events",value:function(){return{}}},{key:"initialize",value:function(e){he.prototype.initialize.apply(this,arguments),this.classEmpty=this.ppfx+"plh-map"}},{key:"updateSrc",value:function(){this.getIframe().src=this.model.get("src")}},{key:"getIframe",value:function(){if(!this.iframe){var e=document.createElement("iframe");e.src=this.model.get("src"),e.frameBorder=0,e.style.height="100%",e.style.width="100%",e.className=this.ppfx+"no-pointer",this.iframe=e}return this.iframe}},{key:"render",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return he.prototype.render.apply(this,t),this.updateClasses(),this.el.appendChild(this.getIframe()),this}}]),n}(he);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var ve=function(e){(0,u.Z)(n,e);var t=me(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return ge(ge({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{type:"text",droppable:!1,editable:!0})}}]),n}(o.ZP);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var xe="link",ke=function(e){(0,u.Z)(n,e);var t=we(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return be(be({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{type:xe,tagName:"a",traits:["title","href","target"]})}}]),n}(ve);ke.isComponent=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("a"===(0,y.toLowerCase)(e.tagName)){var i=n.textTags||[];t={type:xe,editable:!1};var o=e.childNodes;o.length||delete t.editable,(0,r.forEach)(o,(function(e){var n=e.tagName;(3==e.nodeType&&""!==e.textContent.trim()||n&&i.indexOf((0,y.toLowerCase)(n))>=0)&&delete t.editable}))}return t};var Ce=n(5861),Se=n(4687),_e=n.n(Se);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var Ae=a.Z.prototype,$e=function(e){(0,u.Z)(o,e);var t,n,i=Te(o);function o(){return(0,l.Z)(this,o),i.apply(this,arguments)}return(0,c.Z)(o,[{key:"events",value:function(){return{dblclick:"onActive",input:"onInput"}}},{key:"initialize",value:function(e){Ae.initialize.apply(this,arguments),(0,r.bindAll)(this,"disableEditing","onDisable");var t=this.model,n=this.em;this.listenTo(t,"focus",this.onActive),this.listenTo(t,"change:content",this.updateContentText),this.listenTo(t,"sync:content",this.syncContent),this.rte=n&&n.get("RichTextEditor")}},{key:"updateContentText",value:function(e,t){!(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fromDisable&&this.disableEditing()}},{key:"canActivate",value:function(){var e,t=this.model,n=this.rteEnabled,r=this.em,i=(null==r?void 0:r.getEditing())===t,o=!0,s=!1;if((n||!t.get("editable")||i||(s=t.isChildOf("text")))&&(o=!1,s&&!t.get("textable"))){for(var a=t.parent();a&&!a.isInstanceOf("text");)a=a.parent();a&&a.get("editable")?e=a:o=!0}return{result:o,delegate:e}}},{key:"onActive",value:(n=(0,Ce.Z)(_e().mark((function e(t){var n,r,i,o,s,a,l;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.rte,i=this.em,o=this.canActivate(),s=o.result,a=o.delegate,s){e.next=5;break}return a&&(null==t||null===(l=t.stopPropagation)||void 0===l||l.call(t),i.setSelected(a),a.trigger("active",t)),e.abrupt("return");case 5:if(null==t||null===(n=t.stopPropagation)||void 0===n||n.call(t),this.lastContent=this.getContent(),!r){e.next=17;break}return e.prev=8,e.next=11,r.enable(this,this.activeRte,{event:t});case 11:this.activeRte=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),i.logError(e.t0);case 17:this.toggleEvents(1);case 18:case"end":return e.stop()}}),e,this,[[8,14]])}))),function(e){return n.apply(this,arguments)})},{key:"onDisable",value:function(){this.disableEditing()}},{key:"disableEditing",value:(t=(0,Ce.Z)(_e().mark((function e(){var t,n,r,i,o,s,a=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},n=this.model,r=this.rte,i=this.activeRte,o=this.em,s=n&&n.get("editable"),!r){e.next=13;break}return e.prev=4,e.next=7,r.disable(this,i);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),o.logError(e.t0);case 12:s&&this.getContent()!==this.lastContent&&(this.syncContent(t),this.lastContent="");case 13:this.toggleEvents();case 14:case"end":return e.stop()}}),e,this,[[4,9]])}))),function(){return t.apply(this,arguments)})},{key:"getContent",value:function(){var e=this.activeRte;return e&&"function"==typeof e.getContent?e.getContent():this.getChildrenContainer().innerHTML}},{key:"syncContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.model,n=this.rte;if(this.rteEnabled||e.force){var r=this.getContent(),i=t.components(),o=Ee({fromDisable:1},e);t.set("content","",o),n.customRte?(i.length&&i.reset(null,e),t.set("content",r,o)):i.resetFromString(r,e)}}},{key:"insertComponent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.model,r=this.el.ownerDocument.getSelection();if(null!=r&&r.rangeCount){var i,o=r.getRangeAt(0),s=o.startContainer,a=o.startOffset,l=(0,y.getModel)(s),c=[];if(l&&null!==(i=l.is)&&void 0!==i&&i.call(l,"textnode")){var u=l.collection;u.forEach((function(t){if(t===l){var n="textnode",r=t.get("content");c.push({type:n,content:r.slice(0,a)}),c.push(e),c.push({type:n,content:r.slice(a)})}else c.push(t)}));var h=c.filter(Boolean),d=h.indexOf(e);return u.reset(h,t),u.at(d)}}return n.append(e,t)}},{key:"onInput",value:function(){var e=this.em,t="component",n=["".concat(t,":update"),"".concat(t,":input")].join(" ");e&&e.trigger(n,this.model)}},{key:"disablePropagation",value:function(e){e.stopPropagation()}},{key:"toggleEvents",value:function(e){var t=this.em,n=this.model,r=this.$el,i={on:y.on,off:y.off},o=e?"on":"off";t.setEditing(e?this:0),this.rteEnabled=!!e;var s=[this.el.ownerDocument,document];if(i.off(s,"mousedown",this.onDisable),i[o](s,"mousedown",this.onDisable),t[o]("toolbar:run:before",this.onDisable),n&&(n[o]("removed",this.onDisable),n.trigger("rte:".concat(e?"enable":"disable"))),r&&r.off("mousedown",this.disablePropagation),r&&r[o]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var a=this.el;a;)a.draggable=!e,(a=a.parentNode)&&"BODY"==a.tagName&&(a=0)}}]),o}(a.Z);function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var Re=function(e){(0,u.Z)(n,e);var t=Le(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"render",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $e.prototype.render.apply(this,t),this.el.addEventListener("click",this.prevDef,!0),this}}]),n}($e);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var je="label",Ne=function(e){(0,u.Z)(n,e);var t=De(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return Me(Me({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{type:je,tagName:je,traits:["id","title","for"]})}}]),n}(ve);function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}Ne.isComponent=function(e){return(0,y.toLowerCase)(e.tagName)===je};var Fe=function(e){(0,u.Z)(n,e);var t=Ie(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"tagName",value:function(){return"span"}}]),n}(Re);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var ze="video",Ve="yt",We="vi",Ue="ytnc",Ge=function(e){return e&&"0"!==e},qe=function(e){(0,u.Z)(n,e);var t=Ze(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return He(He({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{type:ze,tagName:ze,videoId:"",void:0,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:0,poster:"",muted:0,autoplay:0,controls:1,color:"",list:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})}},{key:"initialize",value:function(e,t){this.em=t.em,this.get("src")&&this.parseFromSrc(),this.updateTraits(),this.listenTo(this,"change:provider",this.updateTraits),this.listenTo(this,"change:videoId change:provider",this.updateSrc),oe.prototype.initialize.apply(this,arguments)}},{key:"updateTraits",value:function(){var e,t=this.em,n="iframe";switch(this.get("provider")){case Ve:case Ue:e=this.getYoutubeTraits();break;case We:e=this.getVimeoTraits();break;default:n="video",e=this.getSourceTraits()}this.set({tagName:n},{silent:1}),this.set({traits:e}),t.get("ready")&&t.trigger("component:toggled")}},{key:"parseFromSrc",value:function(){var e=this.get("provider"),t=this.parseUri(this.get("src")),n=t.query;switch(e){case Ve:case Ue:case We:this.set("videoId",t.pathname.split("/").pop()),n.list&&this.set("list",n.list),Ge(n.autoplay)&&this.set("autoplay",1),Ge(n.loop)&&this.set("loop",1),0===parseInt(n.controls)&&this.set("controls",0),Ge(n.color)&&this.set("color",n.color),"0"===n.rel&&this.set("rel",0),"1"===n.modestbranding&&this.set("modestbranding",1)}}},{key:"updateSrc",value:function(){var e="";switch(this.get("provider")){case Ve:e=this.getYoutubeSrc();break;case Ue:e=this.getYoutubeNoCookieSrc();break;case We:e=this.getVimeoSrc()}this.set({src:e})}},{key:"getAttrToHTML",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=oe.prototype.getAttrToHTML.apply(this,t);switch(this.get("provider")){case Ve:case Ue:case We:break;default:this.get("loop")&&(r.loop="loop"),this.get("autoplay")&&(r.autoplay="autoplay"),this.get("controls")&&(r.controls="controls")}return r}},{key:"getProviderTrait",value:function(){return{type:"select",label:"Provider",name:"provider",changeProp:1,options:[{value:"so",name:"HTML5 Source"},{value:Ve,name:"Youtube"},{value:Ue,name:"Youtube (no cookie)"},{value:We,name:"Vimeo"}]}}},{key:"getSourceTraits",value:function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:1},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]}},{key:"getYoutubeTraits",value:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:1},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:1}]}},{key:"getVimeoTraits",value:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:1},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait()]}},{key:"getAutoplayTrait",value:function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:1}}},{key:"getLoopTrait",value:function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:1}}},{key:"getControlsTrait",value:function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:1}}},{key:"getYoutubeSrc",value:function(){var e=this.get("videoId"),t=this.get("ytUrl"),n=this.get("list");return t+=e+(e.indexOf("?")<0?"?":""),t+=n?"&list=".concat(n):"",t+=this.get("autoplay")?"&autoplay=1":"",t+=this.get("controls")?"":"&controls=0&showinfo=0",t+=this.get("loop")?"&loop=1&playlist=".concat(e):"",(t+=this.get("rel")?"":"&rel=0")+(this.get("modestbranding")?"&modestbranding=1":"")}},{key:"getYoutubeNoCookieSrc",value:function(){var e=this.getYoutubeSrc();return e.replace(this.get("ytUrl"),this.get("ytncUrl"))}},{key:"getVimeoSrc",value:function(){var e=this.get("viUrl");return e+=this.get("videoId")+"?",e+=this.get("autoplay")?"&autoplay=1":"",e+=this.get("loop")?"&loop=1":"",(e+=this.get("controls")?"":"&title=0&portrait=0&badge=0")+(this.get("color")?"&color="+this.get("color"):"")}}]),n}(oe);function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}qe.isComponent=function(e){var t="",n=e.tagName,r=e.src,i=/youtube\.com\/embed/.test(r),o=/youtube-nocookie\.com\/embed/.test(r),s=/player\.vimeo\.com\/video/.test(r),a=i||o||s;return((0,y.toLowerCase)(n)==ze||"iframe"==(0,y.toLowerCase)(n)&&a)&&(t={type:"video"},r&&(t.src=r),a&&(i?t.provider=Ve:o?t.provider=Ue:s&&(t.provider=We))),t};var Ye=function(e){(0,u.Z)(n,e);var t=Ke(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"tagName",value:function(){return"div"}},{key:"events",value:function(){return{}}},{key:"initialize",value:function(e){a.Z.prototype.initialize.apply(this,arguments);var t=this.model,n=["loop","autoplay","controls","color","rel","modestbranding","poster"].map((function(e){return"change:".concat(e)})).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,n,this.updateVideo)}},{key:"updateProvider",value:function(){var e=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(e))}},{key:"updateSrc",value:function(){var e=this.model,t=this.videoEl;if(t){var n=e.get("provider"),r=e.get("src");switch(n){case"yt":r=e.getYoutubeSrc();break;case"ytnc":r=e.getYoutubeNoCookieSrc();break;case"vi":r=e.getVimeoSrc()}t.src=r}}},{key:"updateVideo",value:function(){var e=this.model.get("provider"),t=this.videoEl,n=this.model;switch(e){case"yt":case"ytnc":case"vi":this.model.trigger("change:videoId");break;default:t.loop=n.get("loop"),t.autoplay=n.get("autoplay"),t.controls=n.get("controls"),t.poster=n.get("poster")}}},{key:"renderByProvider",value:function(e){var t;switch(e){case"yt":t=this.renderYoutube();break;case"ytnc":t=this.renderYoutubeNoCookie();break;case"vi":t=this.renderVimeo();break;default:t=this.renderSource()}return this.videoEl=t,t}},{key:"renderSource",value:function(){var e=document.createElement("video");return e.src=this.model.get("src"),this.initVideoEl(e),e}},{key:"renderYoutube",value:function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeSrc(),e.frameBorder=0,e.setAttribute("allowfullscreen",!0),this.initVideoEl(e),e}},{key:"renderYoutubeNoCookie",value:function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeNoCookieSrc(),e.frameBorder=0,e.setAttribute("allowfullscreen",!0),this.initVideoEl(e),e}},{key:"renderVimeo",value:function(){var e=document.createElement("iframe");return e.src=this.model.getVimeoSrc(),e.frameBorder=0,e.setAttribute("allowfullscreen",!0),this.initVideoEl(e),e}},{key:"initVideoEl",value:function(e){e.className=this.ppfx+"no-pointer",e.style.height="100%",e.style.width="100%"}},{key:"render",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];he.prototype.render.apply(this,t),this.updateClasses();var r=this.model.get("provider");return this.el.appendChild(this.renderByProvider(r)),this.updateVideo(),this}}]),n}(he);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var et="script",tt=function(e){(0,u.Z)(n,e);var t=Qe(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return Je(Je({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{type:et,tagName:et,droppable:!1,draggable:!1,layerable:!1})}}]),n}(o.ZP);function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}tt.isComponent=function(e){if((0,y.toLowerCase)(e.tagName)==et){var t={type:et};return e.src&&(t.src=e.src,t.onload=e.onload),t}};var rt=function(e){(0,u.Z)(n,e);var t=nt(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"tagName",value:function(){return"script"}},{key:"events",value:function(){return{}}},{key:"render",value:function(){var e=this.model,t=this.em,n=e.get("src"),r=t&&t.get("scriptCount")||0,i="";if(n){var o=e.get("onload"),s="script".concat(r),a="script".concat(r+1),l="".concat(s,"Start"),c="".concat(a,"Start");i="\n        var ".concat(s," = document.createElement('script');\n        ").concat(s,".onload = function() {\n          ").concat(o?"".concat(o,"();\n"):"","\n          typeof ").concat(c," == 'function' && ").concat(c,"();\n        };\n        ").concat(s,".src = '").concat(n,"';\n        function ").concat(l,"() { document.body.appendChild(").concat(s,"); };\n        ").concat(r?"":"".concat(l,"();"),"\n      "),t&&t.set("scriptCount",r+1)}else i=e.__innerHTML();return this.el.innerHTML=i,this.postRender(),this}}]),n}(he);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var at="svg",lt=function(e){(0,u.Z)(n,e);var t=st(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return ot(ot({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{type:at,tagName:at,highlightable:0,resizable:{ratioDefault:1}})}},{key:"getName",value:function(){var e=this.get("tagName"),t=this.get("custom-name");return e=e.charAt(0).toUpperCase()+e.slice(1),t||e}}]),n}(o.ZP);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}lt.isComponent=function(e){return(0,y.toLowerCase)(e.tagName)===at};var dt=function(e){(0,u.Z)(n,e);var t=ht(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return ut(ut({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{selectable:!1,hoverable:!1,layerable:!1})}}]),n}(lt);function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}dt.isComponent=function(e){return!!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).inSvg};var pt=function(e){(0,u.Z)(n,e);var t=ft(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"_createElement",value:function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}}]),n}(a.Z);function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var yt=function(e){(0,u.Z)(n,e);var t=vt(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return mt(mt({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})}},{key:"toHTML",value:function(){var e=this.parent(),t=this.get("content");return e&&e.is("script")?t:(0,y.escape)(t)}}]),n}(o.ZP);function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}yt.isComponent=function(e){var t="";return 3===e.nodeType&&(t={type:"textnode",content:e.textContent}),t};var xt=function(e){(0,u.Z)(n,e);var t=wt(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this))}},{key:"toHTML",value:function(){return"\x3c!--".concat(this.get("content"),"--\x3e")}}]),n}(yt);function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}xt.isComponent=function(e){if(8==e.nodeType)return{tagName:"NULL",type:"comment",content:e.textContent}};var Ct=function(e){(0,u.Z)(n,e);var t=kt(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"initialize",value:function(){a.Z.prototype.initialize.apply(this,arguments)}},{key:"_setAttributes",value:function(){}},{key:"renderAttributes",value:function(){}},{key:"updateStatus",value:function(){}},{key:"updateClasses",value:function(){}},{key:"setAttribute",value:function(){}},{key:"updateAttributes",value:function(){}},{key:"initClasses",value:function(){}},{key:"initComponents",value:function(){}},{key:"delegateEvents",value:function(){}},{key:"_createElement",value:function(){return document.createTextNode("")}},{key:"render",value:function(){var e=this.model,t=this.el;return e.opt.temporary||(t.textContent=e.get("content")),this}}]),n}(a.Z);function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var _t=function(e){(0,u.Z)(n,e);var t=St(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"_createElement",value:function(){return document.createComment(this.model.get("content"))}}]),n}(Ct);function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var At=function(e){(0,u.Z)(n,e);var t=Tt(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",value:function(){return Et(Et({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})}},{key:"__postAdd",value:function(){var e=this.em&&this.em.get("UndoManager");return e&&!this.__hasUm&&e.add(this),o.ZP.prototype.__postAdd.call(this,arguments)}},{key:"__postRemove",value:function(){var e=this.em&&this.em.get("UndoManager");return e&&e.remove(this),o.ZP.prototype.__postRemove.call(this,arguments)}}]),n}(o.ZP);function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}At.isComponent=function(){return!1};var Pt="iframe",Mt=function(e){(0,u.Z)(n,e);var t=Rt(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"defaults",get:function(){return Lt(Lt({},(0,v.Z)((0,d.Z)(n.prototype),"defaults",this)),{},{type:Pt,tagName:Pt,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})}}]),n}(o.ZP);Mt.isComponent=function(e){return(0,y.toLowerCase)(e.tagName)===Pt};var Dt=n(9283);function jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var Nt,It=function(e){(0,u.Z)(n,e);var t=jt(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"tagName",value:function(){return"div"}},{key:"initialize",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.Z.prototype.initialize.apply(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)}},{key:"updateSrc",value:function(){var e=(0,Dt.sE)(this.el,"iframe")[0];e&&(0,Dt.FW)(e,{src:this.__getSrc()})}},{key:"render",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.Z.prototype.render.apply(this,t);var r=(0,Dt.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(r),this}},{key:"__getSrc",value:function(){return this.model.getAttributes().src||""}}]),n}(a.Z),Ft=n(6434),Bt=(Nt=function(e,t){return Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Nt(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Nt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ht=function(){return Ht=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ht.apply(this,arguments)},Zt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},zt=function(e){function t(t){var n=e.call(this,t,"DomComponents",new s.Z(void 0,{em:t}))||this;for(var r in n.componentTypes=[{id:"cell",model:k,view:C},{id:"row",model:T,view:A},{id:"table",model:M,view:D},{id:"thead",model:W,view:U},{id:"tbody",model:B,view:q},{id:"tfoot",model:Q,view:ee},{id:"map",model:ce,view:fe},{id:"link",model:ke,view:Re},{id:"label",model:Ne,view:Fe},{id:"video",model:qe,view:Ye},{id:"image",model:oe,view:he},{id:"script",model:tt,view:rt},{id:"svg-in",model:dt,view:pt},{id:"svg",model:lt,view:pt},{id:"iframe",model:Mt,view:It},{id:"comment",model:xt,view:_t},{id:"textnode",model:yt,view:Ct},{id:"text",model:ve,view:$e},{id:"wrapper",model:At,view:p},{id:"default",model:o.ZP,view:a.Z}],n.componentsById={},n.Component=o.ZP,n.Components=s.Z,n.ComponentsView=g.Z,n.storageKey="components",t&&(n.config.components=t.config.components||n.config.components),i)r in n.config||(n.config[r]=i[r]);var l=n.config.pStylePrefix;if(l&&(n.config.stylePrefix=l+n.config.stylePrefix),t){n.config.modal=t.get("Modal")||"",n.config.am=t.get("AssetManager")||"",t.get("Parser").compTypes=n.componentTypes,t.on("change:componentHovered",n.componentHovered,n);var c=t.get("selected");t.listenTo(c,"add",(function(e,t,r){return n.selectAdd(c.getComponent(e),r)})),t.listenTo(c,"remove",(function(e,t,r){return n.selectRemove(c.getComponent(e),r)}))}return n}return Bt(t,e),t.prototype.load=function(e){var t=this;return this.loadProjectData(e,{onResult:function(e){var n=t.getWrapper();if(n||(t.em.get("PageManager").add({},{select:!0}),n=t.getWrapper()),(0,r.isArray)(e))e.length&&n.components(e);else{var i=e.components,o=void 0===i?[]:i,s=Zt(e,["components"]);n.set(s),n.components(o)}}})},t.prototype.store=function(){return{}},t.prototype.getComponent=function(){var e=this.em.get("PageManager").getSelected(),t=e&&e.getMainFrame();return t&&t.getComponent()},t.prototype.getWrapper=function(){return this.getComponent()},t.prototype.getComponents=function(){var e=this.getWrapper();return e&&e.get("components")},t.prototype.addComponent=function(e,t){return void 0===t&&(t={}),this.getComponents().add(e,t)},t.prototype.render=function(){var e;return null===(e=this.componentView)||void 0===e?void 0:e.render().el},t.prototype.clear=function(e){void 0===e&&(e={});var t=this.getComponents();return null==t||t.filter(Boolean).forEach((function(t){return t.remove(e)})),this},t.prototype.setComponents=function(e,t){void 0===t&&(t={}),this.clear(t).addComponent(e,t)},t.prototype.addType=function(e,t){var n=this.em,i=t.model,o=void 0===i?{}:i,s=t.view,a=void 0===s?{}:s,l=t.isComponent,c=t.extend,u=t.extendView,h=t.extendFn,d=void 0===h?[]:h,f=t.extendFnView,p=void 0===f?[]:f,g=this.getType(e),m=this.getType(c),v=this.getType(u),y=m||g||this.getType("default"),b=y.model,w=v?v.view:y.view,x=function(e,t,n){return e.reduce((function(e,r){var i=t[r],o=n.prototype[r];return i&&o&&(e[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.bind(this).apply(void 0,e),i.bind(this).apply(void 0,e)}),e}),{})};if("object"==typeof o){var k=(0,r.result)(o,"defaults");delete o.defaults,t.model=b.extend(Ht(Ht({},o),x(d,o,b)),{isComponent:!g||m||l?l||function(){return 0}:b.isComponent}),Object.defineProperty(t.model.prototype,"defaults",{value:Ht(Ht({},(0,r.result)(b.prototype,"defaults")||{}),k||{})})}"object"==typeof a&&(t.view=w.extend(Ht(Ht({},a),x(p,a,w)))),g?(g.model=t.model,g.view=t.view):(t.id=e,this.componentTypes.unshift(t));var C="component:type:".concat(g?"update":"add");return null==n||n.trigger(C,g||t),this},t.prototype.getType=function(e){for(var t=this.componentTypes,n=0;n<t.length;n++)if(t[n].id==e)return t[n]},t.prototype.removeType=function(e){var t=this.componentTypes,n=this.getType(e);if(n){var r=t.indexOf(n);return t.splice(r,1),n}},t.prototype.getTypes=function(){return this.componentTypes},t.prototype.selectAdd=function(e,t){var n=this;void 0===t&&(t={}),e&&(e.set({status:"selected"}),["component:selected","component:toggled"].forEach((function(r){return n.em.trigger(r,e,t)})))},t.prototype.selectRemove=function(e,t){var n=this;void 0===t&&(t={}),e&&(this.em,e.set({status:"",state:""}),["component:deselected","component:toggled"].forEach((function(r){return n.em.trigger(r,e,t)})))},t.prototype.componentHovered=function(){var e=this.em,t=e.get("componentHovered"),n=e.previous("componentHovered"),i="hovered";n&&n.get("status")==i&&n.set({status:"",state:""}),t&&(0,r.isEmpty)(t.get("status"))&&t.set("status",i)},t.prototype.getShallowWrapper=function(){var e=this.shallow,t=this.em;if(!e&&t){var n=t.shallow;if(!n)return;var i=n.get("DomComponents");if(i.componentTypes=this.componentTypes,e=i.getWrapper()){var s=[o.GN,o.xH].join(" ");e.on(s,(0,r.debounce)((function(){return null==e?void 0:e.components("")}),100))}this.shallow=e}return e},t.prototype.canMove=function(e,t,n){var i=n||0===n?n:null,o={result:!1,reason:0,target:e,source:null};if(!t||!e)return o;var s=t.toHTML?t:null;if(!s){var a=this.getShallowWrapper();s=null==a?void 0:a.append(t)[0]}if(o.source=s,!s)return o;var l=s.get("draggable");if((0,r.isFunction)(l))l=!!l(s,e,i);else{var c=e.getEl();l=(0,r.isArray)(l)?l.join(","):l,l=(0,r.isString)(l)?null==c?void 0:c.matches(l):l}if(!l)return Ht(Ht({},o),{reason:1});var u=e.get("droppable");(0,r.isFunction)(u)?u=!!u(s,e,i):!1===u&&e.isInstanceOf("text")&&s.get("textable")?u=!0:(c=s.getEl(),u=(0,r.isArray)(u)?u.join(","):u,u=(0,r.isString)(u)?null==c?void 0:c.matches(u):u);var h=[e].concat(e.parents()).indexOf(s)>-1;return Ht(Ht({},o),!u||h?{reason:2}:{result:!0})},t.prototype.allById=function(){return this.componentsById},t.prototype.getById=function(e){return this.componentsById[e]||null},t.prototype.destroy=function(){var e,t=this.allById();Object.keys(t).forEach((function(e){return t[e]&&t[e].remove()})),null===(e=this.componentView)||void 0===e||e.remove(),[this.em,this.componentsById,this.componentView].forEach((function(e){return{}}))},t}(Ft.O),Vt=zt},8588:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r,i=n(9050),o=n(6434),s=n(9283),a={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}},l=n(7904),c=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},t.prototype.open=function(){this.set("open",!0)},t.prototype.close=function(){this.set("open",!1)},t}(l.Z),h=n(3059),d=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)},p=function(e){function t(t){var n=e.call(this,t)||this,r=n.model;return n.listenTo(r,"change:open",n.updateOpen),n.listenTo(r,"change:title",n.updateTitle),n.listenTo(r,"change:content",n.updateContent),n}return d(t,e),t.prototype.template=function(e){var t=e.pfx,n=e.ppfx,r=e.content,i=e.title;return'<div class="'.concat(t,"dialog ").concat(n,"one-bg ").concat(n,'two-color">\n      <div class="').concat(t,'header">\n        <div class="').concat(t,'title">').concat(i,'</div>\n        <div class="').concat(t,'btn-close" data-close-modal>&Cross;</div>\n      </div>\n      <div class="').concat(t,'content">\n        <div id="').concat(t,'c">').concat(r,'</div>\n        <div style="clear:both"></div>\n      </div>\n    </div>\n    <div class="').concat(t,'collector" style="display: none"></div>')},t.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},t.prototype.onClick=function(e){this.config.backdrop&&e.target===this.el&&this.hide()},t.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},t.prototype.getContent=function(){var e=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(e,"content #").concat(e,"c"))),this.$content},t.prototype.getTitle=function(e){return void 0===e&&(e={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),e.$?this.$title:this.$title.get(0)},t.prototype.updateContent=function(){var e=this.getContent(),t=e.children(),n=this.getCollector(),r=this.model.get("content");t.length&&n.append(t),e.empty().append(r)},t.prototype.updateTitle=function(){var e=this.getTitle({$:!0});e&&e.empty().append(this.model.get("title"))},t.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},t.prototype.hide=function(){this.model.close()},t.prototype.show=function(){this.model.open()},t.prototype.updateAttr=function(e){var t=this,n=t.pfx,r=t.$el,i=t.el,o=[].slice.call(i.attributes).map((function(e){return e.name}));r.removeAttr(o.join(" ")),r.attr(f(f({},e||{}),{class:"".concat(n,"container ").concat(e&&e.class||"").trim()}))},t.prototype.render=function(){var e=this.$el,t=this.model.toJSON();return t.pfx=this.pfx,t.ppfx=this.ppfx,e.html(this.template(t)),this.updateAttr(),this.updateOpen(),this},t}(h.Z),g=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(e){function t(t){var n=e.call(this,t,"Modal",a)||this;return n.model=new u(n),n.model.on("change:open",(function(e,n){t.trigger("modal:".concat(n?"open":"close"))})),n.model.on("change",(0,i.debounce)((function(){var e=n._evData(),r=n.config.custom;(0,i.isFunction)(r)&&r(e),t.trigger("modal",e)}),0)),n}return g(t,e),t.prototype._evData=function(){var e=this,t=this.getTitle(),n=this.getContent(),r=this.model.attributes;return{open:r.open,attributes:r.attributes,title:(0,i.isString)(t)?(0,s.rw)(t):t,content:(0,i.isString)(n)?(0,s.rw)(n):n.get?n.get(0):n,close:function(){return e.close()}}},t.prototype.postRender=function(e){var t=e.model.config.el||e.el,n=this.render();n&&(null==t||t.appendChild(n))},t.prototype.open=function(e){void 0===e&&(e={});var t=e.attributes||{};return e.title&&this.setTitle(e.title),e.content&&this.setContent(e.content),this.model.set("attributes",t),this.model.open(),this.modal&&this.modal.updateAttr(t),this},t.prototype.close=function(){return this.model.close(),this},t.prototype.onceClose=function(e){return this.em.once("modal:close",e),this},t.prototype.onceOpen=function(e){return this.em.once("modal:open",e),this},t.prototype.isOpen=function(){return!!this.model.get("open")},t.prototype.setTitle=function(e){return this.model.set("title",e),this},t.prototype.getTitle=function(){return this.model.get("title")},t.prototype.setContent=function(e){return this.model.set("content"," "),this.model.set("content",e),this},t.prototype.getContent=function(){return this.model.get("content")},t.prototype.getContentEl=function(){var e;return null===(e=this.modal)||void 0===e?void 0:e.getContent().get(0)},t.prototype.getModel=function(){return this.model},t.prototype.render=function(){var e;if(!this.config.custom){var t=p.extend(this.config.extend),n=this.modal&&this.modal.el;return this.modal=new t({el:n,model:this.model,config:this.config}),null===(e=this.modal)||void 0===e?void 0:e.render().el}},t.prototype.destroy=function(){var e;null===(e=this.modal)||void 0===e||e.remove()},t}(o.Z),v=m},7892:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $},evAll:function(){return x},evComponent:function(){return S},evCustom:function(){return _},evPfx:function(){return k},evRoot:function(){return C}});var r,i=n(9050),o=n(7904),s=n(6434),a=n(1163),l={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}},c=n(2316),u=n(2169),h=n(9138),d=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;n.items=[],n.opt=t;var r=t.config||{};n.config=r,n.parentView=t.parentView;var i=r.stylePrefix||"",o=r.pStylePrefix||"",s=n.collection;n.listenTo(s,"add",n.addTo),n.listenTo(s,"reset resetNavigator",n.render),n.listenTo(s,"remove",n.removeChildren),n.className="".concat(i,"layers");var a=r.em;if(r.sortable&&!n.opt.sorter){var l=a.get("Utils");n.opt.sorter=new l.Sorter({container:r.sortContainer||n.el,containerSel:".".concat(n.className),itemSel:".".concat(i,"layer"),ignoreViewChildren:1,onEndMove:function(e,t,n){var r=t.getSourceModel();a.setSelected(r,{forceChange:1}),a.trigger("".concat(h.OA,":end"),n)},avoidSelectOnEnd:1,nested:1,ppfx:o,pfx:i})}return n.$el.data("collection",s),t.parent&&n.$el.data("model",t.parent),n}return d(t,e),t.prototype.removeChildren=function(e){var t=e.viewLayer;t&&(t.remove(),delete e.viewLayer)},t.prototype.addTo=function(e){var t=this.collection.indexOf(e);this.addToCollection(e,null,t)},t.prototype.addToCollection=function(e,t,n){var r=this,i=r.parentView,o=r.opt,s=r.config,a=o.ItemView,l=o.opened,c=o.module,u=t||null,h=new a({ItemView:a,level:o.level,model:e,parentView:i,config:s,sorter:o.sorter,opened:l,module:c}),d=h.render().el;if(u)u.appendChild(d);else if(void 0!==n){var f="before";this.$el.children().length==n&&(n--,f="after"),n<0?this.$el.append(d):this.$el.children().eq(n)[f](d)}else this.$el.append(d);return this.items.push(h),d},t.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c.View.prototype.remove.apply(this,e),this.items.map((function(e){return e.remove()})),this},t.prototype.render=function(){var e=this,t=document.createDocumentFragment(),n=this.el;return n.innerHTML="",this.collection.each((function(n){return e.addToCollection(n,t)})),n.appendChild(t),n.className=this.className,this},t}(c.View),p=f,g=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m="contentEditable",v=function(e){function t(t){var n=e.call(this,t)||this;(0,i.bindAll)(n,"__render"),n.opt=t,n.module=t.module,n.config=t.config||{},n.sorter=t.sorter||"",n.parentView=t.parentView;var r=n,o=r.model,s=r.pfx,a=r.ppfx,l=o.get("type")||"default";return n.className="".concat(s,"layer ").concat(s,"layer__t-").concat(l," no-select ").concat(a,"two-color"),n.inputNameCls="".concat(a,"layer-name"),n.clsTitleC="".concat(s,"layer-title-c"),n.clsTitle="".concat(s,"layer-title"),n.clsCaret="".concat(s,"layer-caret"),n.clsCount="".concat(s,"layer-count"),n.clsMove="".concat(s,"layer-move"),n.clsChildren="".concat(s,"layer-children"),n.clsNoChild="".concat(s,"layer-no-chld"),n.clsEdit="".concat(n.inputNameCls,"--edit"),n.clsNoEdit="".concat(n.inputNameCls,"--no-edit"),n.initComponent(),n}return g(t,e),t.prototype.events=function(){return{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"}},t.prototype.template=function(e){var t=this,n=t.pfx,r=t.ppfx,i=t.config,o=t.clsNoEdit,s=t.module,a=t.opt,l=t.em,c=i.hidable,u=s.getComponents(e).length,h=u?"":this.clsNoChild,d="".concat(this.clsTitle," ").concat(h),f="".concat(this.clsTitleC," ").concat(r,"one-bg"),p="".concat(this.inputNameCls," ").concat(o," ").concat(r,"no-app"),g=a.level+1,m="".concat(30+10*g,"px"),v=e.getName(),y=e.getIcon(),b="".concat(n,"layer"),w=(null==l?void 0:l.getConfig()).icons,x=w.move,k=w.eye,C=w.eyeOff,S=w.chevron;return"\n      ".concat(c?'<i class="'.concat(n,'layer-vis" data-toggle-visible>\n            <i class="').concat(n,'layer-vis-on">').concat(k,'</i>\n            <i class="').concat(n,'layer-vis-off">').concat(C,"</i>\n          </i>"):"",'\n      <div class="').concat(f,'">\n        <div class="').concat(d,'" style="padding-left: ').concat(m,'" data-toggle-select>\n          <div class="').concat(n,'layer-title-inn" title="').concat(v,'">\n            <i class="').concat(this.clsCaret,'" data-toggle-open>').concat(S,"</i>\n            ").concat(y?'<span class="'.concat(b,'__icon">').concat(y,"</span>"):"",'\n            <span class="').concat(p,'" data-name>').concat(v,'</span>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(this.clsCount,'" data-count>').concat(u||"",'</div>\n      <div class="').concat(this.clsMove,'" data-toggle-move>').concat(x||"",'</div>\n      <div class="').concat(this.clsChildren,'"></div>')},Object.defineProperty(t.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),t.prototype.initComponent=function(){var e=this,t=this.model,n=this.config.onInit,r=t.components();this.listenTo(r,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach((function(n){return e.listenTo(t,n[0],n[1])})),this.$el.data("model",t),this.$el.data("collection",r),t.viewLayer=this,n.bind(this)({component:t,render:this.__render,listenTo:this.listenTo})},t.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},t.prototype.getVisibilityEl=function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},t.prototype.updateVisibility=function(){var e=this,t=e.pfx,n=e.model,r=e.module,i="".concat(t,"layer-hidden"),o=r.isVisible(n)?"removeClass":"addClass";this.$el[o](i),this.getVisibilityEl()[o]("".concat(t,"layer-off"))},t.prototype.toggleVisibility=function(e){null==e||e.stopPropagation();var t=this.module,n=this.model;t.setVisible(n,!t.isVisible(n))},t.prototype.handleEdit=function(e){null==e||e.stopPropagation();var t=this,n=t.em,r=t.$el,i=t.clsNoEdit,o=t.clsEdit,s=this.getInputName();s[m]="true",s.focus(),document.execCommand("selectAll",!1),n.setEditing(!0),r.find(".".concat(this.inputNameCls)).removeClass(i).addClass(o)},t.prototype.handleEditKey=function(e){e.stopPropagation(),((0,a.isEscKey)(e)||(0,a.isEnterKey)(e))&&this.handleEditEnd(e)},t.prototype.handleEditEnd=function(e){null==e||e.stopPropagation();var t=this,n=t.em,r=t.$el,i=t.clsNoEdit,o=t.clsEdit,s=this.getInputName(),a=s.textContent;s.scrollLeft=0,s[m]="false",this.setName(a,{component:this.model,propName:"custom-name"}),n.setEditing(!1),r.find(".".concat(this.inputNameCls)).addClass(i).removeClass(o),this.updateName()},t.prototype.setName=function(e,t){var n=t.propName;this.model.set(n,e)},t.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},t.prototype.updateOpening=function(){var e=this,t=e.$el,n=e.model,r=e.pfx,i="open",o="".concat(r,"layer-open"),s=this.getCaret();this.module.isOpen(n)?(t.addClass(i),s.addClass(o)):(t.removeClass(i),s.removeClass(o))},t.prototype.toggleOpening=function(e){var t=this.model,n=this.module;null==e||e.stopImmediatePropagation(),t.get("components").length&&n.setOpen(t,!n.isOpen(t))},t.prototype.handleSelect=function(e){null==e||e.stopPropagation();var t=this.module,n=this.model;t.setLayerData(n,{selected:!0},{event:e})},t.prototype.handleHover=function(e){null==e||e.stopPropagation();var t=this.module,n=this.model;t.setLayerData(n,{hovered:!0})},t.prototype.handleHoverOut=function(e){null==e||e.stopPropagation();var t=this.module,n=this.model;t.setLayerData(n,{hovered:!1})},t.prototype.startSort=function(e){e.stopPropagation();var t=this.em,n=this.sorter;e.button&&0!==e.button||n&&(n.onStart=function(e){return t.trigger("".concat(h.OA,":start"),e)},n.onMoveClb=function(e){return t.trigger(h.OA,e)},n.startSort(e.target))},t.prototype.updateStatus=function(){u.Z.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:1}])},t.prototype.checkChildren=function(){var e=this,t=e.model,n=e.clsNoChild,r=e.$el,i=e.module,o=i.getComponents(t).length,s=r.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),a=this.cnt;a||(a=r.children("[data-count]").get(0),this.cnt=a),s[o?"removeClass":"addClass"](n),a&&(a.innerHTML=o||""),!o&&i.setOpen(t,!1)},t.prototype.getCaret=function(){return this.caret&&this.caret.length||(this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},t.prototype.setRoot=function(e){e=(0,i.isString)(e)?this.em.getWrapper().find(e)[0]:e;var t=(0,a.getModel)(e,0);t&&(this.stopListening(),this.model=t,this.initComponent(),this._rendered&&this.render())},t.prototype.updateLayerable=function(){(this.parentView||this).render()},t.prototype.__clearItems=function(){var e;null===(e=this.items)||void 0===e||e.remove()},t.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c.View.prototype.remove.apply(this,e),this.__clearItems(),this},t.prototype.render=function(){var e=this,t=e.model,n=e.config,r=e.pfx,i=e.ppfx,o=e.opt,s=e.sorter;this.__clearItems();var a=o.opened,l=o.module,c=o.ItemView,u=!l.__isLayerable(t),h=this.$el.empty(),d=o.level+1;delete this.inputName,this.items=new p({ItemView:c,collection:t.get("components"),config:n,sorter:s,opened:a,parentView:this,parent:t,level:d,module:l});var f=this.items.render().$el;return n.showWrapper||1!==d?(h.html(this.template(t)),h.find(".".concat(this.clsChildren)).append(f)):h.append(f),t.get("draggable")&&n.sortable||h.children(".".concat(this.clsMove)).remove(),!l.isVisible(t)&&(this.className+=" ".concat(r,"hide")),u&&(this.className+=" ".concat(i,"hidden")),h.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.__render(),this._rendered=!0,this},t.prototype.__render=function(){var e=this,t=e.model,n=e.config,r={component:t,el:e.el};n.onRender.bind(this)(r),this.em.trigger("layer:render",r)},t}(c.View),y=v,b=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(){return w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},w.apply(this,arguments)},x="layer",k="".concat(x,":"),C="".concat(k,"root"),S="".concat(k,"component"),_="".concat(k,"custom"),O={all:x,root:C,component:S,custom:_},E={mediaText:""},T=["open","status","locked","custom-name","components","classes"].map((function(e){return"component:update:".concat(e)})).join(" "),A=function(e){function t(t){var n=e.call(this,t,"LayerManager",l)||this;return n.events=O,(0,i.bindAll)(n,"componentChanged","__onRootChange","__onComponent"),n.model=new o.Z(n,{opened:{}}),n.config.stylePrefix=n.config.pStylePrefix,n}return b(t,e),t.prototype.onLoad=function(){var e=this,t=this,n=t.em,r=t.config,i=t.model;i.listenTo(n,"component:selected",this.componentChanged),i.on("change:root",this.__onRootChange),i.listenTo(n,T,this.__onComponent),this.componentChanged(),i.listenToOnce(n,"load",(function(){e.setRoot(r.root),e.__appendTo()}))},t.prototype.setRoot=function(e){var t=this.em.getWrapper(),n=(0,a.isComponent)(e)?e:t;return e&&(0,i.isString)(e)&&(0,a.hasWin)()&&(n=t.find(e)[0]||t),this.model.set("root",n),n},t.prototype.getRoot=function(){return this.model.get("root")},t.prototype.getComponents=function(e){var t=this;return e.components().filter((function(e){return t.__isLayerable(e)}))},t.prototype.setOpen=function(e,t){e.set("open",t)},t.prototype.isOpen=function(e){return!!e.get("open")},t.prototype.setVisible=function(e,t){var n="__prev-display",r=e.getStyle(E),i=r.display;if(t){var o=e.get(n);delete r.display,o&&(r.display=o,e.unset(n))}else i&&e.set(n,i),r.display="none";e.setStyle(r,E),this.updateLayer(e),this.em.trigger("component:toggled")},t.prototype.isVisible=function(e){return void 0===(t=e.getStyle(E))&&(t={}),!(0===(t.display||"").trim().indexOf("none"));var t},t.prototype.setLocked=function(e,t){e.set("locked",t)},t.prototype.isLocked=function(e){return e.get("locked")},t.prototype.setName=function(e,t){e.set("custom-name",t)},t.prototype.getName=function(e){return e.getName()},t.prototype.getLayerData=function(e){var t=e.get("status");return{name:e.getName(),open:this.isOpen(e),selected:"selected"===t,hovered:"hovered"===t,visible:this.isVisible(e),locked:this.isLocked(e),components:this.getComponents(e)}},t.prototype.setLayerData=function(e,t,n){var r;void 0===n&&(n={});var i=this.em,o=this.config,s=t.open,l=t.selected,c=t.hovered,u=t.visible,h=t.locked,d=t.name,f=w({fromLayers:!0},n);if((0,a.isDef)(s)&&this.setOpen(e,s),(0,a.isDef)(l))if(l){i.setSelected(e,f);var p=o.scrollCanvas;p&&(null===(r=e.views)||void 0===r||r.forEach((function(e){return e.scrollIntoView(p)})))}else i.removeSelected(e,f);(0,a.isDef)(c)&&o.showHover&&(c?i.setHovered(e,f):i.setHovered(null,f)),(0,a.isDef)(u)&&u!==this.isVisible(e)&&this.setVisible(e,u),(0,a.isDef)(h)&&this.setLocked(e,h),(0,a.isDef)(d)&&this.setName(e,d)},t.prototype.componentChanged=function(e,t){var n;if(void 0===t&&(t={}),!t.fromLayers){var r=this.em,i=this.config.scrollLayers,o=this.model.get("opened"),s=r.getSelected(),a=null==s?void 0:s.parent();for(var l in o)o[l].set("open",!1),delete o[l];for(;a;)a.set("open",!0),o[a.cid]=a,a=a.parent();if(s&&i){var c=null===(n=s.viewLayer)||void 0===n?void 0:n.el;null==c||c.scrollIntoView(i)}}},t.prototype.getAll=function(){return this.view},t.prototype.render=function(){var e,t,n=this.config,r=this.model,i=y.extend(n.extend);return this.view=new i({el:null===(e=this.view)||void 0===e?void 0:e.el,ItemView:i,level:0,config:n,opened:r.get("opened"),model:this.getRoot(),module:this}),null===(t=this.view)||void 0===t?void 0:t.render().el},t.prototype.destroy=function(){var e;null===(e=this.view)||void 0===e||e.remove()},t.prototype.__onRootChange=function(){var e,t=this.getRoot();null===(e=this.view)||void 0===e||e.setRoot(t),this.em.trigger(C,t)},t.prototype.__onComponent=function(e){this.updateLayer(e)},t.prototype.__isLayerable=function(e){var t=e.get("tagName");return(!this.config.hideTextnode||!e.is("textnode")&&"br"!==t)&&e.get("layerable")},t.prototype.__trgCustom=function(e){this.em.trigger(this.events.custom,{container:e.container,root:this.getRoot()})},t.prototype.updateLayer=function(e,t){this.em.trigger(S,e,t)},t}(s.Z),$=A},7948:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A},evAll:function(){return m},evPageAdd:function(){return x},evPageAddBefore:function(){return k},evPageRemove:function(){return C},evPageRemoveBefore:function(){return S},evPageSelect:function(){return y},evPageSelectBefore:function(){return b},evPageUpdate:function(){return w},evPfx:function(){return v}});var r,i=n(9050),o=n(1163),s=n(7904),a=n(6434),l=n(2316),c=n(3560),u=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this,t,n)||this,i=n.em,o={};r.em=i,t.frames||(o.component=t.component,o.styles=t.styles,["component","styles"].map((function(e){return r.unset(e)})));var s=t.frames||[o],a=new c.Z(i.get("Canvas"),s);a.page=r,r.set("frames",a),!r.getId()&&r.set("id",null==i?void 0:i.get("PageManager")._createId());var l=null==i?void 0:i.get("UndoManager");return null==l||l.add(a),r}return u(t,e),t.prototype.defaults=function(){return{frames:[],_undo:!0}},t.prototype.onRemove=function(){this.getFrames().reset()},t.prototype.getFrames=function(){return this.get("frames")},t.prototype.getId=function(){return this.id},t.prototype.getName=function(){return this.get("name")},t.prototype.setName=function(e){return this.set({name:e})},t.prototype.getAllFrames=function(){return this.getFrames().models||[]},t.prototype.getMainFrame=function(){return this.getFrames().at(0)},t.prototype.getMainComponent=function(){var e=this.getMainFrame();return null==e?void 0:e.getComponent()},t.prototype.toJSON=function(e){void 0===e&&(e={});var t=l.Model.prototype.toJSON.call(this,e),n=(0,i.result)(this,"defaults");return(0,i.forEach)(t,(function(e,n){0===n.indexOf("_")&&delete t[n]})),(0,i.forEach)(n,(function(e,n){t[n]===e&&delete t[n]})),t},t}(l.Model),d=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)},p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.on("reset",r.onReset),r.on("remove",r.onRemove),r.model=function(e,t){return void 0===t&&(t={}),new h(e,f(f({},t),{em:n}))},r}return d(t,e),t.prototype.onReset=function(e,t){var n,r=this;null===(n=null==t?void 0:t.previousModels)||void 0===n||n.map((function(e){return r.onRemove(e)}))},t.prototype.onRemove=function(e){null==e||e.onRemove()},t}(l.Collection),g=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m="page",v="".concat(m,":"),y="".concat(v,"select"),b="".concat(y,":before"),w="".concat(v,"update"),x="".concat(v,"add"),k="".concat(x,":before"),C="".concat(v,"remove"),S="".concat(C,":before"),_="change:selected",O="main",E={all:m,select:y,selectBefore:b,update:w,add:x,addBefore:k,remove:C,removeBefore:S},T=function(e){function t(t){var n=e.call(this,t,"PageManager",new p([],t),E)||this;n.storageKey="pages",(0,i.bindAll)(n,"_onPageChange");var r=new s.Z({_undo:!0});return n.model=r,n.pages.on("reset",(function(e){return e.at(0)&&n.select(e.at(0))})),n.pages.on("all",n.__onChange,n),r.on(_,n._onPageChange),n}return g(t,e),Object.defineProperty(t.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),t.prototype.__onChange=function(e,t,n,r){var i=r||n;this.em.trigger(m,{event:e,page:t,options:i})},t.prototype.onLoad=function(){var e,t=this,n=this.pages,r={silent:!0};n.add((null===(e=this.config.pages)||void 0===e?void 0:e.map((function(e){return new h(e,{em:t.em,config:t.config})})))||[],r);var i=n.length?this.getMain():this.add({type:O},r);i&&this.select(i,r)},t.prototype._onPageChange=function(e,t,n){var r=this.em,i=r.get("LayerManager"),o=t.getMainComponent();i&&o&&i.setRoot(o),r.trigger(y,t,e.previous("selected")),this.__onChange(_,t,n)},t.prototype.postLoad=function(){var e=this.em,t=this.model,n=e.get("UndoManager");n&&n.add(t),n&&n.add(this.pages)},t.prototype.add=function(e,t){var n=this;void 0===t&&(t={});var r=this.em;e.id=e.id||this._createId();var i=function(){var r=n.pages.add(new h(e,{em:n.em,config:n.config}),t);return t.select&&n.select(r),r};return!t.silent&&r.trigger(k,e,i,t),!t.abort&&i()},t.prototype.remove=function(e,t){var n=this;void 0===t&&(t={});var r=this.em,o=(0,i.isString)(e)?this.get(e):e,s=function(){return o&&n.pages.remove(o,t),o};return!t.silent&&r.trigger(S,o,s,t),!t.abort&&s()},t.prototype.get=function(e){return this.pages.filter((function(t){return t.get(t.idAttribute)===e}))[0]},t.prototype.getMain=function(){var e=this.pages;return e.filter((function(e){return e.get("type")===O}))[0]||e.at(0)},t.prototype.getAllWrappers=function(){var e=this.getAll();return(0,i.unique)((0,i.flatten)(e.map((function(e){return e.getAllFrames().map((function(e){return e.getComponent()}))}))))},t.prototype.select=function(e,t){void 0===t&&(t={});var n=(0,i.isString)(e)?this.get(e):e;return n&&(this.em.trigger(b,n,t),this.model.set("selected",n,t)),this},t.prototype.getSelected=function(){return this.model.get("selected")},t.prototype.destroy=function(){var e=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map((function(t){return e[t]=0}))},t.prototype.store=function(){return this.getProjectData()},t.prototype.load=function(e){return this.loadProjectData(e,{all:this.pages,reset:!0})},t.prototype._createId=function(){var e,t=this.getAll().length+16,n=this.getAllMap();do{e=(0,o.createId)(t)}while(n[e]);return e},t}(a.O),A=T},899:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r,i=n(6434),o="sw-visibility",s="export-template",a="open-sm",l="open-tm",c="open-layers",u="open-blocks",h="fullscreen",d="preview",f={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:o,className:"fa fa-square-o",command:o,context:o,attributes:{title:"View components"}},{id:d,className:"fa fa-eye",command:d,context:d,attributes:{title:"Preview"}},{id:h,className:"fa fa-arrows-alt",command:h,context:h,attributes:{title:"Fullscreen"}},{id:s,className:"fa fa-code",command:s,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:a,className:"fa fa-paint-brush",command:a,active:!0,togglable:0,attributes:{title:"Open Style Manager"}},{id:l,className:"fa fa-cog",command:l,togglable:0,attributes:{title:"Settings"}},{id:c,className:"fa fa-bars",command:c,togglable:0,attributes:{title:"Open Layer Manager"}},{id:u,className:"fa fa-th-large",command:u,togglable:0,attributes:{title:"Open Blocks"}}]}],em:null,delayBtnsShow:300},p=n(7116),g=n(7904),m=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.get("buttons").length&&r.set("buttons",new w(r.module,r.get("buttons"))),r}return m(t,e),t.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(t.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this.get("active")},set:function(e){this.set("active",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),t}(g.Z),y=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(e){function t(t,n){return e.call(this,t,n,v)||this}return y(t,e),t.prototype.deactivateAllExceptOne=function(e,t){this.forEach((function(n,r){n!==e&&(n.set("active",!1),t&&n.get("buttons").length&&n.get("buttons").deactivateAllExceptOne(e,t))}))},t.prototype.deactivateAll=function(e,t){var n=e||"";this.forEach((function(e){e.get("context")==n&&e!==t&&e.set("active",!1,{fromCollection:!0})}))},t.prototype.disableAllButtons=function(e){var t=e||"";this.forEach((function(e,n){e.get("context")==t&&e.set("disable",!0)}))},t.prototype.disableAllButtonsExceptOne=function(e,t){this.forEach((function(n,r){n!==e&&(n.set("disable",!0),t&&n.get("buttons").length&&n.get("buttons").disableAllButtonsExceptOne(e,t))}))},t}(p.Z),w=b;b.prototype.model=v;var x=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=r.get("buttons")||[];return r.buttons=new w(t,i),r}return x(t,e),t.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(t.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(e){this.set("buttons",e)},enumerable:!1,configurable:!0}),t}(g.Z),C=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(e){function t(t,n){return e.call(this,t,n,k)||this}return C(t,e),t}(p.Z),_=S;S.prototype.model=k;var O=n(3059),E=n(9050),T=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(){return A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},A.apply(this,arguments)},$=function(e){function t(t){var n=e.call(this,t)||this,r=n,i=r.model,o=r.em,s=r.pfx,a=r.ppfx,l=i.className,c=i.attributes,u=c.command,h=c.listen;if(n.id=s+i.get("id"),n.activeCls="".concat(s,"active ").concat(a,"four-color"),n.disableCls="".concat(a,"disabled"),n.btnsVisCls="".concat(s,"visible"),n.className=s+"btn"+(l?" "+l:""),n.listenTo(i,"change",n.render),n.listenTo(i,"change:active updateActive",n.updateActive),n.listenTo(i,"checkActive",n.checkActive),n.listenTo(i,"change:bntsVis",n.updateBtnsVis),n.listenTo(i,"change:attributes",n.updateAttributes),n.listenTo(i,"change:className",n.updateClassName),n.listenTo(i,"change:disable",n.updateDisable),o&&(0,E.isString)(u)&&h){var d={fromListen:!0};n.listenTo(o,"run:".concat(u),(function(){return i.set("active",!0,d)})),n.listenTo(o,"stop:".concat(u),(function(){return i.set("active",!1,d)}))}return o&&o.get&&(n.commands=o.get("Commands")),n}return T(t,e),t.prototype.tagName=function(){return this.model.get("tagName")},t.prototype.events=function(){return{click:"clicked"}},t.prototype.updateClassName=function(){var e=this.model,t=this.pfx,n=e.className,r=e.get("attributes").class,i="".concat(r||""," ").concat(t,"btn ").concat(n||"");this.$el.attr("class",i.trim())},t.prototype.updateAttributes=function(){var e=this,t=e.em,n=e.model,r=e.$el,i=n.get("attributes")||{},o=t&&t.t&&t.t("panels.buttons.titles.".concat(n.id));r.attr(i),o&&r.attr({title:o}),this.updateClassName()},t.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},t.prototype.updateActive=function(e,t,n){var r;void 0===n&&(n={});var i=this,o=i.model,s=i.commands,a=i.$el,l=i.activeCls,c=n.fromCollection,u=n.fromListen,h=o.get("context"),d=o.get("options"),f=o.command,p={};f&&(s&&(0,E.isString)(f)?p=s.get(f)||{}:(0,E.isFunction)(f)?p=s.create({run:f}):null!==f&&(0,E.isObject)(f)&&(p=s.create(f)),o.active?(!c&&(null===(r=o.collection)||void 0===r||r.deactivateAll(h,o)),o.set("active",!0,{silent:!0}).trigger("checkActive"),!u&&s.runCommand(p,A(A({},d),{sender:o})),p.noStop&&o.set("active",!1)):(a.removeClass(l),!u&&s.stopCommand(p,A(A({},d),{sender:o,force:1}))))},t.prototype.updateDisable=function(){var e=this.disableCls,t=this.model.disable;this.$el[t?"addClass":"removeClass"](e)},t.prototype.checkActive=function(){var e=this,t=e.model,n=e.$el,r=e.activeCls;t.active?n.addClass(r):n.removeClass(r)},t.prototype.clicked=function(e){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},t.prototype.toggleActive=function(){var e=this.model,t=this.em,n=e.active,r=e.togglable;n&&!r||(e.active=!n,n?e.runDefaultCommand&&t.runDefault():e.stopDefaultCommand&&t.stopDefault())},t.prototype.render=function(){var e=this.model,t=e.get("label"),n=this.$el;return!e.get("el")&&n.empty(),this.updateAttributes(),t&&n.append(t),this.checkActive(),this.updateDisable(),this},t}(O.Z),L=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(e){function t(t){var n=e.call(this,{collection:t})||this;return n.listenTo(n.collection,"add",n.addTo),n.listenTo(n.collection,"reset remove",n.render),n.className=n.pfx+"buttons",n}return L(t,e),t.prototype.addTo=function(e){this.addToCollection(e)},t.prototype.addToCollection=function(e,t){var n=t||null,r=e.get("el"),i=new $({el:r,model:e}).render().el;return n?n.appendChild(i):this.$el.append(i),i},t.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.$el.empty(),this.collection.each((function(n){return e.addToCollection(n,t)})),this.$el.append(t),this.$el.attr("class",(0,E.result)(this,"className")),this},t}(O.Z),P=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M=function(){return M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},M.apply(this,arguments)},D=function(e){function t(t){var n=e.call(this,{model:t,el:t.get("el")})||this;return n.className=n.pfx+"panel",n.id=n.pfx+t.get("id"),n.listenTo(t,"change:appendContent",n.appendContent),n.listenTo(t,"change:content",n.updateContent),n.listenTo(t,"change:visible",n.toggleVisible),t.view=n,n}return P(t,e),t.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},t.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},t.prototype.toggleVisible=function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))},t.prototype.attributes=function(){return this.model.get("attributes")},t.prototype.initResize=function(){var e=this.em,t=e?e.get("Editor"):"",n=this.model.get("resizable");if(t&&n){var r,i,o,s=!0===n?[1,1,1,1]:n,a=s.length,l=0;2==a?(r=s[0],o=s[0],i=s[1],l=s[1]):4==a&&(r=s[0],i=s[1],o=s[2],l=s[3]);var c=t.Utils.Resizer.init(M({tc:r,cr:i,bc:o,cl:l,tl:0,tr:0,bl:0,br:0,appendTo:this.el,silentFrames:1,avoidContainerUpdate:1,prefix:t.getConfig().stylePrefix,onEnd:function(){e&&e.trigger("change:canvasOffset")},posFetcher:function(e,t){var n=t.target,r=e.style,i=c.getConfig(),o=i.keyWidth,s=i.keyHeight,a=e.getBoundingClientRect(),l="container"==n,u=r[o],h=r[s];return{left:0,top:0,width:u&&!l?parseFloat(u):a.width,height:h&&!l?parseFloat(h):a.height}}},n));c.blur=function(){},c.focus(this.el)}},t.prototype.render=function(){var e=this.model.buttons,t=this.$el,n=this.ppfx,r="".concat(this.className," ").concat(this.id," ").concat(n,"one-bg ").concat(n,"two-color");if(t.addClass(r),this.toggleVisible(),e.length){var i=new R(e);t.append(i.render().el)}return t.append(this.model.get("content")),this},t}(O.Z),j=D,N=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(e){function t(t){var n=e.call(this,{collection:t})||this;return n.listenTo(t,"add",n.addTo),n.listenTo(t,"reset",n.render),n.listenTo(t,"remove",n.onRemove),n.className=n.pfx+"panels",n}return N(t,e),t.prototype.onRemove=function(e){var t=e.view;t&&t.remove()},t.prototype.addTo=function(e){this.addToCollection(e)},t.prototype.addToCollection=function(e,t){var n=t||null,r=(this.config,e.get("el")),i=new j(e),o=i.render().el,s=e.get("appendTo");return r||(s?document.querySelector(s).appendChild(o):n?n.appendChild(o):this.$el.append(o)),i.initResize(),o},t.prototype.render=function(){var e=this,t=this.$el,n=document.createDocumentFragment();return t.empty(),this.collection.each((function(t){return e.addToCollection(t,n)})),t.append(n),t.attr("class",this.className),this},t}(O.Z),F=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(e){function t(t){var n=e.call(this,t,"Panels",f)||this;for(var r in n.panels=new _(n,n.config.defaults),f)r in n.config||(n.config[r]=f[r]);return n}return F(t,e),t.prototype.getPanels=function(){return this.panels},t.prototype.getPanelsEl=function(){return this.PanelsViewObj&&this.PanelsViewObj.el},t.prototype.addPanel=function(e){return this.panels.add(e)},t.prototype.removePanel=function(e){return this.panels.remove(e)},t.prototype.getPanel=function(e){var t=this.panels.where({id:e});return t.length?t[0]:null},t.prototype.addButton=function(e,t){var n=this.getPanel(e);return n?n.get("buttons").add(t):null},t.prototype.removeButton=function(e,t){var n=this.getPanel(e);return n&&n.get("buttons").remove(t)},t.prototype.getButton=function(e,t){var n=this.getPanel(e);if(n){var r=n.get("buttons").where({id:t});return r.length?r[0]:null}return null},t.prototype.render=function(){return this.PanelsViewObj&&this.PanelsViewObj.remove(),this.PanelsViewObj=new I(this.panels),this.PanelsViewObj.render().el},t.prototype.active=function(){this.getPanels().each((function(e){e.get("buttons").each((function(e){e.get("active")&&e.trigger("updateActive")}))}))},t.prototype.disableButtons=function(){this.getPanels().each((function(e){e.get("buttons").each((function(e){e.get("disable")&&e.trigger("change:disable")}))}))},t.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},t}(i.Z)},3463:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H},evAdd:function(){return D},evAll:function(){return P},evCustom:function(){return F},evPfx:function(){return M},evRemove:function(){return N},evRemoveBefore:function(){return I},evState:function(){return B},evUpdate:function(){return j}});var r,i=n(9050),o=n(1163),s=n(9714),a=n(2316),l={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],escapeName:0,selectedName:0,iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',render:0,componentFirst:!1,custom:!1},c=n(5963),u=n(966),h=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.defaults=function(){return{name:"",label:""}},t.prototype.getName=function(){return this.get("name")},t.prototype.getLabel=function(){return this.get("label")||this.getName()},t}(a.Model),f=d;d.prototype.idAttribute="name";var p,g,m,v,y,b,w=n(7539),x=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},C="contentEditable",S=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this,r=t.config||{};return n.config=r,n.module=t.module,n.coll=t.coll||null,n.pfx=r.stylePrefix||"",n.ppfx=r.pStylePrefix||"",n.em=r.em,n.listenTo(n.model,"change:active",n.updateStatus),n}return x(t,e),t.prototype.template=function(){var e=this,t=e.pfx,n=e.model,r=e.config,i=n.get("label")||"";return(0,w.Z)(p||(p=k(['\n      <span id="','checkbox" class="','tag-status" data-tag-status></span>\n      <span id="','tag-label" data-tag-name>','</span>\n      <span id="','close" class="','tag-close" data-tag-remove> $'," </span>\n    "],['\n      <span id="','checkbox" class="','tag-status" data-tag-status></span>\n      <span id="','tag-label" data-tag-name>','</span>\n      <span id="','close" class="','tag-close" data-tag-remove> $'," </span>\n    "])),t,t,t,i,t,t,r.iconTagRemove)},t.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},t.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},t.prototype.startEditTag=function(){var e=this.em,t=this.getInputEl();t[C]="true",t.focus(),e&&e.setEditing(1)},t.prototype.endEditTag=function(){var e=this.model,t=this.getInputEl(),n=t.textContent,r=this.em,i=r&&r.get("SelectorManager");if(t[C]="false",r&&r.setEditing(0),i){var o=i.escapeName(n);i.get(o)?t.innerText=e.get("label"):e.set({name:o,label:n})}},t.prototype.changeStatus=function(){var e=this.model;e.set("active",!e.get("active"))},t.prototype.removeTag=function(){this.module.removeSelected(this.model)},t.prototype.updateStatus=function(){var e=this,t=e.model,n=e.$el,r=e.config,i=r.iconTagOn,o=r.iconTagOff,s=n.find("[data-tag-status]");t.get("active")?(s.html(i),n.removeClass("opac50")):(s.html(o),n.addClass("opac50"))},t.prototype.render=function(){var e=this.pfx,t=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(e,"tag ").concat(t,"three-bg")),this.updateStatus(),this},t}(a.View),_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},E=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;n.config=t.config||{},n.pfx=n.config.stylePrefix||"",n.ppfx=n.config.pStylePrefix||"",n.className=n.pfx+"tags",n.stateInputId=n.pfx+"states",n.stateInputC=n.pfx+"input-c",n.states=n.config.states||[];var r=n.config.em,o=n.collection;n.target=r;var s=r.get("SelectorManager");return n.module=s,n.em=r,n.componentChanged=(0,i.debounce)(n.componentChanged.bind(n),0),n.checkSync=(0,i.debounce)(n.checkSync.bind(n),0),n.listenTo(r,"component:toggled component:update:classes",n.componentChanged),n.listenTo(r,"styleManager:update",n.componentChanged),n.listenTo(r,"component:update:classes change:state",n.__handleStateChange),n.listenTo(r,"styleable:change change:device",n.checkSync),n.listenTo(o,"add",n.addNew),n.listenTo(o,"reset",n.renderClasses),n.listenTo(o,"remove",n.tagRemoved),n.listenTo(s.getAll(),s.events.state,(0,i.debounce)((function(){return n.renderStates()}),0)),n.delegateEvents(),n}return _(t,e),t.prototype.template=function(e){var t=e.labelInfo,n=e.labelHead,r=e.iconSync,i=e.iconAdd,o=e.pfx,s=e.ppfx;return(0,w.Z)(g||(g=O([' <div id="','up" class="','header">\n        <div id="','label" class="','header-label">','</div>\n        <div id="','status-c" class="','header-status">\n          <span id="','input-c" data-states-c>\n            <div class="',"field ",'select">\n              <span id="','input-holder">\n                <select id="','states" data-states></select>\n              </span>\n              <div class="','sel-arrow">\n                <div class="','d-s-arrow"></div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div id="','tags-field" class="','field">\n        <div id="','tags-c" data-selectors></div>\n        <input id="','new" data-input />\n        <span id="','add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',' </span>\n        <span class="',"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',' </span>\n      </div>\n      <div class="','sels-info">\n        <div class="','label-sel">',':</div>\n        <div class="','sels" data-selected></div>\n      </div>'],[' <div id="','up" class="','header">\n        <div id="','label" class="','header-label">','</div>\n        <div id="','status-c" class="','header-status">\n          <span id="','input-c" data-states-c>\n            <div class="',"field ",'select">\n              <span id="','input-holder">\n                <select id="','states" data-states></select>\n              </span>\n              <div class="','sel-arrow">\n                <div class="','d-s-arrow"></div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div id="','tags-field" class="','field">\n        <div id="','tags-c" data-selectors></div>\n        <input id="','new" data-input />\n        <span id="','add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',' </span>\n        <span class="',"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',' </span>\n      </div>\n      <div class="','sels-info">\n        <div class="','label-sel">',':</div>\n        <div class="','sels" data-selected></div>\n      </div>'])),o,o,o,o,n,o,o,o,s,s,s,o,s,s,o,s,o,o,o,o,o,i,o,o,r,o,o,t,o)},t.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},t.prototype.syncStyle=function(){var e,t=this.em,n=this.getTarget(),r=t.get("CssComposer"),i=this.getCommonSelectors({opts:{noDisabled:1}}),o=t.get("state"),s=t.getCurrentMedia(),a=[],l=r.get(i,o,s)||r.add(i,o,s);this.getTargets().forEach((function(t){var n=r.getIdRule(t.getId(),{state:o,mediaText:s});e=n.getStyle(),n.setStyle({}),a.push(n)})),e&&l.addStyle(e),t.trigger("component:toggled"),t.trigger("component:sync-style",{component:n,selectors:i,mediaText:s,rule:l,ruleComponents:a,state:o})},t.prototype.tagRemoved=function(e){this.updateStateVis()},t.prototype.addNew=function(e){this.addToClasses(e)},t.prototype.startNewTag=function(){var e,t;null===(e=this.$addBtn)||void 0===e||e.css({display:"none"}),null===(t=this.$input)||void 0===t||t.show().focus()},t.prototype.endNewTag=function(){var e,t;null===(e=this.$addBtn)||void 0===e||e.css({display:""}),null===(t=this.$input)||void 0===t||t.hide().val("")},t.prototype.onInputKeyUp=function(e){var t;13===e.keyCode?(e.preventDefault(),this.addNewTag(null===(t=this.$input)||void 0===t?void 0:t.val())):27===e.keyCode&&this.endNewTag()},t.prototype.checkStates=function(){var e=this.em.getState(),t=this.getStates();t&&t.val(e)},t.prototype.componentChanged=function(e){var t=(void 0===e?{}:e).targets;this.updateSelection(t)},t.prototype.updateSelection=function(e){var t=e||this.getTargets(),n=[];return(t=(0,i.isArray)(t)?t:[t])&&t.length&&(n=this.getCommonSelectors({targets:t}),this.checkSync({validSelectors:n})),this.collection.reset(n),this.updateStateVis(t),this.module.__trgCustom(),n},t.prototype.getCommonSelectors=function(e){var t=void 0===e?{}:e,n=t.targets,r=t.opts,i=void 0===r?{}:r,o=n||this.getTargets();return this.module.__getCommonSelectors(o,i)},t.prototype._commonSelectors=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.module).__common.apply(e,t)},t.prototype.checkSync=function(){var e,t=this,n=t.$btnSyncEl,r=t.config,o=t.collection,s=this.getTarget();if(s&&r.componentFirst&&o.length){var a=s.getStyle();e=!(0,i.isEmpty)(a)}n&&n[e?"show":"hide"]()},t.prototype.getTarget=function(){return this.target.getSelected()},t.prototype.getTargets=function(){return this.target.getSelectedAll()},t.prototype.updateStateVis=function(e){var t=this.em,n=t&&t.getConfig().avoidInlineStyle,r=this.collection.length||n?"":"none";this.getStatesC().css("display",r),this.updateSelector(e)},t.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},t.prototype.updateSelector=function(e){var t=this,n=this.el.querySelector("[data-selected]"),r=[],o=e||this.getTargets();(o=(0,i.isArray)(o)?o:[o]).forEach((function(e){return r.push(t.__getName(e))})),n&&(n.innerHTML=r.join(", ")),this.checkStates()},t.prototype.__getName=function(e){var t,n=this,r=n.pfx,o=n.config,s=n.em,a=o.selectedName,l=o.componentFirst;if((0,i.isString)(e))t=(0,w.Z)(m||(m=O(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),r,e);else{var c=null==e?void 0:e.getSelectors();if(!c)return"";var u=c.getStyleable(),h=s.get("state"),d=e.getId?(0,w.Z)(v||(v=O(['<span class="','sel-cmp">','</span>\n            <span class="','sel-id">#',"</span>"],['<span class="','sel-cmp">','</span>\n            <span class="','sel-id">#',"</span>"])),r,e.getName(),r,e.getId()):"";t=(t=this.collection.getFullString(u))?(0,w.Z)(y||(y=O(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),r,t):e.get("selectorsAdd")||d,t=l&&d?d:t,t+=h?(0,w.Z)(b||(b=O(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),r,h):"",t=a?a({result:t,state:h,target:e}):t}return t&&'<span class="'.concat(r,'sel">').concat(t,"</span>")},t.prototype.stateChanged=function(e){var t=this.em,n=e.target.value;t.set("state",n)},t.prototype.addNewTag=function(e){var t=e.trim();t&&(this.module.addSelected({label:t}),this.endNewTag())},t.prototype.addToClasses=function(e,t){var n=t,r=this.getClasses(),i=new S({model:e,config:this.config,coll:this.collection,module:this.module}).render().el;return n?n.appendChild(i):r.append(i),i},t.prototype.renderClasses=function(){var e=this,t=document.createDocumentFragment(),n=this.getClasses();n.empty(),this.collection.each((function(n){return e.addToClasses(n,t)})),n.append(t)},t.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},t.prototype.getStates=function(){if(!this.$states){var e=this.$el.find("[data-states]");this.$states=e[0]&&e}return this.$states},t.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},t.prototype.renderStates=function(){var e=this.module,t=this.em,n=t.t("selectorManager.emptyState"),r=e.getStates().map((function(e){var n=t.t("selectorManager.states.".concat(e.id))||e.getLabel()||e.id;return'<option value="'.concat(e.id,'">').concat(n,"</option>")})).join(""),i=this.getStates();i&&i.html('<option value="">'.concat(n,"</option>").concat(r)),this.checkStates()},t.prototype.render=function(){var e=this,t=e.em,n=e.pfx,r=e.ppfx,i=e.config,o=e.$el,s=e.el,a=i.render,l={iconSync:i.iconSync,iconAdd:i.iconAdd,labelHead:t.t("selectorManager.label"),labelInfo:t.t("selectorManager.selected"),ppfx:r,pfx:n,el:s};o.html(this.template(l));var c=a&&a(l);return c&&c!==s&&o.empty().append(c),this.$input=o.find("[data-input]"),this.$addBtn=o.find("[data-add]"),this.$classes=o.find("#"+n+"tags-c"),this.$btnSyncEl=o.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),o.attr("class","".concat(this.className," ").concat(r,"one-bg ").concat(r,"two-color")),this},t}(a.View),T=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(){return A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},A.apply(this,arguments)},$=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},L=function(e){return(0,i.isString)(e)&&"#"==e[0]},R=function(e){return(0,i.isString)(e)&&"."==e[0]},P="selector",M="".concat(P,":"),D="".concat(M,"add"),j="".concat(M,"update"),N="".concat(M,"remove"),I="".concat(N,":before"),F="".concat(M,"custom"),B="".concat(M,"state"),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="SelectorManager",t.Selector=c.Z,t.Selectors=u.Z,t.events={all:P,update:j,add:D,remove:N,removeBefore:I,state:B,custom:F},t.__update=(0,i.debounce)((function(){t.__trgCustom()}),0),t}return T(t,e),t.prototype.init=function(e){var t=this;void 0===e&&(e={}),this.__initConfig(l,e);var n=this.getConfig(),r=this.em,i=n.pStylePrefix;return i&&(n.stylePrefix=i+n.stylePrefix),this.all=new u.Z(n.selectors),this.selected=new u.Z([],{em:r,config:n}),this.states=new a.Collection(n.states.map((function(e){return new f(e)})),{model:f}),this.model=new a.Model({cFirst:n.componentFirst,_undo:!0}),this.__initListen({collections:[this.states,this.selected],propagate:[{entity:this.states,event:this.events.state}]}),r.on("change:state",(function(e,t){return r.trigger(B,t)})),this.model.on("change:cFirst",(function(e,t){return r.trigger("selector:type",t)})),this.model.listenTo(r,"component:toggled component:update:classes change:device styleManager:update selector:state selector:type",(function(){return t.__update()})),this},t.prototype.__trgCustom=function(e){this.em.trigger(this.events.custom,this.__customData(e))},t.prototype.__customData=function(e){void 0===e&&(e={});var t=e.container;return{states:this.getStates(),selected:this.getSelected(),container:t}},t.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},t.prototype.select=function(e,t){void 0===t&&(t={});var n=Array.isArray(e)?e:[e],r=this.em.get("StyleManager").select(n,t),i=this.selectorTags,s=r.filter((function(e){return e})).map((function(e){return(0,o.isComponent)(e)||(0,o.isRule)(e)&&!e.get("selectorsAdd")?e:e.getSelectorsString()}));return i&&i.componentChanged({targets:s}),this},t.prototype.addSelector=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r=A({},t);(0,i.isObject)(e)?r=e:r.name=e,L(r.name)?(r.name=r.name.substr(1),r.type=c.Z.TYPE_ID):R(r.name)&&(r.name=r.name.substr(1)),r.label&&!r.name&&(r.name=this.escapeName(r.label));var o=r.name,s=this.getConfig(),a=this.getAll(),l=this.em,u=o?this.get(o,r.type):a.where(r)[0];if(!u){var h=r instanceof c.Z?r:new c.Z(r,A(A({},n),{config:s,em:l}));return a.add(h,n)}return u},t.prototype.getSelector=function(e,t){return void 0===t&&(t=c.Z.TYPE_CLASS),L(e)?(e=e.substr(1),t=c.Z.TYPE_ID):R(e)&&(e=e.substr(1)),this.getAll().where({name:e,type:t})[0]},t.prototype.add=function(e,t){var n=this;void 0===t&&(t={});var r=(0,i.isString)(e)?{}:t;return(0,i.isArray)(e)?e.map((function(e){return n.addSelector(e,t,r)})):this.addSelector(e,t,r)},t.prototype.addClass=function(e){var t=this,n=[];return(0,i.isString)(e)&&(e=e.trim().split(" ")),e.forEach((function(e){return n.push(t.addSelector(e))})),n},t.prototype.get=function(e,t){var n=this;if((0,i.isArray)(e)){var r=[];return e.map((function(e){return n.getSelector(e)})).filter((function(e){return e})).forEach((function(e){return r.indexOf(e)<0&&r.push(e)})),r}return this.getSelector(e,t)||null},t.prototype.remove=function(e,t){return this.__remove(e,t)},t.prototype.setState=function(e){return this.em.setState(e),this},t.prototype.getState=function(){return this.em.getState()},t.prototype.getStates=function(){return $([],this.states.models,!0)},t.prototype.setStates=function(e,t){return this.states.reset(e.map((function(e){return new f(e)})),t)},t.prototype.getSelected=function(){return this.__getCommon()},t.prototype.addSelected=function(e){var t=this.add(e);this.em.getSelectedAll().forEach((function(e){e.getSelectors().add(t)}))},t.prototype.removeSelected=function(e){this.em.getSelectedAll().forEach((function(t){!e.get("protected")&&t&&t.getSelectors().remove(e)}))},t.prototype.getSelectedTargets=function(){return this.em.get("StyleManager").getSelectedAll()},t.prototype.setComponentFirst=function(e){this.getConfig().componentFirst=e,this.model.set({cFirst:e})},t.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},t.prototype.escapeName=function(e){var t=this.getConfig().escapeName;return t?t(e):c.Z.escapeName(e)},t.prototype.render=function(e){this.em;var t=this.selectorTags,n=this.getConfig(),r=t&&t.el;return this.selected.reset(e),this.selectorTags=new E({el:r,collection:this.selected,module:this,config:n}),this.selectorTags.render().el},t.prototype.destroy=function(){var e=this.selectorTags;this.model.stopListening(),this.__update.cancel(),this.__destroy(),null==e||e.remove(),this.selectorTags=void 0},t.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},t.prototype.__getCommonSelectors=function(e,t){void 0===t&&(t={});var n=e.map((function(e){return e.getSelectors&&e.getSelectors().getValid(t)})).filter(Boolean);return this.__common.apply(this,n)},t.prototype.__common=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length?1===t.length?t[0]:2===t.length?t[0].filter((function(e){return t[1].indexOf(e)>=0})):t.slice(1).reduce((function(t,n){return e.__common(t,n)}),t[0]):[]},t}(s.Z)},5963:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r,i=n(9050),o=n(2316),s=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=1,l=2,c=function(e){function t(n,r){void 0===r&&(r={});var i=e.call(this,n,r)||this,o=r.config,s=void 0===o?{}:o,a=i.get("name"),l=i.get("label");a?l||i.set("label",a):i.set("name",l);var c=i.get("name"),u=s.escapeName,h=u?u(c):t.escapeName(c);return i.set("name",h),i.em=r.em,i}return s(t,e),t.prototype.defaults=function(){return{name:"",label:"",type:a,active:!0,private:!1,protected:!1,_undo:!0}},t.prototype.isId=function(){return this.get("type")===l},t.prototype.isClass=function(){return this.get("type")===a},t.prototype.getFullName=function(e){void 0===e&&(e={});var t=e.escape,n=this.get("name"),r="";switch(this.get("type")){case a:r=".";break;case l:r="#"}return r+(t?t(n):n)},t.prototype.toString=function(){return this.getFullName()},t.prototype.getLabel=function(){return this.get("label")},t.prototype.setLabel=function(e){return this.set("label",e)},t.prototype.getActive=function(){return this.get("active")},t.prototype.setActive=function(e){return this.set("active",e)},t.prototype.toJSON=function(e){void 0===e&&(e={});var t=this.em,n=o.Model.prototype.toJSON.call(this,[e]),r=(0,i.result)(this,"defaults");if(t&&t.getConfig().avoidDefaults){(0,i.forEach)(r,(function(e,t){n[t]===e&&delete n[t]})),n.label===n.name&&delete n.label;var s=(0,i.keys)(n).length;1===s&&n.name&&(n=n.name),2===s&&n.name&&n.type&&(n=this.getFullName())}return n},t.escapeName=function(e){return"".concat(e).trim().replace(/([^a-z0-9\w-\:]+)/gi,"-")},t.TYPE_CLASS=a,t.TYPE_ID=l,t}(o.Model),u=c;c.prototype.idAttribute="name"},966:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r,i=n(9050),o=n(2316),s=n(5963),a=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function e(t,n){return t.reduce((function(r,i,o){return r.concat(e(t.slice(o+1),"".concat(n).concat(i)))}),[n])},c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.modelId=function(e){return"".concat(e.name,"_").concat(e.type||s.Z.TYPE_CLASS)},t.prototype.getStyleable=function(){return(0,i.filter)(this.models,(function(e){return e.get("active")&&!e.get("private")}))},t.prototype.getValid=function(e){var t=(void 0===e?{}:e).noDisabled;return(0,i.filter)(this.models,(function(e){return!e.get("private")})).filter((function(e){return t?e.get("active"):1}))},t.prototype.getFullString=function(e,t){void 0===t&&(t={});var n=[];return(e||this).forEach((function(e){return n.push(e.getFullName(t))})),t.sort&&n.sort(),n.join("").trim()},t.prototype.getFullName=function(e){void 0===e&&(e={});var t=e.combination,n=e.array,r=[],i=this.map((function(t){return t.getFullName(e)})).sort();return t?i.forEach((function(e,t){r=r.concat(l(i.slice(t+1),e))})):r=i,n?r:t?r.join(","):r.join("")},t}(o.Collection),u=c;c.prototype.model=s.Z},7539:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1163);function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=e.raw;return i.reduce((function(e,n,o){var s=t[o-1],a=i[o-1];return Array.isArray(s)?s=s.join(""):a&&"$"===a.slice(-1)?e=e.slice(0,-1):s=(0,r.escape)(s),e+s+n}))}},1163:function(e,t,n){"use strict";n.r(t),n.d(t,{appendStyles:function(){return f},buildBase64UrlFromSvg:function(){return V},camelCase:function(){return b},capitalize:function(){return I},createId:function(){return z},deepMerge:function(){return T},escape:function(){return E},find:function(){return O},getElRect:function(){return $},getElement:function(){return k},getGlobal:function(){return l},getKeyChar:function(){return P},getKeyCode:function(){return R},getModel:function(){return A},getPointerEvent:function(){return L},getUiClass:function(){return d},getUnitFromValue:function(){return v},getViewEl:function(){return H},hasDnd:function(){return x},hasWin:function(){return a},isCommentNode:function(){return S},isComponent:function(){return F},isDef:function(){return s},isEmptyObj:function(){return N},isEnterKey:function(){return D},isEscKey:function(){return M},isObject:function(){return j},isRule:function(){return B},isTaggableNode:function(){return _},isTextNode:function(){return C},matches:function(){return h},normalizeFloat:function(){return w},off:function(){return m},on:function(){return g},setViewEl:function(){return Z},shallowDiff:function(){return p},toLowerCase:function(){return c},upFirst:function(){return y}});var r=n(9050),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},s=function(e){return void 0!==e},a=function(){return"undefined"!=typeof window},l=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:n.g},c=function(e){return(e||"").toLowerCase()},u=a()?window.Element.prototype:{},h=u.matches||u.webkitMatchesSelector||u.mozMatchesSelector||u.msMatchesSelector,d=function(e,t){var n=e.getConfig(),r=n.stylePrefix;return[n.customUI&&"".concat(r,"cui"),t].filter((function(e){return e})).join(" ")},f=function e(t,n){void 0===n&&(n={});var i=(0,r.isArray)(t)?o([],t,!0):[t];if(i.length){var s=i.shift();if(s&&(!n.unique||!document.querySelector('link[href="'.concat(s,'"]')))){var a=document.head,l=document.createElement("link");l.href=s,l.rel="stylesheet",n.prepand?a.insertBefore(l,a.firstChild):a.appendChild(l)}e(i)}},p=function(e,t){var n={},i=(0,r.keys)(t);for(var o in e)if(e.hasOwnProperty(o)){var s=e[o],a=t[o];i.indexOf(o)>=0?s!==a&&(n[o]=a):n[o]=null}for(var o in t)t.hasOwnProperty(o)&&(0,r.isUndefined)(e[o])&&(n[o]=t[o]);return n},g=function(e,t,n,r){var i=t.split(/\s+/);e=e instanceof Array?e:[e];for(var o=function(t){e.forEach((function(e){return e&&e.addEventListener(i[t],n,r)}))},s=0;s<i.length;++s)o(s)},m=function(e,t,n,r){var i=t.split(/\s+/);e=e instanceof Array?e:[e];for(var o=function(t){e.forEach((function(e){return e&&e.removeEventListener(i[t],n,r)}))},s=0;s<i.length;++s)o(s)},v=function(e){return e.replace(parseFloat(e),"")},y=function(e){return e[0].toUpperCase()+e.toLowerCase().slice(1)},b=function(e){return e.replace(/-./g,(function(e){return e[1].toUpperCase()}))},w=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=0);var r=0;if(isNaN(e))return n;if(e=parseFloat(e),Math.floor(e)!==e){var i=t.toString().split(".")[1];r=i?i.length:0}return r?parseFloat(e.toFixed(r)):e},x=function(e){return"draggable"in document.createElement("i")&&(e?e.get("Config").nativeDnD:1)},k=function(e){return(0,r.isElement)(e)||C(e)?e:e&&e.getEl?e.getEl():void 0},C=function(e){return e&&3===e.nodeType},S=function(e){return e&&8===e.nodeType},_=function(e){return e&&!C(e)&&!S(e)},O=function(e,t){var n=null;return e.some((function(r,i){return t(r,i,e)?(n=r,1):0})),n},E=function(e){return void 0===e&&(e=""),"".concat(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},T=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=i({},t[0]),o=1;o<t.length;o++){var s=i({},t[o]);for(var a in s){var l=r[a],c=s[a];j(l)&&j(c)?r[a]=e(l,c):r[a]=c}}return r},A=function(e,t){var n=e;return!t&&e&&e.__cashData?n=e.__cashData.model:(0,r.isElement)(e)&&(n=t(e).data("model")),n},$=function(e){var t,n={top:0,left:0,width:0,height:0};if(!e)return n;if(C(e)){var r=document.createRange();r.selectNode(e),t=r.getBoundingClientRect(),r.detach()}return t||(e.getBoundingClientRect?e.getBoundingClientRect():n)},L=function(e){return e.touches&&e.touches[0]?e.touches[0]:e},R=function(e){return e.which||e.keyCode},P=function(e){return String.fromCharCode(R(e))},M=function(e){return 27===R(e)},D=function(e){return 13===R(e)},j=function(e){return null!==e&&!Array.isArray(e)&&"object"==typeof e},N=function(e){return Object.keys(e).length<=0},I=function(e){return e&&e.charAt(0).toUpperCase()+e.substring(1)},F=function(e){return e&&e.toHTML},B=function(e){return e&&e.toCSS},H=function(e){return e.__gjsv},Z=function(e,t){e.__gjsv=t},z=function(e){void 0===e&&(e=16);for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t},V=function(e){if(e&&"<svg"===e.substr(0,4)){var t="";return a()?t=window.btoa(e):"undefined"!=typeof Buffer&&(t=Buffer.from(e,"utf8").toString("base64")),t?"data:image/svg+xml;base64,".concat(t):e}return e}},2828:function(e,t,n){var r={"./CanvasClear":7202,"./CanvasClear.js":7202,"./CanvasMove":327,"./CanvasMove.js":327,"./CommandAbstract":238,"./CommandAbstract.js":238,"./ComponentDelete":5820,"./ComponentDelete.js":5820,"./ComponentDrag":6694,"./ComponentDrag.js":6694,"./ComponentEnter":1947,"./ComponentEnter.js":1947,"./ComponentExit":3888,"./ComponentExit.js":3888,"./ComponentNext":5883,"./ComponentNext.js":5883,"./ComponentPrev":7508,"./ComponentPrev.js":7508,"./ComponentStyleClear":8769,"./ComponentStyleClear.js":8769,"./CopyComponent":2213,"./CopyComponent.js":2213,"./DeleteComponent":5049,"./DeleteComponent.js":5049,"./ExportTemplate":3775,"./ExportTemplate.js":3775,"./Fullscreen":58,"./Fullscreen.js":58,"./MoveComponent":8658,"./MoveComponent.js":8658,"./OpenAssets":9617,"./OpenAssets.js":9617,"./OpenBlocks":5821,"./OpenBlocks.js":5821,"./OpenLayers":3452,"./OpenLayers.js":3452,"./OpenStyleManager":2840,"./OpenStyleManager.js":2840,"./OpenTraitManager":8644,"./OpenTraitManager.js":8644,"./PasteComponent":560,"./PasteComponent.js":560,"./Preview":4944,"./Preview.js":4944,"./Resize":7538,"./Resize.js":7538,"./SelectComponent":2620,"./SelectComponent.js":2620,"./SelectPosition":8463,"./SelectPosition.js":8463,"./ShowOffset":7994,"./ShowOffset.js":7994,"./SwitchVisibility":8352,"./SwitchVisibility.js":8352};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=2828},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),s=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=C(s,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var f={};function p(){}function g(){}function m(){}var v={};u(v,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==n&&o.call(b,a)&&(v=b);var w=m.prototype=p.prototype=Object.create(v);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,s,a,l){var c=d(e[i],e,s);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==r(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return g.prototype=m,u(w,"constructor",m),u(m,"constructor",g),g.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},x(k.prototype),u(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new k(h(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},x(w),u(w,c,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4687:function(e,t,n){var r=n(7061)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,l,"next",e)}function l(e){r(s,i,o,a,l,"throw",e)}a(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},9340:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}n.d(t,{Z:function(){return i}})},4925:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1002),i=n(7326);function o(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},168:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{Z:function(){return r}})},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907),i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},9050:function(e,t,r){"use strict";r.r(t),r.d(t,{VERSION:function(){return o},after:function(){return jt},all:function(){return nn},allKeys:function(){return ve},any:function(){return rn},assign:function(){return je},before:function(){return Nt},bind:function(){return St},bindAll:function(){return Et},chain:function(){return wt},chunk:function(){return Bn},clone:function(){return Be},collect:function(){return Yt},compact:function(){return An},compose:function(){return Dt},constant:function(){return Q},contains:function(){return on},countBy:function(){return bn},create:function(){return Fe},debounce:function(){return Rt},default:function(){return Wn},defaults:function(){return Ne},defer:function(){return $t},delay:function(){return At},detect:function(){return Gt},difference:function(){return Ln},drop:function(){return En},each:function(){return Kt},escape:function(){return lt},every:function(){return nn},extend:function(){return De},extendOwn:function(){return je},filter:function(){return en},find:function(){return Gt},findIndex:function(){return Ht},findKey:function(){return Ft},findLastIndex:function(){return Zt},findWhere:function(){return qt},first:function(){return On},flatten:function(){return $n},foldl:function(){return Jt},foldr:function(){return Qt},forEach:function(){return Kt},functions:function(){return Pe},get:function(){return We},groupBy:function(){return vn},has:function(){return Ue},head:function(){return On},identity:function(){return Ge},include:function(){return on},includes:function(){return on},indexBy:function(){return yn},indexOf:function(){return Wt},initial:function(){return _n},inject:function(){return Jt},intersection:function(){return Dn},invert:function(){return Re},invoke:function(){return sn},isArguments:function(){return Y},isArray:function(){return G},isArrayBuffer:function(){return I},isBoolean:function(){return A},isDataView:function(){return U},isDate:function(){return M},isElement:function(){return $},isEmpty:function(){return ce},isEqual:function(){return me},isError:function(){return j},isFinite:function(){return X},isFunction:function(){return H},isMap:function(){return Oe},isMatch:function(){return ue},isNaN:function(){return J},isNull:function(){return E},isNumber:function(){return P},isObject:function(){return O},isRegExp:function(){return D},isSet:function(){return Te},isString:function(){return R},isSymbol:function(){return N},isTypedArray:function(){return oe},isUndefined:function(){return T},isWeakMap:function(){return Ee},isWeakSet:function(){return Ae},iteratee:function(){return Je},keys:function(){return le},last:function(){return Tn},lastIndexOf:function(){return Ut},map:function(){return Yt},mapObject:function(){return et},matcher:function(){return qe},matches:function(){return qe},max:function(){return cn},memoize:function(){return Tt},methods:function(){return Pe},min:function(){return un},mixin:function(){return Zn},negate:function(){return Mt},noop:function(){return tt},now:function(){return ot},object:function(){return In},omit:function(){return Sn},once:function(){return It},pairs:function(){return Le},partial:function(){return Ct},partition:function(){return wn},pick:function(){return Cn},pluck:function(){return an},property:function(){return Ke},propertyOf:function(){return nt},random:function(){return it},range:function(){return Fn},reduce:function(){return Jt},reduceRight:function(){return Qt},reject:function(){return tn},rest:function(){return En},restArguments:function(){return _},result:function(){return vt},sample:function(){return fn},select:function(){return en},shuffle:function(){return pn},size:function(){return xn},some:function(){return rn},sortBy:function(){return gn},sortedIndex:function(){return zt},tail:function(){return En},take:function(){return On},tap:function(){return He},template:function(){return mt},templateSettings:function(){return ut},throttle:function(){return Lt},times:function(){return rt},toArray:function(){return dn},toPath:function(){return Ze},transpose:function(){return jn},unescape:function(){return ct},union:function(){return Mn},uniq:function(){return Pn},unique:function(){return Pn},uniqueId:function(){return bt},unzip:function(){return jn},values:function(){return $e},where:function(){return ln},without:function(){return Rn},wrap:function(){return Pt},zip:function(){return Nn}});var i={};r.r(i),r.d(i,{VERSION:function(){return o},after:function(){return jt},all:function(){return nn},allKeys:function(){return ve},any:function(){return rn},assign:function(){return je},before:function(){return Nt},bind:function(){return St},bindAll:function(){return Et},chain:function(){return wt},chunk:function(){return Bn},clone:function(){return Be},collect:function(){return Yt},compact:function(){return An},compose:function(){return Dt},constant:function(){return Q},contains:function(){return on},countBy:function(){return bn},create:function(){return Fe},debounce:function(){return Rt},default:function(){return zn},defaults:function(){return Ne},defer:function(){return $t},delay:function(){return At},detect:function(){return Gt},difference:function(){return Ln},drop:function(){return En},each:function(){return Kt},escape:function(){return lt},every:function(){return nn},extend:function(){return De},extendOwn:function(){return je},filter:function(){return en},find:function(){return Gt},findIndex:function(){return Ht},findKey:function(){return Ft},findLastIndex:function(){return Zt},findWhere:function(){return qt},first:function(){return On},flatten:function(){return $n},foldl:function(){return Jt},foldr:function(){return Qt},forEach:function(){return Kt},functions:function(){return Pe},get:function(){return We},groupBy:function(){return vn},has:function(){return Ue},head:function(){return On},identity:function(){return Ge},include:function(){return on},includes:function(){return on},indexBy:function(){return yn},indexOf:function(){return Wt},initial:function(){return _n},inject:function(){return Jt},intersection:function(){return Dn},invert:function(){return Re},invoke:function(){return sn},isArguments:function(){return Y},isArray:function(){return G},isArrayBuffer:function(){return I},isBoolean:function(){return A},isDataView:function(){return U},isDate:function(){return M},isElement:function(){return $},isEmpty:function(){return ce},isEqual:function(){return me},isError:function(){return j},isFinite:function(){return X},isFunction:function(){return H},isMap:function(){return Oe},isMatch:function(){return ue},isNaN:function(){return J},isNull:function(){return E},isNumber:function(){return P},isObject:function(){return O},isRegExp:function(){return D},isSet:function(){return Te},isString:function(){return R},isSymbol:function(){return N},isTypedArray:function(){return oe},isUndefined:function(){return T},isWeakMap:function(){return Ee},isWeakSet:function(){return Ae},iteratee:function(){return Je},keys:function(){return le},last:function(){return Tn},lastIndexOf:function(){return Ut},map:function(){return Yt},mapObject:function(){return et},matcher:function(){return qe},matches:function(){return qe},max:function(){return cn},memoize:function(){return Tt},methods:function(){return Pe},min:function(){return un},mixin:function(){return Zn},negate:function(){return Mt},noop:function(){return tt},now:function(){return ot},object:function(){return In},omit:function(){return Sn},once:function(){return It},pairs:function(){return Le},partial:function(){return Ct},partition:function(){return wn},pick:function(){return Cn},pluck:function(){return an},property:function(){return Ke},propertyOf:function(){return nt},random:function(){return it},range:function(){return Fn},reduce:function(){return Jt},reduceRight:function(){return Qt},reject:function(){return tn},rest:function(){return En},restArguments:function(){return _},result:function(){return vt},sample:function(){return fn},select:function(){return en},shuffle:function(){return pn},size:function(){return xn},some:function(){return rn},sortBy:function(){return gn},sortedIndex:function(){return zt},tail:function(){return En},take:function(){return On},tap:function(){return He},template:function(){return mt},templateSettings:function(){return ut},throttle:function(){return Lt},times:function(){return rt},toArray:function(){return dn},toPath:function(){return Ze},transpose:function(){return jn},unescape:function(){return ct},union:function(){return Mn},uniq:function(){return Pn},unique:function(){return Pn},uniqueId:function(){return bt},unzip:function(){return jn},values:function(){return $e},where:function(){return ln},without:function(){return Rn},wrap:function(){return Pt},zip:function(){return Nn}});var o="1.13.4",s="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||Function("return this")()||{},a=Array.prototype,l=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,u=a.push,h=a.slice,d=l.toString,f=l.hasOwnProperty,p="undefined"!=typeof ArrayBuffer,g="undefined"!=typeof DataView,m=Array.isArray,v=Object.keys,y=Object.create,b=p&&ArrayBuffer.isView,w=isNaN,x=isFinite,k=!{toString:null}.propertyIsEnumerable("toString"),C=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],S=Math.pow(2,53)-1;function _(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}function O(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function E(e){return null===e}function T(e){return void 0===e}function A(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)}function $(e){return!(!e||1!==e.nodeType)}function L(e){var t="[object "+e+"]";return function(e){return d.call(e)===t}}var R=L("String"),P=L("Number"),M=L("Date"),D=L("RegExp"),j=L("Error"),N=L("Symbol"),I=L("ArrayBuffer"),F=L("Function"),B=s.document&&s.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof B&&(F=function(e){return"function"==typeof e||!1});var H=F,Z=L("Object"),z=g&&Z(new DataView(new ArrayBuffer(8))),V="undefined"!=typeof Map&&Z(new Map),W=L("DataView"),U=z?function(e){return null!=e&&H(e.getInt8)&&I(e.buffer)}:W,G=m||L("Array");function q(e,t){return null!=e&&f.call(e,t)}var K=L("Arguments");!function(){K(arguments)||(K=function(e){return q(e,"callee")})}();var Y=K;function X(e){return!N(e)&&x(e)&&!isNaN(parseFloat(e))}function J(e){return P(e)&&w(e)}function Q(e){return function(){return e}}function ee(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=S}}function te(e){return function(t){return null==t?void 0:t[e]}}var ne=te("byteLength"),re=ee(ne),ie=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,oe=p?function(e){return b?b(e)&&!U(e):re(e)&&ie.test(d.call(e))}:Q(!1),se=te("length");function ae(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return!0===t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=C.length,r=e.constructor,i=H(r)&&r.prototype||l,o="constructor";for(q(e,o)&&!t.contains(o)&&t.push(o);n--;)(o=C[n])in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function le(e){if(!O(e))return[];if(v)return v(e);var t=[];for(var n in e)q(e,n)&&t.push(n);return k&&ae(e,t),t}function ce(e){if(null==e)return!0;var t=se(e);return"number"==typeof t&&(G(e)||R(e)||Y(e))?0===t:0===se(le(e))}function ue(e,t){var n=le(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0}function he(e){return e instanceof he?e:this instanceof he?void(this._wrapped=e):new he(e)}function de(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,ne(e))}he.VERSION=o,he.prototype.value=function(){return this._wrapped},he.prototype.valueOf=he.prototype.toJSON=he.prototype.value,he.prototype.toString=function(){return String(this._wrapped)};var fe="[object DataView]";function pe(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&ge(e,t,n,r)}function ge(e,t,n,r){e instanceof he&&(e=e._wrapped),t instanceof he&&(t=t._wrapped);var i=d.call(e);if(i!==d.call(t))return!1;if(z&&"[object Object]"==i&&U(e)){if(!U(t))return!1;i=fe}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return c.valueOf.call(e)===c.valueOf.call(t);case"[object ArrayBuffer]":case fe:return ge(de(e),de(t),n,r)}var o="[object Array]"===i;if(!o&&oe(e)){if(ne(e)!==ne(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(H(s)&&s instanceof s&&H(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var l=(n=n||[]).length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!pe(e[l],t[l],n,r))return!1}else{var u,h=le(e);if(l=h.length,le(t).length!==l)return!1;for(;l--;)if(!q(t,u=h[l])||!pe(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0}function me(e,t){return pe(e,t)}function ve(e){if(!O(e))return[];var t=[];for(var n in e)t.push(n);return k&&ae(e,t),t}function ye(e){var t=se(e);return function(n){if(null==n)return!1;var r=ve(n);if(se(r))return!1;for(var i=0;i<t;i++)if(!H(n[e[i]]))return!1;return e!==Se||!H(n[be])}}var be="forEach",we="has",xe=["clear","delete"],ke=["get",we,"set"],Ce=xe.concat(be,ke),Se=xe.concat(ke),_e=["add"].concat(xe,be,we),Oe=V?ye(Ce):L("Map"),Ee=V?ye(Se):L("WeakMap"),Te=V?ye(_e):L("Set"),Ae=L("WeakSet");function $e(e){for(var t=le(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function Le(e){for(var t=le(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}function Re(e){for(var t={},n=le(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function Pe(e){var t=[];for(var n in e)H(e[n])&&t.push(n);return t.sort()}function Me(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,l=0;l<a;l++){var c=s[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}}var De=Me(ve),je=Me(le),Ne=Me(ve,!0);function Ie(e){if(!O(e))return{};if(y)return y(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Fe(e,t){var n=Ie(e);return t&&je(n,t),n}function Be(e){return O(e)?G(e)?e.slice():De({},e):e}function He(e,t){return t(e),e}function Ze(e){return G(e)?e:[e]}function ze(e){return he.toPath(e)}function Ve(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function We(e,t,n){var r=Ve(e,ze(t));return T(r)?n:r}function Ue(e,t){for(var n=(t=ze(t)).length,r=0;r<n;r++){var i=t[r];if(!q(e,i))return!1;e=e[i]}return!!n}function Ge(e){return e}function qe(e){return e=je({},e),function(t){return ue(t,e)}}function Ke(e){return e=ze(e),function(t){return Ve(t,e)}}function Ye(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}}function Xe(e,t,n){return null==e?Ge:H(e)?Ye(e,t,n):O(e)&&!G(e)?qe(e):Ke(e)}function Je(e,t){return Xe(e,t,1/0)}function Qe(e,t,n){return he.iteratee!==Je?he.iteratee(e,t):Xe(e,t,n)}function et(e,t,n){t=Qe(t,n);for(var r=le(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o}function tt(){}function nt(e){return null==e?tt:function(t){return We(e,t)}}function rt(e,t,n){var r=Array(Math.max(0,e));t=Ye(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}function it(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}he.toPath=Ze,he.iteratee=Je;var ot=Date.now||function(){return(new Date).getTime()};function st(e){var t=function(t){return e[t]},n="(?:"+le(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}}var at={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},lt=st(at),ct=st(Re(at)),ut=he.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},ht=/(.)^/,dt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ft=/\\|'|\r|\n|\u2028|\u2029/g;function pt(e){return"\\"+dt[e]}var gt=/^\s*(\w|\$)+\s*$/;function mt(e,t,n){!t&&n&&(t=n),t=Ne({},t,he.templateSettings);var r=RegExp([(t.escape||ht).source,(t.interpolate||ht).source,(t.evaluate||ht).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,(function(t,n,r,s,a){return o+=e.slice(i,a).replace(ft,pt),i=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t})),o+="';\n";var s,a=t.variable;if(a){if(!gt.test(a))throw new Error("variable is not a bare identifier: "+a)}else o="with(obj||{}){\n"+o+"}\n",a="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{s=new Function(a,"_",o)}catch(e){throw e.source=o,e}var l=function(e){return s.call(this,e,he)};return l.source="function("+a+"){\n"+o+"}",l}function vt(e,t,n){var r=(t=ze(t)).length;if(!r)return H(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=H(o)?o.call(e):o}return e}var yt=0;function bt(e){var t=++yt+"";return e?e+t:t}function wt(e){var t=he(e);return t._chain=!0,t}function xt(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=Ie(e.prototype),s=e.apply(o,i);return O(s)?s:o}var kt=_((function(e,t){var n=kt.placeholder,r=function r(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return xt(e,r,this,this,s)};return r}));kt.placeholder=he;var Ct=kt,St=_((function(e,t,n){if(!H(e))throw new TypeError("Bind must be called on a function");var r=_((function(i){return xt(e,r,t,this,n.concat(i))}));return r})),_t=ee(se);function Ot(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var i=r.length,o=0,s=se(e);o<s;o++){var a=e[o];if(_t(a)&&(G(a)||Y(a)))if(t>1)Ot(a,t-1,n,r),i=r.length;else for(var l=0,c=a.length;l<c;)r[i++]=a[l++];else n||(r[i++]=a)}return r}var Et=_((function(e,t){var n=(t=Ot(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=St(e[r],e)}return e}));function Tt(e,t){var n=function n(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return q(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n}var At=_((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),$t=Ct(At,he,1);function Lt(e,t,n){var r,i,o,s,a=0;n||(n={});var l=function(){a=!1===n.leading?0:ot(),r=null,s=e.apply(i,o),r||(i=o=null)},c=function(){var c=ot();a||!1!==n.leading||(a=c);var u=t-(c-a);return i=this,o=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),a=c,s=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,u)),s};return c.cancel=function(){clearTimeout(r),a=0,r=i=o=null},c}function Rt(e,t,n){var r,i,o,s,a,l=function l(){var c=ot()-i;t>c?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(a,o)),r||(o=a=null))},c=_((function(c){return a=this,o=c,i=ot(),r||(r=setTimeout(l,t),n&&(s=e.apply(a,o))),s}));return c.cancel=function(){clearTimeout(r),r=o=a=null},c}function Pt(e,t){return Ct(t,e)}function Mt(e){return function(){return!e.apply(this,arguments)}}function Dt(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function jt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function Nt(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var It=Ct(Nt,2);function Ft(e,t,n){t=Qe(t,n);for(var r,i=le(e),o=0,s=i.length;o<s;o++)if(t(e[r=i[o]],r,e))return r}function Bt(e){return function(t,n,r){n=Qe(n,r);for(var i=se(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}var Ht=Bt(1),Zt=Bt(-1);function zt(e,t,n,r){for(var i=(n=Qe(n,r,1))(t),o=0,s=se(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o}function Vt(e,t,n){return function(r,i,o){var s=0,a=se(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(h.call(r,s,a),J))>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}}var Wt=Vt(1,Ht,zt),Ut=Vt(-1,Zt);function Gt(e,t,n){var r=(_t(e)?Ht:Ft)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function qt(e,t){return Gt(e,qe(t))}function Kt(e,t,n){var r,i;if(t=Ye(t,n),_t(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=le(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}function Yt(e,t,n){t=Qe(t,n);for(var r=!_t(e)&&le(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o}function Xt(e){var t=function(t,n,r,i){var o=!_t(t)&&le(t),s=(o||t).length,a=e>0?0:s-1;for(i||(r=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var l=o?o[a]:a;r=n(r,t[l],l,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,Ye(n,i,4),r,o)}}var Jt=Xt(1),Qt=Xt(-1);function en(e,t,n){var r=[];return t=Qe(t,n),Kt(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function tn(e,t,n){return en(e,Mt(Qe(t)),n)}function nn(e,t,n){t=Qe(t,n);for(var r=!_t(e)&&le(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0}function rn(e,t,n){t=Qe(t,n);for(var r=!_t(e)&&le(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1}function on(e,t,n,r){return _t(e)||(e=$e(e)),("number"!=typeof n||r)&&(n=0),Wt(e,t,n)>=0}var sn=_((function(e,t,n){var r,i;return H(t)?i=t:(t=ze(t),r=t.slice(0,-1),t=t[t.length-1]),Yt(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=Ve(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))}));function an(e,t){return Yt(e,Ke(t))}function ln(e,t){return en(e,qe(t))}function cn(e,t,n){var r,i,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=_t(e)?e:$e(e)).length;a<l;a++)null!=(r=e[a])&&r>o&&(o=r);else t=Qe(t,n),Kt(e,(function(e,n,r){((i=t(e,n,r))>s||i===-1/0&&o===-1/0)&&(o=e,s=i)}));return o}function un(e,t,n){var r,i,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=_t(e)?e:$e(e)).length;a<l;a++)null!=(r=e[a])&&r<o&&(o=r);else t=Qe(t,n),Kt(e,(function(e,n,r){((i=t(e,n,r))<s||i===1/0&&o===1/0)&&(o=e,s=i)}));return o}var hn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function dn(e){return e?G(e)?h.call(e):R(e)?e.match(hn):_t(e)?Yt(e,Ge):$e(e):[]}function fn(e,t,n){if(null==t||n)return _t(e)||(e=$e(e)),e[it(e.length-1)];var r=dn(e),i=se(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=it(s,o),l=r[s];r[s]=r[a],r[a]=l}return r.slice(0,t)}function pn(e){return fn(e,1/0)}function gn(e,t,n){var r=0;return t=Qe(t,n),an(Yt(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")}function mn(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=Qe(r,i),Kt(n,(function(t,i){var s=r(t,i,n);e(o,t,s)})),o}}var vn=mn((function(e,t,n){q(e,n)?e[n].push(t):e[n]=[t]})),yn=mn((function(e,t,n){e[n]=t})),bn=mn((function(e,t,n){q(e,n)?e[n]++:e[n]=1})),wn=mn((function(e,t,n){e[n?0:1].push(t)}),!0);function xn(e){return null==e?0:_t(e)?e.length:le(e).length}function kn(e,t,n){return t in n}var Cn=_((function(e,t){var n={},r=t[0];if(null==e)return n;H(r)?(t.length>1&&(r=Ye(r,t[1])),t=ve(e)):(r=kn,t=Ot(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n})),Sn=_((function(e,t){var n,r=t[0];return H(r)?(r=Mt(r),t.length>1&&(n=t[1])):(t=Yt(Ot(t,!1,!1),String),r=function(e,n){return!on(t,n)}),Cn(e,r,n)}));function _n(e,t,n){return h.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function On(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:_n(e,e.length-t)}function En(e,t,n){return h.call(e,null==t||n?1:t)}function Tn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:En(e,Math.max(0,e.length-t))}function An(e){return en(e,Boolean)}function $n(e,t){return Ot(e,t,!1)}var Ln=_((function(e,t){return t=Ot(t,!0,!0),en(e,(function(e){return!on(t,e)}))})),Rn=_((function(e,t){return Ln(e,t)}));function Pn(e,t,n,r){A(t)||(r=n,n=t,t=!1),null!=n&&(n=Qe(n,r));for(var i=[],o=[],s=0,a=se(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t&&!n?(s&&o===c||i.push(l),o=c):n?on(o,c)||(o.push(c),i.push(l)):on(i,l)||i.push(l)}return i}var Mn=_((function(e){return Pn(Ot(e,!0,!0))}));function Dn(e){for(var t=[],n=arguments.length,r=0,i=se(e);r<i;r++){var o=e[r];if(!on(t,o)){var s;for(s=1;s<n&&on(arguments[s],o);s++);s===n&&t.push(o)}}return t}function jn(e){for(var t=e&&cn(e,se).length||0,n=Array(t),r=0;r<t;r++)n[r]=an(e,r);return n}var Nn=_(jn);function In(e,t){for(var n={},r=0,i=se(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function Fn(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i}function Bn(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(h.call(e,r,r+=t));return n}function Hn(e,t){return e._chain?he(t).chain():t}function Zn(e){return Kt(Pe(e),(function(t){var n=he[t]=e[t];he.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),Hn(this,n.apply(he,e))}})),he}Kt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];he.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Hn(this,n)}})),Kt(["concat","join","slice"],(function(e){var t=a[e];he.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Hn(this,e)}}));var zn=he,Vn=Zn(i);Vn._=Vn;var Wn=Vn}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return function(){"use strict";i.d(o,{default:function(){return F}});var e,t=i(4942),n=i(9050),r=i(2579),s=i(7539),a={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:null,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,dragMode:0,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},el:"",i18n:{},undoManager:{},assetManager:{},canvas:{},layers:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,multiFrames:!1,customUI:!1},l=i(2316),c=i.n(l),u=i(1163),h=(e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t}(l.Model),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getByComponent=function(e){var t=this;return this.filter((function(n){return t.getComponent(n)===e}))[0]},t.prototype.addComponent=function(e,t){var r=this,i=((0,n.isArray)(e)?e:[e]).filter((function(e){return!r.hasComponent(e)})).map((function(e){return new d({component:e})}))[0];return this.push(i,t)},t.prototype.getComponent=function(e){return e.get("component")},t.prototype.hasComponent=function(e){var t=this.getByComponent(e);return t&&this.contains(t)},t.prototype.lastComponent=function(){var e=this.last();return e&&this.getComponent(e)},t.prototype.allComponents=function(){var e=this;return this.map((function(t){return e.getComponent(t)})).filter((function(e){return e}))},t.prototype.removeComponent=function(e,t){var r=this,i=((0,n.isArray)(e)?e:[e]).map((function(e){return r.getByComponent(e)}));return this.remove(i,t)},t}(l.Collection),p=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(){return g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},g.apply(this,arguments)},m=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},v=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},b=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};c().$=r.default;var w=[i(6718),i(4836),i(9788),i(8202),i(4859),i(2004),i(4424),i(2326),i(3463),i(8588),i(7619),i(899),i(2012),i(1030),i(672),i(7948),i(6388),i(5819),i(7892),i(7287),i(289),i(6407)],x=[];!function(e){var t=e.$;if(t&&t.prototype&&"jQuery"!==t.prototype.constructor.name){var r=t.fn;r.hide=function(){return this.css("display","none")},r.show=function(){return this.css("display","block")},r.focus=function(){var e=this.get(0);return e&&e.focus(),this},r.bind=function(e,t){return this.on(e,t)},r.unbind=function(e,t){if((0,n.isObject)(e)){for(var r in e)e.hasOwnProperty(r)&&this.off(r,e[r]);return this}return this.off(e,t)},r.click=function(e){return e?this.on("click",e):this.trigger("click")},r.change=function(e){return e?this.on("change",e):this.trigger("change")},r.keydown=function(e){return e?this.on("keydown",e):this.trigger("keydown")},r.delegate=function(e,t,n,r){return r||(r=n),this.on(t,e,(function(e){e.data=n,r(e)}))},r.scrollLeft=function(){var e=this.get(0),t=(e=9==e.nodeType?e.defaultView:e)instanceof Window?e:null;return t?t.pageXOffset:e.scrollLeft||0},r.scrollTop=function(){var e=this.get(0),t=(e=9==e.nodeType?e.defaultView:e)instanceof Window?e:null;return t?t.pageYOffset:e.scrollTop||0};var i=t.prototype.offset;r.offset=function(e){var t,n;return e&&(t=e.top,n=e.left),void 0!==t&&this.css("top","".concat(t,"px")),void 0!==n&&this.css("left","".concat(n,"px")),i.call(this)},t.map=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n};var o=Array.prototype.indexOf;t.inArray=function(e,t,n){return null==t?-1:o.call(t,e,n)},t.Event=function(e,n){if(!(this instanceof t.Event))return new t.Event(e,n);this.type=e,this.isDefaultPrevented=function(){return!1}}}}({Backbone:c(),$:c().$});var k={debug:console.log,info:console.info,warning:console.warn,error:console.error},C=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;r.__skip=!1,r.defaultRunning=!1,r.destroyed=!1,r._config=t;var i=r.config;r.set("Config",t),r.set("modules",[]),r.set("toLoad",[]),r.set("storables",[]),r.set("selected",new f),r.set("dmode",i.dragMode);var o=i.el,s=i.log,a=!0===s?(0,n.keys)(k):(0,n.isArray)(s)?s:[];return(0,n.bindAll)(r,"initBaseColorPicker"),o&&i.fromElement&&(i.components=o.innerHTML),r.attrsOrig=o?(0,n.toArray)(o.attributes).reduce((function(e,t){return e[t.nodeName]=t.nodeValue,e}),{}):"",i.components&&!i.pageManager&&(i.pageManager={pages:[{component:i.components}]}),w.forEach((function(e){return r.loadModule(e)})),x.forEach((function(e){return r.tsLoadModule(e)})),r.on("change:componentHovered",r.componentHovered,r),r.on("change:changesCount",r.updateChanges,r),r.on("change:readyLoad change:readyCanvas",r._checkReady,r),a.forEach((function(e){return r.listenLog(e)})),[{from:"change:selectedComponent",to:"component:toggled"}].forEach((function(e){var t=e.from,n=e.to;r.listenTo(r,t,(function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];r.trigger.apply(r,b([n],e,!1)),r.logWarning("The event '".concat(t,"' is deprecated, replace it with '").concat(n,"'"))}))})),r}return p(t,e),t.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(t.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),t.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},t.prototype.getContainer=function(){return this.config.el},t.prototype.listenLog=function(e){this.listenTo(this,"log:".concat(e),k[e])},Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),t.prototype.getConfig=function(e){var t=this.config;return(0,n.isUndefined)(e)?t:t[e]},t.prototype.loadOnStart=function(){var e=this,n=this.config,r=n.projectData,i=n.headless,o=this.get("StorageManager");this.toLoad.forEach((function(e){return e.onLoad()}));var s=function(){e.modules.forEach((function(t){return t.postLoad&&t.postLoad(e)})),e.set("readyLoad",1)};i?(r&&this.loadData(r),s()):setTimeout((function(){return m(e,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return r?(this.loadData(r),[3,5]):[3,1];case 1:if(!(null==o?void 0:o.canAutoload()))return[3,5];t.label=2;case 2:return t.trys.push([2,4,,5]),[4,this.load()];case 3:return t.sent(),[3,5];case 4:return e=t.sent(),this.logError(e),[3,5];case 5:return s(),[2]}}))}))}));var a=new t({noticeOnUnload:!1,storageManager:!1,undoManager:!1});["PageManager","Canvas"].forEach((function(e){return a.get(e).onLoad()})),this.set("shallow",a)},t.prototype.updateChanges=function(){var e=this,t=this.get("StorageManager"),n=this.getDirtyCount();this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout((function(){return e.trigger("update")})),this.config.noticeOnUnload&&(window.onbeforeunload=n?function(){return!0}:null),t.isAutosave()&&n>=t.getStepsBeforeSave()&&this.store().catch((function(t){return e.logError(t)}))},t.prototype.loadModule=function(e){var t=this.config,r=new(e.default||e)(this),i=r.name.charAt(0).toLowerCase()+r.name.slice(1),o=(0,n.isUndefined)(t[i])?t[r.name]:t[i],s=!0===o?{}:o||{};return s.pStylePrefix=t.pStylePrefix||"",(0,n.isUndefined)(o)||o||(s._disable=1),r.storageKey&&r.store&&r.load&&this.storables.push(r),s.em=this,r.init(g({},s)),!r.private&&this.set(r.name,r),r.onLoad&&this.toLoad.push(r),this.modules.push(r),this},t.prototype.tsLoadModule=function(e){var t=new(e.default||e)(this);return t.storageKey&&t.store&&t.load&&this.storables.push(t),!t.private&&this.set(t.name,t),t.onLoad&&this.toLoad.push(t),this.modules.push(t),this},t.prototype.init=function(e,t){void 0===t&&(t={}),this.destroyed&&(this.initialize(t),this.destroyed=!1),this.set("Editor",e)},t.prototype.getEditor=function(){return this.get("Editor")},t.prototype.handleUpdates=function(e,t,n){var r=this;void 0===n&&(n={}),this.__skip||n.temporary||n.noCount||n.avoidStore||!this.get("ready")||(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout((function(){var e=r.getDirtyCount()||0,t=(n.unset,y(n,["unset"]));r.set("changesCount",e+1,t)}),0))},t.prototype.changesUp=function(e){this.handleUpdates(0,0,e)},t.prototype.componentHovered=function(e,t,n){var r=this.previous("componentHovered");r&&this.trigger("component:unhovered",r,n),t&&this.trigger("component:hovered",t,n)},t.prototype.getSelected=function(){return this.selected.lastComponent()},t.prototype.getSelectedAll=function(){return this.selected.allComponents()},t.prototype.setSelected=function(e,t){var i=this;void 0===t&&(t={});var o=t.event,s=o&&(o.ctrlKey||o.metaKey),a=(o||{}).shiftKey,l=((0,n.isArray)(e)?e:[e]).map((function(e){return(0,u.getModel)(e,r.default)})),c=this.getSelectedAll(),h=this.getConfig().multipleSelection,d=(0,n.isArray)(e);d&&this.removeSelected(c.filter((function(e){return!(0,n.contains)(l,e)}))),l.forEach((function(e){var r=(0,u.getModel)(e,void 0);if(r&&(i.trigger("component:select:before",r,t),!r.get("selectable")||t.abort)){if(!t.useValid)return;for(var o=r.parent();o&&!o.get("selectable");)o=o.parent();r=o}if(s&&h)return i.toggleSelected(r);if(a&&h){i.clearSelection(i.get("Canvas").getWindow());var l,f,p=r.collection,g=r.index();if(i.getSelectedAll().forEach((function(e){var t=e.collection,r=e.index();t===p&&(r<g?l=(0,n.isUndefined)(l)?r:Math.max(l,r):r>g&&(f=(0,n.isUndefined)(f)?r:Math.min(f,r)))})),!(0,n.isUndefined)(l))for(;l!==g;)i.addSelected(p.at(l)),l++;if(!(0,n.isUndefined)(f))for(;f!==g;)i.addSelected(p.at(f)),f--;return i.addSelected(r)}!d&&i.removeSelected(c.filter((function(e){return e!==r}))),i.addSelected(r,t)}))},t.prototype.addSelected=function(e,t){var i=this;void 0===t&&(t={});var o=(0,u.getModel)(e,r.default);((0,n.isArray)(o)?o:[o]).forEach((function(e){if(!e||e.get("selectable")){var n=i.selected;t.forceChange&&i.removeSelected(e,t),n.addComponent(e,t),e&&i.trigger("component:select",e,t)}}))},t.prototype.removeSelected=function(e,t){void 0===t&&(t={}),this.selected.removeComponent((0,u.getModel)(e,r.default),t)},t.prototype.toggleSelected=function(e,t){var i=this;void 0===t&&(t={});var o=(0,u.getModel)(e,r.default);((0,n.isArray)(o)?o:[o]).forEach((function(e){i.selected.hasComponent(e)?i.removeSelected(e,t):i.addSelected(e,t)}))},t.prototype.setHovered=function(e,t){if(void 0===t&&(t={}),!e)return this.set("componentHovered","");var n="component:hover",r=(0,u.getModel)(e,void 0);if(r){if(t.forceChange&&this.set("componentHovered",""),this.trigger("".concat(n,":before"),r,t),!r.get("hoverable")){if(!t.useValid||t.abort)return;for(var i=r&&r.parent();i&&!i.get("hoverable");)i=i.parent();r=i}t.abort||(this.set("componentHovered",r,t),this.trigger(n,r,t))}},t.prototype.getHovered=function(){return this.get("componentHovered")},t.prototype.setComponents=function(e,t){return void 0===t&&(t={}),this.get("DomComponents").setComponents(e,t)},t.prototype.getComponents=function(){var e=this.get("DomComponents"),t=this.get("CodeManager");if(e&&t){var n=e.getComponents();return t.getCode(n,"json")}},t.prototype.setStyle=function(e,t){void 0===t&&(t={});var n=this.get("CssComposer");return n.clear(t),n.getAll().add(e,t),this},t.prototype.addStyle=function(e,t){void 0===t&&(t={});var r=this.getStyle().add(e,t);return(0,n.isArray)(r)?r:[r]},t.prototype.getStyle=function(){return this.get("CssComposer").getAll()},t.prototype.setState=function(e){return this.set("state",e),this},t.prototype.getState=function(){return this.get("state")||""},t.prototype.getHtml=function(e){void 0===e&&(e={});var t=this.config,n=t.optsHtml,r=t.jsInHtml?this.getJs(e):"",i=e.component||this.get("DomComponents").getComponent();return(i?this.get("CodeManager").getCode(i,"html",g(g({},n),e)):"")+(r?"<script>".concat(r,"<\/script>"):"")},t.prototype.getCss=function(e){void 0===e&&(e={});var t=this.config,r=t.optsCss,i=e.avoidProtected,o=(0,n.isUndefined)(e.keepUnusedStyles)?t.keepUnusedStyles:e.keepUnusedStyles,s=this.get("CssComposer"),a=e.component||this.get("DomComponents").getComponent(),l=i?"":t.protectedCss,c=a&&this.get("CodeManager").getCode(a,"css",g(g({cssc:s,keepUnusedStyles:o},r),e));return a?e.json?c:l+c:""},t.prototype.getJs=function(e){void 0===e&&(e={});var t=e.component||this.get("DomComponents").getWrapper();return t?this.get("CodeManager").getCode(t,"js").trim():""},t.prototype.store=function(e){return m(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return t=this.storeData(),[4,this.get("StorageManager").store(t,e)];case 1:return n.sent(),this.clearDirtyCount(),[2,t]}}))}))},t.prototype.load=function(e){return m(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return[4,this.get("StorageManager").load(e)];case 1:return t=n.sent(),this.loadData(t),[2,t]}}))}))},t.prototype.storeData=function(){var e={},t=this.getEditing();return t&&t.trigger("sync:content",{noCount:!0}),this.storables.forEach((function(t){e=g(g({},e),t.store(1))})),JSON.parse(JSON.stringify(e))},t.prototype.loadData=function(e){return void 0===e&&(e={}),(0,u.isEmptyObj)(e)||(this.storables.forEach((function(e){return e.clear()})),this.storables.forEach((function(t){return t.load(e)}))),e},t.prototype.getDeviceModel=function(){var e=this.get("device");return this.get("DeviceManager").get(e)},t.prototype.runDefault=function(e){void 0===e&&(e={});var t=this.get("Commands").get(this.config.defaultCommand);t&&!this.defaultRunning&&(t.stop(this,this,e),t.run(this,this,e),this.defaultRunning=!0)},t.prototype.stopDefault=function(e){void 0===e&&(e={});var t=this.get("Commands").get(this.config.defaultCommand);t&&this.defaultRunning&&(t.stop(this,this,e),this.defaultRunning=!1)},t.prototype.refreshCanvas=function(e){void 0===e&&(e={}),this.set("canvasOffset",null),this.set("canvasOffset",this.get("Canvas").getOffset()),e.tools&&this.trigger("canvas:updateTools")},t.prototype.clearSelection=function(e){var t;null===(t=(e||window).getSelection())||void 0===t||t.removeAllRanges()},t.prototype.getCurrentMedia=function(){var e=this.config,t=this.getDeviceModel(),n=e.mediaCondition,r=e.devicePreviewMode,i=t&&t.get("widthMedia");return t&&i&&!r?"(".concat(n,": ").concat(i,")"):""},t.prototype.getWrapper=function(){return this.get("DomComponents").getWrapper()},t.prototype.setCurrentFrame=function(e){return this.set("currentFrame",e)},t.prototype.getCurrentFrame=function(){return this.get("currentFrame")},t.prototype.getCurrentFrameModel=function(){return(this.getCurrentFrame()||{}).model},t.prototype.getIcon=function(e){return(this.config.icons||{})[e]||""},t.prototype.getDirtyCount=function(){return this.get("changesCount")},t.prototype.clearDirtyCount=function(){return this.set("changesCount",0)},t.prototype.getZoomDecimal=function(){return this.get("Canvas").getZoomDecimal()},t.prototype.getZoomMultiplier=function(){return this.get("Canvas").getZoomMultiplier()},t.prototype.setDragMode=function(e){return this.set("dmode",e)},t.prototype.t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.get("I18n");return null==n?void 0:n.t.apply(n,e)},t.prototype.inAbsoluteMode=function(){return"absolute"===this.get("dmode")},t.prototype.destroyAll=function(){var e=this,t=this.config,n=this.view,i=this.getEditor(),o=(t.grapesjs||{}).editors,s=void 0===o?[]:o,a=this.get("shallow");null==a||a.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach((function(e){return e.destroy()})),n&&n.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach((function(t){return e[t]={}})),s.splice(s.indexOf(i),1),(0,u.hasWin)()&&(0,r.default)(t.el).empty().attr(this.attrsOrig)},t.prototype.getEditing=function(){var e=this.get("editing");return e&&e.model||null},t.prototype.setEditing=function(e){return this.set("editing",e),this},t.prototype.isEditing=function(){return!!this.get("editing")},t.prototype.log=function(e,t){void 0===t&&(t={});var n=t.ns,r=t.level,i=void 0===r?"debug":r;if(this.trigger("log",e,t),i&&this.trigger("log:".concat(i),e,t),n){var o="log-".concat(n);this.trigger(o,e,t),i&&this.trigger("".concat(o,":").concat(i),e,t)}},t.prototype.logInfo=function(e,t){this.log(e,g(g({},t),{level:"info"}))},t.prototype.logWarning=function(e,t){this.log(e,g(g({},t),{level:"warning"}))},t.prototype.logError=function(e,t){this.log(e,g(g({},t),{level:"error"}))},t.prototype.initBaseColorPicker=function(e,t){void 0===t&&(t={});var n=this.config,i=n.colorPicker,o=void 0===i?{}:i,s=n.el,a=n.stylePrefix;return(0,r.default)(e).spectrum(g(g({containerClassName:"".concat(a,"one-bg ").concat(a,"two-color"),appendTo:s||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2a2f"},t),o))},t.prototype.skip=function(e){this.__skip=!0;var t=this.get("UndoManager");t?t.skip(e):e(),this.__skip=!1},t.prototype.data=function(e,t,r){var i="_gjs-data";if(e[i]||(e[i]={}),(0,n.isUndefined)(r))return e[i][t];e[i][t]=r},t}(l.Model),S=C,_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=c().$,E=function(e){function t(t){var n=e.call(this,{model:t})||this,r=t.attributes,i=r.Panels,o=r.UndoManager;return t.view=n,t.once("change:ready",(function(){i.active(),i.disableButtons(),o.clear(),setTimeout((function(){t.trigger("load",t.get("Editor")),t.clearDirtyCount()}))})),n}return _(t,e),t.prototype.render=function(){var e=this,t=this.$el,n=this.model,r=n.attributes,i=r.Panels,o=r.Canvas,s=n.config,a=n.modules,l=s.stylePrefix,c=O(s.el||"body ".concat(s.container));(0,u.appendStyles)(s.cssIcons,{unique:!0,prepand:!0}),t.empty(),s.width&&c.css("width",s.width),s.height&&c.css("height",s.height),t.append(o.render()),t.append(i.render());var h=n.get("shallow").get("Canvas").render();return h.style.display="none",t.append(h),t.attr("class","".concat(l,"editor ").concat(l,"one-bg ").concat(l,"two-color")),c.addClass("".concat(l,"editor-cont")).empty().append(t),a.forEach((function(t){return t.postRender&&t.postRender(e)})),this},t}(l.View),T=function(){return T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},T.apply(this,arguments)},A=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},$=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},L=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},R=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.modules=[],this.html=s.Z,this.config=T(T(T({},a),e),{pStylePrefix:a.stylePrefix}),this.em=new S(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(e.prototype,"I18n",{get:function(){return this.em.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Utils",{get:function(){return this.em.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Commands",{get:function(){return this.em.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Keymaps",{get:function(){return this.em.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Modal",{get:function(){return this.em.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Panels",{get:function(){return this.em.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Canvas",{get:function(){return this.em.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Parser",{get:function(){return this.em.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CodeManager",{get:function(){return this.em.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"UndoManager",{get:function(){return this.em.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"RichTextEditor",{get:function(){return this.em.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Pages",{get:function(){return this.em.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Components",{get:function(){return this.em.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DomComponents",{get:function(){return this.em.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Layers",{get:function(){return this.em.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"LayerManager",{get:function(){return this.em.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Css",{get:function(){return this.em.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CssComposer",{get:function(){return this.em.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Storage",{get:function(){return this.em.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"StorageManager",{get:function(){return this.em.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Assets",{get:function(){return this.em.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"AssetManager",{get:function(){return this.em.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Blocks",{get:function(){return this.em.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BlockManager",{get:function(){return this.em.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Traits",{get:function(){return this.em.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TraitManager",{get:function(){return this.em.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Selectors",{get:function(){return this.em.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SelectorManager",{get:function(){return this.em.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Styles",{get:function(){return this.em.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"StyleManager",{get:function(){return this.em.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Devices",{get:function(){return this.em.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DeviceManager",{get:function(){return this.em.get("DeviceManager")},enumerable:!1,configurable:!0}),e.prototype.getConfig=function(e){var t=this.config;return(0,n.isUndefined)(e)?t:t[e]},e.prototype.getHtml=function(e){return this.em.getHtml(e)},e.prototype.getCss=function(e){return this.em.getCss(e)},e.prototype.getJs=function(e){return this.em.getJs(e)},e.prototype.getComponents=function(){return this.em.get("DomComponents").getComponents()},e.prototype.getWrapper=function(){return this.em.get("DomComponents").getWrapper()},e.prototype.setComponents=function(e,t){return void 0===t&&(t={}),this.em.setComponents(e,t),this},e.prototype.addComponents=function(e,t){return this.getWrapper().append(e,t)},e.prototype.getStyle=function(){return this.em.get("CssComposer").getAll()},e.prototype.setStyle=function(e,t){return void 0===t&&(t={}),this.em.setStyle(e,t),this},e.prototype.addStyle=function(e,t){return void 0===t&&(t={}),this.em.addStyle(e,t)},e.prototype.getSelected=function(){return this.em.getSelected()},e.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},e.prototype.getSelectedToStyle=function(){var e=this.em.getSelected();if(e)return this.StyleManager.getModelToStyle(e)},e.prototype.select=function(e,t){return this.em.setSelected(e,t),this},e.prototype.selectAdd=function(e){return this.em.addSelected(e),this},e.prototype.selectRemove=function(e){return this.em.removeSelected(e),this},e.prototype.selectToggle=function(e){return this.em.toggleSelected(e),this},e.prototype.getEditing=function(){return this.em.getEditing()},e.prototype.setDevice=function(e){return this.em.set("device",e),this},e.prototype.getDevice=function(){return this.em.get("device")},e.prototype.runCommand=function(e,t){return void 0===t&&(t={}),this.em.get("Commands").run(e,t)},e.prototype.stopCommand=function(e,t){return void 0===t&&(t={}),this.em.get("Commands").stop(e,t)},e.prototype.store=function(e){return A(this,void 0,void 0,(function(){return $(this,(function(t){switch(t.label){case 0:return[4,this.em.store(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.load=function(e){return A(this,void 0,void 0,(function(){return $(this,(function(t){switch(t.label){case 0:return[4,this.em.load(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getProjectData=function(){return this.em.storeData()},e.prototype.loadProjectData=function(e){return this.em.loadData(e)},e.prototype.storeData=function(){return this.em.storeData()},e.prototype.loadData=function(e){return this.em.loadData(e)},e.prototype.getContainer=function(){return this.config.el},e.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},e.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},e.prototype.refresh=function(e){this.em.refreshCanvas(e)},e.prototype.setCustomRte=function(e){this.RichTextEditor.customRte=e},e.prototype.setCustomParserCss=function(e){return this.Parser.getConfig().parserCss=e,this},e.prototype.setDragMode=function(e){return this.em.setDragMode(e),this},e.prototype.log=function(e,t){return void 0===t&&(t={}),this.em.log(e,t),this},e.prototype.t=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.em).t.apply(e,t)},e.prototype.on=function(e,t){return this.em.on(e,t),this},e.prototype.once=function(e,t){return this.em.once(e,t),this},e.prototype.off=function(e,t){return this.em.off(e,t),this},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.em.trigger.apply(this.em,L([e],t,!0)),this},e.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},e.prototype.getEl=function(){var e;return null===(e=this.editorView)||void 0===e?void 0:e.el},e.prototype.getModel=function(){return this.em},e.prototype.render=function(){var e;return null===(e=this.editorView)||void 0===e||e.remove(),this.editorView=new E(this.em),this.editorView.render().el},e.prototype.onReady=function(e){this.em.get("ready")?e(this):this.em.on("load",e)},e}(),P={plugins:[]};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?M(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(){if((0,u.hasWin)()&&function(){for(var e,t=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],r=0;r<n.length&&!(e=n[r][1].exec(t));r++);return!!e}()){var e=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(t){return t||(t=""),e.apply(document.implementation,[t])}}}();var j=new function(e){var t={};for(var n in P)n in t||(t[n]=P[n]);var r={};return{add:function(e,t){return r[e]?r[e]:(r[e]=t,t)},get:function(e){return r[e]},getAll:function(){return r}}},N=[],I={autorender:1,plugins:[],pluginsOpts:{}},F={$:r.default,editors:N,plugins:j,version:"0.20.1",init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.headless,i=e.container;if(!i&&!t)throw new Error("'container' is required");(e=D(D(D({},I),e),{},{grapesjs:this})).el=!t&&((0,n.isElement)(i)?i:document.querySelector(i));var o=new R(e,{$:r.default}),s=o.getModel();return e.plugins.forEach((function(t){var r=(0,n.isFunction)(t)?t:j.get(t),i=e.pluginsOpts[t]||{};if(!r){var a=(0,u.getGlobal)()[t];r=(null==a?void 0:a.default)||a}r?r(o,i):(0,n.isFunction)(t)?t(o,i):s.logWarning("Plugin ".concat(t," not found"),{context:"plugins",plugin:t})})),s.loadOnStart(),e.autorender&&!t&&o.render(),N.push(o),o}}}(),o.default}()},8929:function(e,t,n){var r="__lodash_hash_undefined__",i="[object Function]",o="[object GeneratorFunction]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,l=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,d="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,f="object"==typeof self&&self&&self.Object===Object&&self,p=d||f||Function("return this")();var g=Array.prototype,m=Function.prototype,v=Object.prototype,y=p["__core-js_shared__"],b=function(){var e=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),w=m.toString,x=v.hasOwnProperty,k=v.toString,C=RegExp("^"+w.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=p.Symbol,_=g.splice,O=N(p,"Map"),E=N(Object,"create"),T=S?S.prototype:void 0,A=T?T.toString:void 0;function $(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function L(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function P(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!==n&&r!==r)return i;return-1}function M(e,t){var n;t=function(e,t){if(H(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||z(e))return!0;return a.test(e)||!s.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:H(n=t)?n:I(n);for(var r=0,i=t.length;null!=e&&r<i;)e=e[F(t[r++])];return r&&r==i?e:void 0}function D(e){if(!Z(e)||(t=e,b&&b in t))return!1;var t,n=function(e){var t=Z(e)?k.call(e):"";return t==i||t==o}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?C:h;return n.test(function(e){if(null!=e){try{return w.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function j(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function N(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return D(n)?n:void 0}$.prototype.clear=function(){this.__data__=E?E(null):{}},$.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},$.prototype.get=function(e){var t=this.__data__;if(E){var n=t[e];return n===r?void 0:n}return x.call(t,e)?t[e]:void 0},$.prototype.has=function(e){var t=this.__data__;return E?void 0!==t[e]:x.call(t,e)},$.prototype.set=function(e,t){return this.__data__[e]=E&&void 0===t?r:t,this},L.prototype.clear=function(){this.__data__=[]},L.prototype.delete=function(e){var t=this.__data__,n=P(t,e);return!(n<0)&&(n==t.length-1?t.pop():_.call(t,n,1),!0)},L.prototype.get=function(e){var t=this.__data__,n=P(t,e);return n<0?void 0:t[n][1]},L.prototype.has=function(e){return P(this.__data__,e)>-1},L.prototype.set=function(e,t){var n=this.__data__,r=P(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},R.prototype.clear=function(){this.__data__={hash:new $,map:new(O||L),string:new $}},R.prototype.delete=function(e){return j(this,e).delete(e)},R.prototype.get=function(e){return j(this,e).get(e)},R.prototype.has=function(e){return j(this,e).has(e)},R.prototype.set=function(e,t){return j(this,e).set(e,t),this};var I=B((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(z(e))return A?A.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return l.test(e)&&n.push(""),e.replace(c,(function(e,t,r,i){n.push(r?i.replace(u,"$1"):t||e)})),n}));function F(e){if("string"==typeof e||z(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function B(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(B.Cache||R),n}B.Cache=R;var H=Array.isArray;function Z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function z(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==k.call(e)}e.exports=function(e,t,n){var r=null==e?void 0:M(e,t);return void 0===r?n:r}},2467:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",h="[object Map]",d="[object Number]",f="[object Object]",p="[object Promise]",g="[object RegExp]",m="[object Set]",v="[object String]",y="[object Symbol]",b="[object WeakMap]",w="[object ArrayBuffer]",x="[object DataView]",k=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[o]=S[s]=S[w]=S[a]=S[x]=S[l]=S[c]=S[u]=S[h]=S[d]=S[f]=S[g]=S[m]=S[v]=S[b]=!1;var _="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,O="object"==typeof self&&self&&self.Object===Object&&self,E=_||O||Function("return this")(),T=t&&!t.nodeType&&t,A=T&&e&&!e.nodeType&&e,$=A&&A.exports===T,L=$&&_.process,R=function(){try{return L&&L.binding&&L.binding("util")}catch(e){}}(),P=R&&R.isTypedArray;function M(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function D(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function j(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var N,I,F=Array.prototype,B=Function.prototype,H=Object.prototype,Z=E["__core-js_shared__"],z=B.toString,V=H.hasOwnProperty,W=function(){var e=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),U=H.toString,G=RegExp("^"+z.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=$?E.Buffer:void 0,K=E.Symbol,Y=E.Uint8Array,X=H.propertyIsEnumerable,J=F.splice,Q=K?K.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=q?q.isBuffer:void 0,ne=(N=Object.keys,I=Object,function(e){return N(I(e))}),re=Le(E,"DataView"),ie=Le(E,"Map"),oe=Le(E,"Promise"),se=Le(E,"Set"),ae=Le(E,"WeakMap"),le=Le(Object,"create"),ce=De(re),ue=De(ie),he=De(oe),de=De(se),fe=De(ae),pe=K?K.prototype:void 0,ge=pe?pe.valueOf:void 0;function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ye;++t<n;)this.add(e[t])}function we(e){var t=this.__data__=new ve(e);this.size=t.size}function xe(e,t){var n=Ie(e),r=!n&&Ne(e),i=!n&&!r&&Fe(e),o=!n&&!r&&!i&&Ve(e),s=n||r||i||o,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=a.length;for(var c in e)!t&&!V.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Me(c,l))||a.push(c);return a}function ke(e,t){for(var n=e.length;n--;)if(je(e[n][0],t))return n;return-1}function Ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Q&&Q in Object(e)?function(e){var t=V.call(e,Q),n=e[Q];try{e[Q]=void 0;var r=!0}catch(o){}var i=U.call(e);r&&(t?e[Q]=n:delete e[Q]);return i}(e):function(e){return U.call(e)}(e)}function Se(e){return ze(e)&&Ce(e)==o}function _e(e,t,n,r,i){return e===t||(null==e||null==t||!ze(e)&&!ze(t)?e!==e&&t!==t:function(e,t,n,r,i,u){var p=Ie(e),b=Ie(t),k=p?s:Pe(e),C=b?s:Pe(t),S=(k=k==o?f:k)==f,_=(C=C==o?f:C)==f,O=k==C;if(O&&Fe(e)){if(!Fe(t))return!1;p=!0,S=!1}if(O&&!S)return u||(u=new we),p||Ve(e)?Te(e,t,n,r,i,u):function(e,t,n,r,i,o,s){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!o(new Y(e),new Y(t)));case a:case l:case d:return je(+e,+t);case c:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case h:var u=D;case m:var f=1&r;if(u||(u=j),e.size!=t.size&&!f)return!1;var p=s.get(e);if(p)return p==t;r|=2,s.set(e,t);var b=Te(u(e),u(t),r,i,o,s);return s.delete(e),b;case y:if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,k,n,r,i,u);if(!(1&n)){var E=S&&V.call(e,"__wrapped__"),T=_&&V.call(t,"__wrapped__");if(E||T){var A=E?e.value():e,$=T?t.value():t;return u||(u=new we),i(A,$,n,r,u)}}if(!O)return!1;return u||(u=new we),function(e,t,n,r,i,o){var s=1&n,a=Ae(e),l=a.length,c=Ae(t).length;if(l!=c&&!s)return!1;var u=l;for(;u--;){var h=a[u];if(!(s?h in t:V.call(t,h)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);var p=s;for(;++u<l;){var g=e[h=a[u]],m=t[h];if(r)var v=s?r(m,g,h,t,e,o):r(g,m,h,e,t,o);if(!(void 0===v?g===m||i(g,m,n,r,o):v)){f=!1;break}p||(p="constructor"==h)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,i,u)}(e,t,n,r,_e,i))}function Oe(e){return!(!Ze(e)||function(e){return!!W&&W in e}(e))&&(Be(e)?G:k).test(De(e))}function Ee(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||H;return e===n}(e))return ne(e);var t=[];for(var n in Object(e))V.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Te(e,t,n,r,i,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,h=!0,d=2&n?new be:void 0;for(o.set(e,t),o.set(t,e);++u<a;){var f=e[u],p=t[u];if(r)var g=s?r(p,f,u,t,e,o):r(f,p,u,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!M(t,(function(e,t){if(s=t,!d.has(s)&&(f===e||i(f,e,n,r,o)))return d.push(t);var s}))){h=!1;break}}else if(f!==p&&!i(f,p,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Ae(e){return function(e,t,n){var r=t(e);return Ie(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,We,Re)}function $e(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Le(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Oe(n)?n:void 0}me.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},me.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},me.prototype.get=function(e){var t=this.__data__;if(le){var n=t[e];return n===r?void 0:n}return V.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:V.call(t,e)},me.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=le&&void 0===t?r:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,n=ke(t,e);return!(n<0)&&(n==t.length-1?t.pop():J.call(t,n,1),--this.size,!0)},ve.prototype.get=function(e){var t=this.__data__,n=ke(t,e);return n<0?void 0:t[n][1]},ve.prototype.has=function(e){return ke(this.__data__,e)>-1},ve.prototype.set=function(e,t){var n=this.__data__,r=ke(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(ie||ve),string:new me}},ye.prototype.delete=function(e){var t=$e(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return $e(this,e).get(e)},ye.prototype.has=function(e){return $e(this,e).has(e)},ye.prototype.set=function(e,t){var n=$e(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,r),this},be.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new ve,this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ve){var r=n.__data__;if(!ie||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ye(r)}return n.set(e,t),this.size=n.size,this};var Re=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}(ee(e),(function(t){return X.call(e,t)})))}:function(){return[]},Pe=Ce;function Me(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t}function De(e){if(null!=e){try{return z.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function je(e,t){return e===t||e!==e&&t!==t}(re&&Pe(new re(new ArrayBuffer(1)))!=x||ie&&Pe(new ie)!=h||oe&&Pe(oe.resolve())!=p||se&&Pe(new se)!=m||ae&&Pe(new ae)!=b)&&(Pe=function(e){var t=Ce(e),n=t==f?e.constructor:void 0,r=n?De(n):"";if(r)switch(r){case ce:return x;case ue:return h;case he:return p;case de:return m;case fe:return b}return t});var Ne=Se(function(){return arguments}())?Se:function(e){return ze(e)&&V.call(e,"callee")&&!X.call(e,"callee")},Ie=Array.isArray;var Fe=te||function(){return!1};function Be(e){if(!Ze(e))return!1;var t=Ce(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function He(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Ze(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ze(e){return null!=e&&"object"==typeof e}var Ve=P?function(e){return function(t){return e(t)}}(P):function(e){return ze(e)&&He(e.length)&&!!S[Ce(e)]};function We(e){return null!=(t=e)&&He(t.length)&&!Be(t)?xe(e):Ee(e);var t}e.exports=function(e,t){return _e(e,t)}},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var s,a,l=i(e),c=1;c<arguments.length;c++){for(var u in s=Object(arguments[c]))n.call(s,u)&&(l[u]=s[u]);if(t){a=t(s);for(var h=0;h<a.length;h++)r.call(s,a[h])&&(l[a[h]]=s[a[h]])}}return l}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6877:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(5675),s=n(2007),a=n(2791),l=n(2467),c=n(4789),u=(0,c.getAceInstance)(),h=function(e){function t(t){var n=e.call(this,t)||this;return c.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=c.debounce,n}return r(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,i=t.onValidate,o=t.mode,s=t.focus,a=t.theme,l=t.fontSize,h=t.value,d=t.defaultValue,f=t.showGutter,p=t.wrapEnabled,g=t.showPrintMargin,m=t.scrollMargin,v=void 0===m?[0,0,0,0]:m,y=t.keyboardHandler,b=t.onLoad,w=t.commands,x=t.annotations,k=t.markers,C=t.placeholder;this.editor=u.edit(this.refEditor),r&&r(u);for(var S=Object.keys(this.props.editorProps),_=0;_<S.length;_++)this.editor[S[_]]=this.props.editorProps[S[_]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(v[0],v[1],v[2],v[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode("string"===typeof o?"ace/mode/".concat(o):o),a&&""!==a&&this.editor.setTheme("ace/theme/".concat(a)),this.editor.setFontSize("number"===typeof l?"".concat(l,"px"):l),this.editor.getSession().setValue(d||(h||"")),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(f),this.editor.getSession().setUseWrapMode(p),this.editor.setShowPrintMargin(g),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),C&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),i&&this.editor.getSession().on("changeAnnotation",(function(){var t=e.editor.getSession().getAnnotations();e.props.onValidate(t)})),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(x||[]),k&&k.length>0&&this.handleMarkers(k);var O=this.editor.$options;c.editorOptions.forEach((function(t){O.hasOwnProperty(t)?e.editor.setOption(t,e.props[t]):e.props[t]&&console.warn("ReactAce: editor option ".concat(t," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))})),this.handleOptions(this.props),Array.isArray(w)&&w.forEach((function(t){"string"===typeof t.exec?e.editor.commands.bindKey(t.bindKey,t.exec):e.editor.commands.addCommand(t)})),y&&this.editor.setKeyboardHandler("ace/keyboard/"+y),n&&(this.refEditor.className+=" "+n),b&&b(this.editor),this.editor.resize(),s&&this.editor.focus()},t.prototype.componentDidUpdate=function(e){for(var t=e,n=this.props,r=0;r<c.editorOptions.length;r++){var i=c.editorOptions[r];n[i]!==t[i]&&this.editor.setOption(i,n[i])}if(n.className!==t.className){var o=this.refEditor.className.trim().split(" ");t.className.trim().split(" ").forEach((function(e){var t=o.indexOf(e);o.splice(t,1)})),this.refEditor.className=" "+n.className+" "+o.join(" ")}var s=this.editor&&null!=n.value&&this.editor.getValue()!==n.value;if(s){this.silent=!0;var a=this.editor.session.selection.toJSON();this.editor.setValue(n.value,n.cursorStart),this.editor.session.selection.fromJSON(a),this.silent=!1}n.placeholder!==t.placeholder&&this.updatePlaceholder(),n.mode!==t.mode&&this.editor.getSession().setMode("string"===typeof n.mode?"ace/mode/".concat(n.mode):n.mode),n.theme!==t.theme&&this.editor.setTheme("ace/theme/"+n.theme),n.keyboardHandler!==t.keyboardHandler&&(n.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+n.keyboardHandler):this.editor.setKeyboardHandler(null)),n.fontSize!==t.fontSize&&this.editor.setFontSize("number"===typeof n.fontSize?"".concat(n.fontSize,"px"):n.fontSize),n.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(n.wrapEnabled),n.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(n.showPrintMargin),n.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(n.showGutter),l(n.setOptions,t.setOptions)||this.handleOptions(n),!s&&l(n.annotations,t.annotations)||this.editor.getSession().setAnnotations(n.annotations||[]),!l(n.markers,t.markers)&&Array.isArray(n.markers)&&this.handleMarkers(n.markers),l(n.scrollMargin,t.scrollMargin)||this.handleScrollMargins(n.scrollMargin),e.height===this.props.height&&e.width===this.props.width||this.editor.resize(),this.props.focus&&!e.focus&&this.editor.focus()},t.prototype.handleScrollMargins=function(e){void 0===e&&(e=[0,0,0,0]),this.editor.renderer.setScrollMargin(e[0],e[1],e[2],e[3])},t.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},t.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=this.editor.getValue();this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=this.editor.getSelection();this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=this.editor.getSelection();this.props.onCursorChange(t,e)}},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e),this.props.placeholder&&this.updatePlaceholder()},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e,this.editor)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e,this.editor)},t.prototype.onCopy=function(e){var t=e.text;this.props.onCopy&&this.props.onCopy(t)},t.prototype.onPaste=function(e){var t=e.text;this.props.onPaste&&this.props.onPaste(t)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e){for(var t=Object.keys(e.setOptions),n=0;n<t.length;n++)this.editor.setOption(t[n],e.setOptions[t[n]])},t.prototype.handleMarkers=function(e){var t=this,n=this.editor.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&this.editor.getSession().removeMarker(n[r].id);for(var r in n=this.editor.getSession().getMarkers(!1))n.hasOwnProperty(r)&&"ace_active-line"!==n[r].clazz&&"ace_selected-word"!==n[r].clazz&&this.editor.getSession().removeMarker(n[r].id);e.forEach((function(e){var n=e.startRow,r=e.startCol,i=e.endRow,s=e.endCol,a=e.className,l=e.type,c=e.inFront,u=void 0!==c&&c,h=new o.Range(n,r,i,s);t.editor.getSession().addMarker(h,a,l,u)}))},t.prototype.updatePlaceholder=function(){var e=this.editor,t=this.props.placeholder,n=!e.session.getValue().length,r=e.renderer.placeholderNode;!n&&r?(e.renderer.scroller.removeChild(e.renderer.placeholderNode),e.renderer.placeholderNode=null):n&&!r?((r=e.renderer.placeholderNode=document.createElement("div")).textContent=t||"",r.className="ace_comment ace_placeholder",r.style.padding="0 9px",r.style.position="absolute",r.style.zIndex="3",e.renderer.scroller.appendChild(r)):n&&r&&(r.textContent=t)},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=e.width,r=e.height,o=e.style,s=i({width:n,height:r},o);return a.createElement("div",{ref:this.updateRef,id:t,style:s})},t.propTypes={mode:s.oneOfType([s.string,s.object]),focus:s.bool,theme:s.string,name:s.string,className:s.string,height:s.string,width:s.string,fontSize:s.oneOfType([s.number,s.string]),showGutter:s.bool,onChange:s.func,onCopy:s.func,onPaste:s.func,onFocus:s.func,onInput:s.func,onBlur:s.func,onScroll:s.func,value:s.string,defaultValue:s.string,onLoad:s.func,onSelectionChange:s.func,onCursorChange:s.func,onBeforeLoad:s.func,onValidate:s.func,minLines:s.number,maxLines:s.number,readOnly:s.bool,highlightActiveLine:s.bool,tabSize:s.number,showPrintMargin:s.bool,cursorStart:s.number,debounceChangePeriod:s.number,editorProps:s.object,setOptions:s.object,style:s.object,scrollMargin:s.array,annotations:s.array,markers:s.array,keyboardHandler:s.string,wrapEnabled:s.bool,enableSnippets:s.bool,enableBasicAutocompletion:s.oneOfType([s.bool,s.array]),enableLiveAutocompletion:s.oneOfType([s.bool,s.array]),navigateToFileEnd:s.bool,commands:s.array,placeholder:s.string},t.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},t}(a.Component);t.default=h},5613:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2007),o=n(2791),s=n(812),a=n(3484),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:n.props.value},n.onChange=n.onChange.bind(n),n.diff=n.diff.bind(n),n}return r(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.value;e!==this.state.value&&this.setState({value:e})},t.prototype.onChange=function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)},t.prototype.diff=function(){var e=new a,t=this.state.value[0],n=this.state.value[1];if(0===t.length&&0===n.length)return[];var r=e.diff_main(t,n);e.diff_cleanupSemantic(r);var i=this.generateDiffedLines(r);return this.setCodeMarkers(i)},t.prototype.generateDiffedLines=function(e){var t=0,n=-1,r=1,i={left:[],right:[]},o={left:1,right:1};return e.forEach((function(e){var s=e[0],a=e[1],l=a.split("\n").length-1;if(0!==a.length){var c=a[0],u=a[a.length-1],h=0;switch(s){case t:o.left+=l,o.right+=l;break;case n:"\n"===c&&(o.left++,l--),0===(h=l)&&i.right.push({startLine:o.right,endLine:o.right}),"\n"===u&&(h-=1),i.left.push({startLine:o.left,endLine:o.left+h}),o.left+=l;break;case r:"\n"===c&&(o.right++,l--),0===(h=l)&&i.left.push({startLine:o.left,endLine:o.left}),"\n"===u&&(h-=1),i.right.push({startLine:o.right,endLine:o.right+h}),o.right+=l;break;default:throw new Error("Diff type was not defined.")}}})),i},t.prototype.setCodeMarkers=function(e){void 0===e&&(e={left:[],right:[]});for(var t=[],n={left:[],right:[]},r=0;r<e.left.length;r++){var i={startRow:e.left[r].startLine-1,endRow:e.left[r].endLine,type:"text",className:"codeMarker"};n.left.push(i)}for(r=0;r<e.right.length;r++){i={startRow:e.right[r].startLine-1,endRow:e.right[r].endLine,type:"text",className:"codeMarker"};n.right.push(i)}return t[0]=n.left,t[1]=n.right,t},t.prototype.render=function(){var e=this.diff();return o.createElement(s.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:e})},t.propTypes={cursorStart:i.number,editorProps:i.object,enableBasicAutocompletion:i.bool,enableLiveAutocompletion:i.bool,focus:i.bool,fontSize:i.number,height:i.string,highlightActiveLine:i.bool,maxLines:i.number,minLines:i.number,mode:i.string,name:i.string,className:i.string,onLoad:i.func,onPaste:i.func,onScroll:i.func,onChange:i.func,orientation:i.string,readOnly:i.bool,scrollMargin:i.array,setOptions:i.object,showGutter:i.bool,showPrintMargin:i.bool,splits:i.number,style:i.object,tabSize:i.number,theme:i.string,value:i.array,width:i.string,wrapEnabled:i.bool},t.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},t}(o.Component);t.default=l},4789:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAceInstance=t.debounce=t.editorEvents=t.editorOptions=void 0;t.editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];t.editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];t.getAceInstance=function(){var e;return"undefined"===typeof window?(n.g.window={},e=n(5675),delete n.g.window):window.ace?(e=window.ace).acequire=window.ace.require||window.ace.acequire:e=n(5675),e};t.debounce=function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(r,i)}),t)}}},8399:function(e,t,n){"use strict";var r=n(6877);n(5613).default,n(812).default,t.ZP=r.default},812:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4789),s=(0,o.getAceInstance)(),a=n(5675),l=n(6866),c=n(2007),u=n(2791),h=n(2467),d=n(8929),f=function(e){function t(t){var n=e.call(this,t)||this;return o.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=o.debounce,n}return r(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,i=t.mode,a=t.focus,c=t.theme,u=t.fontSize,h=t.value,f=t.defaultValue,p=t.cursorStart,g=t.showGutter,m=t.wrapEnabled,v=t.showPrintMargin,y=t.scrollMargin,b=void 0===y?[0,0,0,0]:y,w=t.keyboardHandler,x=t.onLoad,k=t.commands,C=t.annotations,S=t.markers,_=t.splits;this.editor=s.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(c)),r&&r(s);var O=Object.keys(this.props.editorProps),E=new l.Split(this.editor.container,"ace/theme/".concat(c),_);this.editor.env.split=E,this.splitEditor=E.getEditor(0),this.split=E,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var T=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),E.forEach((function(t,n){for(var r=0;r<O.length;r++)t[O[r]]=e.props.editorProps[O[r]];var a=d(f,n),l=d(h,n,"");t.session.setUndoManager(new s.UndoManager),t.setTheme("ace/theme/".concat(c)),t.renderer.setScrollMargin(b[0],b[1],b[2],b[3]),t.getSession().setMode("ace/mode/".concat(i)),t.setFontSize(u),t.renderer.setShowGutter(g),t.getSession().setUseWrapMode(m),t.setShowPrintMargin(v),t.on("focus",e.onFocus),t.on("blur",e.onBlur),t.on("input",e.onInput),t.on("copy",e.onCopy),t.on("paste",e.onPaste),t.on("change",e.onChange),t.getSession().selection.on("changeSelection",e.onSelectionChange),t.getSession().selection.on("changeCursor",e.onCursorChange),t.session.on("changeScrollTop",e.onScroll),t.setValue(void 0===a?l:a,p);var y=d(C,n,[]),x=d(S,n,[]);t.getSession().setAnnotations(y),x&&x.length>0&&e.handleMarkers(x,t);for(r=0;r<o.editorOptions.length;r++){var _=o.editorOptions[r];T.hasOwnProperty(_)?t.setOption(_,e.props[_]):e.props[_]&&console.warn("ReaceAce: editor option ".concat(_," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}e.handleOptions(e.props,t),Array.isArray(k)&&k.forEach((function(e){"string"===typeof e.exec?t.commands.bindKey(e.bindKey,e.exec):t.commands.addCommand(e)})),w&&t.setKeyboardHandler("ace/keyboard/"+w)})),n&&(this.refEditor.className+=" "+n),a&&this.splitEditor.focus();var A=this.editor.env.split;A.setOrientation("below"===this.props.orientation?A.BELOW:A.BESIDE),A.resize(!0),x&&x(A)},t.prototype.componentDidUpdate=function(e){var t=this,n=e,r=this.props,i=this.editor.env.split;if(r.splits!==n.splits&&i.setSplits(r.splits),r.orientation!==n.orientation&&i.setOrientation("below"===r.orientation?i.BELOW:i.BESIDE),i.forEach((function(e,i){r.mode!==n.mode&&e.getSession().setMode("ace/mode/"+r.mode),r.keyboardHandler!==n.keyboardHandler&&(r.keyboardHandler?e.setKeyboardHandler("ace/keyboard/"+r.keyboardHandler):e.setKeyboardHandler(null)),r.fontSize!==n.fontSize&&e.setFontSize(r.fontSize),r.wrapEnabled!==n.wrapEnabled&&e.getSession().setUseWrapMode(r.wrapEnabled),r.showPrintMargin!==n.showPrintMargin&&e.setShowPrintMargin(r.showPrintMargin),r.showGutter!==n.showGutter&&e.renderer.setShowGutter(r.showGutter);for(var s=0;s<o.editorOptions.length;s++){var a=o.editorOptions[s];r[a]!==n[a]&&e.setOption(a,r[a])}h(r.setOptions,n.setOptions)||t.handleOptions(r,e);var l=d(r.value,i,"");if(e.getValue()!==l){t.silent=!0;var c=e.session.selection.toJSON();e.setValue(l,r.cursorStart),e.session.selection.fromJSON(c),t.silent=!1}var u=d(r.annotations,i,[]),f=d(n.annotations,i,[]);h(u,f)||e.getSession().setAnnotations(u);var p=d(r.markers,i,[]),g=d(n.markers,i,[]);!h(p,g)&&Array.isArray(p)&&t.handleMarkers(p,e)})),r.className!==n.className){var s=this.refEditor.className.trim().split(" ");n.className.trim().split(" ").forEach((function(e){var t=s.indexOf(e);s.splice(t,1)})),this.refEditor.className=" "+r.className+" "+s.join(" ")}r.theme!==n.theme&&i.setTheme("ace/theme/"+r.theme),r.focus&&!n.focus&&this.splitEditor.focus(),r.height===this.props.height&&r.width===this.props.width||this.editor.resize()},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getValue())})),this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onCursorChange(t,e)}},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e)},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e)},t.prototype.onCopy=function(e){this.props.onCopy&&this.props.onCopy(e)},t.prototype.onPaste=function(e){this.props.onPaste&&this.props.onPaste(e)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e,t){for(var n=Object.keys(e.setOptions),r=0;r<n.length;r++)t.setOption(n[r],e.setOptions[n[r]])},t.prototype.handleMarkers=function(e,t){var n=t.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&t.getSession().removeMarker(n[r].id);for(var r in n=t.getSession().getMarkers(!1))n.hasOwnProperty(r)&&t.getSession().removeMarker(n[r].id);e.forEach((function(e){var n=e.startRow,r=e.startCol,i=e.endRow,o=e.endCol,s=e.className,l=e.type,c=e.inFront,u=void 0!==c&&c,h=new a.Range(n,r,i,o);t.getSession().addMarker(h,s,l,u)}))},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=e.width,r=e.height,o=e.style,s=i({width:n,height:r},o);return u.createElement("div",{ref:this.updateRef,id:t,style:s})},t.propTypes={className:c.string,debounceChangePeriod:c.number,defaultValue:c.arrayOf(c.string),focus:c.bool,fontSize:c.oneOfType([c.number,c.string]),height:c.string,mode:c.string,name:c.string,onBlur:c.func,onChange:c.func,onCopy:c.func,onFocus:c.func,onInput:c.func,onLoad:c.func,onPaste:c.func,onScroll:c.func,orientation:c.string,showGutter:c.bool,splits:c.number,theme:c.string,value:c.arrayOf(c.string),width:c.string,onSelectionChange:c.func,onCursorChange:c.func,onBeforeLoad:c.func,minLines:c.number,maxLines:c.number,readOnly:c.bool,highlightActiveLine:c.bool,tabSize:c.number,showPrintMargin:c.bool,cursorStart:c.number,editorProps:c.object,setOptions:c.object,style:c.object,scrollMargin:c.array,annotations:c.array,markers:c.array,keyboardHandler:c.string,wrapEnabled:c.bool,enableBasicAutocompletion:c.oneOfType([c.bool,c.array]),enableLiveAutocompletion:c.oneOfType([c.bool,c.array]),commands:c.array},t.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},t}(u.Component);t.default=f},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),o=n(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},g={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(g,e)||!f.call(p,e)&&(d.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,C=60106,S=60107,_=60108,O=60114,E=60109,T=60110,A=60112,$=60113,L=60120,R=60115,P=60116,M=60121,D=60128,j=60129,N=60130,I=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;k=F("react.element"),C=F("react.portal"),S=F("react.fragment"),_=F("react.strict_mode"),O=F("react.profiler"),E=F("react.provider"),T=F("react.context"),A=F("react.forward_ref"),$=F("react.suspense"),L=F("react.suspense_list"),R=F("react.memo"),P=F("react.lazy"),M=F("react.block"),F("react.scope"),D=F("react.opaque.id"),j=F("react.debug_trace_mode"),N=F("react.offscreen"),I=F("react.legacy_hidden")}var B,H="function"===typeof Symbol&&Symbol.iterator;function Z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=H&&e[H]||e["@@iterator"])?e:null}function z(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var V=!1;function W(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case C:return"Portal";case O:return"Profiler";case _:return"StrictMode";case $:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case M:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ce(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,me,ve=(me=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function ke(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ce=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Ce[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Oe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Te=null,Ae=null;function $e(e){if(e=ri(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=oi(t),Ee(e.stateNode,e.type,t))}}function Le(e){Te?Ae?Ae.push(e):Ae=[e]:Te=e}function Re(){if(Te){var e=Te,t=Ae;if(Ae=Te=null,$e(e),t)for(e=0;e<t.length;e++)$e(t[e])}}function Pe(e,t){return e(t)}function Me(e,t,n,r,i){return e(t,n,r,i)}function De(){}var je=Pe,Ne=!1,Ie=!1;function Fe(){null===Te&&null===Ae||(De(),Re())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var He=!1;if(h)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){He=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch(me){He=!1}function ze(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ve=!1,We=null,Ue=!1,Ge=null,qe={onError:function(e){Ve=!0,We=e}};function Ke(e,t,n,r,i,o,s,a,l){Ve=!1,We=null,ze.apply(qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(s(188))}function Qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,st=[],at=null,lt=null,ct=null,ut=new Map,ht=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(ot=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==at&&yt(at)&&(at=null),null!==lt&&yt(lt)&&(lt=null),null!==ct&&yt(ct)&&(ct=null),ut.forEach(bt),ht.forEach(bt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function kt(e){function t(t){return xt(t,e)}if(0<st.length){xt(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&xt(at,e),null!==lt&&xt(lt,e),null!==ct&&xt(ct,e),ut.forEach(t),ht.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)vt(n),null===n.blockedOn&&dt.shift()}function Ct(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:Ct("Animation","AnimationEnd"),animationiteration:Ct("Animation","AnimationIteration"),animationstart:Ct("Animation","AnimationStart"),transitionend:Ct("Transition","TransitionEnd")},_t={},Ot={};function Et(e){if(_t[e])return _t[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ot)return _t[e]=n[t];return e}h&&(Ot=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Tt=Et("animationend"),At=Et("animationiteration"),$t=Et("animationstart"),Lt=Et("transitionend"),Rt=new Map,Pt=new Map,Mt=["abort","abort",Tt,"animationEnd",At,"animationIteration",$t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Rt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var jt=8;function Nt(e){if(0!==(1&e))return jt=15,1;if(0!==(2&e))return jt=14,2;if(0!==(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!==(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!==(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!==(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!==(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!==(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function It(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=jt=15;else if(0!==(o=134217727&n)){var l=o&~s;0!==l?(r=Nt(l),i=jt):0!==(a&=o)&&(r=Nt(a),i=jt)}else 0!==(o=n&~s)?(r=Nt(o),i=jt):0!==a&&(r=Nt(a),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&s)){if(Nt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Vt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ht(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&(0===(e=Ht(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Ht(e){return e&-e}function Zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ut|0)|0},Wt=Math.log,Ut=Math.LN2;var Gt=o.unstable_UserBlockingPriority,qt=o.unstable_runWithPriority,Kt=!0;function Yt(e,t,n,r){Ne||De();var i=Jt,o=Ne;Ne=!0;try{Me(i,e,t,n,r)}finally{(Ne=o)||Fe()}}function Xt(e,t,n,r){qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Kt)if((i=0===(4&t))&&0<st.length&&-1<ft.indexOf(e))e=pt(null,e,t,n,r),st.push(e);else{var o=Qt(e,t,n,r);if(null===o)i&&gt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=pt(o,e,t,n,r),void st.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return lt=mt(lt,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ht.set(o,mt(ht.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;gt(e,r)}Dr(e,t,r,null,n)}}}function Qt(e,t,n,r){var i=Oe(r);if(null!==(i=ni(i))){var o=Ye(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Xe(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function an(){return!1}function ln(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var cn,un,hn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=ln(dn),pn=i({},dn,{view:0,detail:0}),gn=ln(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,un=e.screenY-hn.screenY):un=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=ln(mn),yn=ln(i({},mn,{dataTransfer:0})),bn=ln(i({},pn,{relatedTarget:0})),wn=ln(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=ln(xn),Cn=ln(i({},dn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},On={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=On[e])&&!!t[e]}function Tn(){return En}var An=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),$n=ln(An),Ln=ln(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=ln(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=ln(Mn),jn=[9,13,27,32],Nn=h&&"CompositionEvent"in window,In=null;h&&"documentMode"in document&&(In=document.documentMode);var Fn=h&&"TextEvent"in window&&!In,Bn=h&&(!Nn||In&&8<In&&11>=In),Hn=String.fromCharCode(32),Zn=!1;function zn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function qn(e,t,n,r){Le(r),0<(t=Nr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Yn=null;function Xn(e){Ar(e,0)}function Jn(e){if(X(ii(e)))return e}function Qn(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Kn&&(Kn.detachEvent("onpropertychange",or),Yn=Kn=null)}function or(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(qn(t,Yn,e,Oe(e)),e=Xn,Ne)e(t);else{Ne=!0;try{Pe(e,t)}finally{Ne=!1,Fe()}}}}function sr(e,t,n){"focusin"===e?(ir(),Yn=n,(Kn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function lr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function dr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,xr=null,kr=!1;function Cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==br||br!==J(r)||("selectionStart"in(r=br)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&dr(xr,r)||(xr=r,0<(r=Nr(wr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Mt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<Sr.length;_r++)Pt.set(Sr[_r],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Er=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Ke.apply(this,arguments),Ve){if(!Ve)throw Error(s(198));var u=We;Ve=!1,We=null,Ue||(Ue=!0,Ge=u)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Tr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Tr(i,a,c),o=l}}}if(Ue)throw e=Ge,Ue=!1,Ge=null,e}function $r(e,t){var n=si(t),r=e+"__bubble";n.has(r)||(Mr(t,e,2,!1),n.add(r))}var Lr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Lr]||(e[Lr]=!0,a.forEach((function(t){Er.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Er.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=si(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Mr(o,e,i,t),s.add(a))}function Mr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!He||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=ni(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Ie)return e(t,n);Ie=!0;try{je(e,t,n)}finally{Ie=!1,Fe()}}((function(){var r=o,i=Oe(n),s=[];e:{var a=Rt.get(e);if(void 0!==a){var l=fn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":l=$n;break;case"focusin":c="focus",l=bn;break;case"focusout":c="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Tt:case At:case $t:l=wn;break;case Lt:l=Pn;break;case"scroll":l=gn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ln}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Be(p,d))&&u.push(jr(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(h=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=vn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ln,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:ii(l),f=null==c?a:ii(c),(a=new u(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,ni(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Ir(f))p++;for(f=0,g=d;g;g=Ir(g))f++;for(;0<p-f;)u=Ir(u),p--;for(;0<f-p;)d=Ir(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Ir(u),d=Ir(d)}u=null}else u=null;null!==l&&Fr(s,a,l,u,!1),null!==c&&null!==h&&Fr(s,h,c,u,!0)}if("select"===(l=(a=r?ii(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Qn;else if(Gn(a))if(er)m=cr;else{m=ar;var v=sr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=lr);switch(m&&(m=m(e,r))?qn(s,m,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ie(a,"number",a.value)),v=r?ii(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(br=v,wr=r,xr=null);break;case"focusout":xr=wr=br=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,Cr(s,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Cr(s,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(v=Nr(r,b)).length&&(b=new Cn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Zn=!0,Hn);case"textInput":return(e=t.data)===Hn&&Zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Nn&&zn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Nr(r,"onBeforeInput")).length&&(i=new Cn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Ar(s,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(jr(e,o,i)),null!=(o=Be(e,t))&&r.push(jr(e,o,i))),e=e.return}return r}function Ir(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Be(n,o))&&s.unshift(jr(n,l,a)):i||null!=(l=Be(n,o))&&s.push(jr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Br(){}var Hr=null,Zr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Ur="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Qr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Jr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function oi(e){return e[Qr]||null}function si(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ai=[],li=-1;function ci(e){return{current:e}}function ui(e){0>li||(e.current=ai[li],ai[li]=null,li--)}function hi(e,t){li++,ai[li]=e.current,e.current=t}var di={},fi=ci(di),pi=ci(!1),gi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ui(pi),ui(fi)}function bi(e,t,n){if(fi.current!==di)throw Error(s(168));hi(fi,t),hi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,G(t)||"Unknown",o));return i({},n,r)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,gi=fi.current,hi(fi,e),hi(pi,pi.current),!0}function ki(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=wi(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,ui(pi),ui(fi),hi(fi,e)):ui(pi),hi(pi,n)}var Ci=null,Si=null,_i=o.unstable_runWithPriority,Oi=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,Ti=o.unstable_shouldYield,Ai=o.unstable_requestPaint,$i=o.unstable_now,Li=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Mi=o.unstable_NormalPriority,Di=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Ni={},Ii=void 0!==Ai?Ai:function(){},Fi=null,Bi=null,Hi=!1,Zi=$i(),zi=1e4>Zi?$i:function(){return $i()-Zi};function Vi(){switch(Li()){case Ri:return 99;case Pi:return 98;case Mi:return 97;case Di:return 96;case ji:return 95;default:throw Error(s(332))}}function Wi(e){switch(e){case 99:return Ri;case 98:return Pi;case 97:return Mi;case 96:return Di;case 95:return ji;default:throw Error(s(332))}}function Ui(e,t){return e=Wi(e),_i(e,t)}function Gi(e,t,n){return e=Wi(e),Oi(e,t,n)}function qi(){if(null!==Bi){var e=Bi;Bi=null,Ei(e)}Ki()}function Ki(){if(!Hi&&null!==Fi){Hi=!0;var e=0;try{var t=Fi;Ui(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Oi(Ri,qi),n}finally{Hi=!1}}}var Yi=x.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Qi=null,eo=null,to=null;function no(){to=eo=Qi=null}function ro(e){var t=Ji.current;ui(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Qi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ns=!0),e.firstContext=null)}function so(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Qi)throw Error(s(308));eo=t,Qi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var ao=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;ao=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?s=u:a.next=u,a=c;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=u:d.next=u,h.lastBaseUpdate=c)}}if(null!==s){for(d=o.baseState,a=0,h=u=c=null;;){l=s.lane;var f=s.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(l=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=g.payload)?p.call(f,d,l):p)||void 0===l)break e;d=i({},d,l);break e;case 2:ao=!0}}null!==s.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[s]:l.push(s))}else f={eventTime:f,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(u=h=f,c=d):h=h.next=f,a|=l;if(null===(s=s.next)){if(null===(l=o.shared.pending))break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(c=d),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,Ha|=a,e.lanes=a,e.memoizedState=d}}function go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var mo=(new r.Component).refs;function vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dl(),i=fl(e),o=uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),pl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dl(),i=fl(e),o=uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),pl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dl(),r=fl(e),i=uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ho(e,i),pl(e,r,n)}};function bo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function wo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"===typeof o&&null!==o?o=so(o):(i=vi(t)?gi:fi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function xo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=so(o):(o=vi(t)?gi:fi.current,i.context=mi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Co=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Oo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ul(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Yl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=Gl(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=ql(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Gl(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case C:return(t=Xl(t,e.mode,n)).return=e,t}if(Co(t)||Z(t))return(t=ql(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?n.type===S?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null}if(Co(n)||Z(n))return null!==i?null:h(e,t,n,r,null);_o(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===S?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Co(r)||Z(r))return h(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function g(i,s,a,l){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(i,h,a[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(i,h),c;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(s=o(h,s,g),null===u?c=h:u.sibling=h,u=h);return c}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(i,e)})),c}function m(i,a,l,c){var u=Z(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),a=o(b,a,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return n(i,g),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,c))&&(a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"===typeof o&&null!==o&&o.type===S&&null===o.key;c&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case k:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===S){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=So(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===S?((r=ql(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Gl(o.type,o.key,o.props,null,e.mode,l)).ref=So(e,r,o),l.return=e,e=l)}return a(e);case C:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xl(o,e.mode,l)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Yl(o,e.mode,l)).return=e,e=r),a(e);if(Co(o))return g(e,r,o,l);if(Z(o))return m(e,r,o,l);if(u&&_o(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,G(e.type)||"Component"))}return n(e,r)}}var Eo=Oo(!0),To=Oo(!1),Ao={},$o=ci(Ao),Lo=ci(Ao),Ro=ci(Ao);function Po(e){if(e===Ao)throw Error(s(174));return e}function Mo(e,t){switch(hi(Ro,t),hi(Lo,e),hi($o,Ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui($o),hi($o,t)}function Do(){ui($o),ui(Lo),ui(Ro)}function jo(e){Po(Ro.current);var t=Po($o.current),n=pe(t,e.type);t!==n&&(hi(Lo,e),hi($o,n))}function No(e){Lo.current===e&&(ui($o),ui(Lo))}var Io=ci(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,Ho=null,Zo=!1;function zo(e,t){var n=Vl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(Zo){var t=Ho;if(t){var n=t;if(!Vo(e,t)){if(!(t=qr(n.nextSibling))||!Vo(e,t))return e.flags=-1025&e.flags|2,Zo=!1,void(Bo=e);zo(Bo,n)}Bo=e,Ho=qr(t.firstChild)}else e.flags=-1025&e.flags|2,Zo=!1,Bo=e}}function Uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Go(e){if(e!==Bo)return!1;if(!Zo)return Uo(e),Zo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Ho;t;)zo(e,t),t=qr(t.nextSibling);if(Uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ho=qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ho=null}}else Ho=Bo?qr(e.stateNode.nextSibling):null;return!0}function qo(){Ho=Bo=null,Zo=!1}var Ko=[];function Yo(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var Xo=x.ReactCurrentDispatcher,Jo=x.ReactCurrentBatchConfig,Qo=0,es=null,ts=null,ns=null,rs=!1,is=!1;function os(){throw Error(s(321))}function ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function as(e,t,n,r,i,o){if(Qo=o,es=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=null===e||null===e.memoizedState?Ps:Ms,e=n(r,i),is){o=0;do{if(is=!1,!(25>o))throw Error(s(301));o+=1,ns=ts=null,t.updateQueue=null,Xo.current=Ds,e=n(r,i)}while(is)}if(Xo.current=Rs,t=null!==ts&&null!==ts.next,Qo=0,ns=ts=es=null,rs=!1,t)throw Error(s(300));return e}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ns?es.memoizedState=ns=e:ns=ns.next=e,ns}function cs(){if(null===ts){var e=es.alternate;e=null!==e?e.memoizedState:null}else e=ts.next;var t=null===ns?es.memoizedState:ns.next;if(null!==t)ns=t,ts=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ts=e).memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},null===ns?es.memoizedState=ns=e:ns=ns.next=e}return ns}function us(e,t){return"function"===typeof t?t(e):t}function hs(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ts,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,c=i;do{var u=c.lane;if((Qo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=h,o=r):l=l.next=h,es.lanes|=u,Ha|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=a,ur(r,t.memoizedState)||(Ns=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ds(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ur(o,t.memoizedState)||(Ns=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fs(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Qo&e)===e)&&(t._workInProgressVersionPrimary=r,Ko.push(t))),e)return n(t._source);throw Ko.push(t),Error(s(350))}function ps(e,t,n,r){var i=Pa;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=Xo.current,c=l.useState((function(){return fs(i,t,n)})),u=c[1],h=c[0];c=ns;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,g=d.source;d=d.subscribe;var m=es;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=o(t._source);if(!ur(a,e)){e=n(t._source),ur(h,e)||(u(e),e=fl(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-Vt(s),c=1<<l;r[l]|=e,s&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=fl(m);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),ur(p,n)&&ur(g,t)&&ur(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:h}).dispatch=u=Ls.bind(null,es,e),c.queue=e,c.baseQueue=null,h=fs(i,t,n),c.memoizedState=c.baseState=h),h}function gs(e,t,n){return ps(cs(),e,t,n)}function ms(e){var t=ls();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:e}).dispatch=Ls.bind(null,es,e),[t.memoizedState,e]}function vs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=es.updateQueue)?(t={lastEffect:null},es.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ys(e){return e={current:e},ls().memoizedState=e}function bs(){return cs().memoizedState}function ws(e,t,n,r){var i=ls();es.flags|=e,i.memoizedState=vs(1|t,n,void 0,void 0===r?null:r)}function xs(e,t,n,r){var i=cs();r=void 0===r?null:r;var o=void 0;if(null!==ts){var s=ts.memoizedState;if(o=s.destroy,null!==r&&ss(r,s.deps))return void vs(t,n,o,r)}es.flags|=e,i.memoizedState=vs(1|t,n,o,r)}function ks(e,t){return ws(516,4,e,t)}function Cs(e,t){return xs(516,4,e,t)}function Ss(e,t){return xs(4,2,e,t)}function _s(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Os(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xs(4,2,_s.bind(null,t,e),n)}function Es(){}function Ts(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function As(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $s(e,t){var n=Vi();Ui(98>n?98:n,(function(){e(!0)})),Ui(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Ls(e,t,n){var r=dl(),i=fl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===es||null!==s&&s===es)is=rs=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,ur(l,a))return}catch(c){}pl(e,i,r)}}var Rs={readContext:so,useCallback:os,useContext:os,useEffect:os,useImperativeHandle:os,useLayoutEffect:os,useMemo:os,useReducer:os,useRef:os,useState:os,useDebugValue:os,useDeferredValue:os,useTransition:os,useMutableSource:os,useOpaqueIdentifier:os,unstable_isNewReconciler:!1},Ps={readContext:so,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:so,useEffect:ks,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ws(4,2,_s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ws(4,2,e,t)},useMemo:function(e,t){var n=ls();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ls();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ls.bind(null,es,e),[r.memoizedState,e]},useRef:ys,useState:ms,useDebugValue:Es,useDeferredValue:function(e){var t=ms(e),n=t[0],r=t[1];return ks((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ms(!1),t=e[0];return ys(e=$s.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ls();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ps(r,e,t,n)},useOpaqueIdentifier:function(){if(Zo){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(s(355))})),n=ms(t)[1];return 0===(2&es.mode)&&(es.flags|=516,vs(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return ms(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Ms={readContext:so,useCallback:Ts,useContext:so,useEffect:Cs,useImperativeHandle:Os,useLayoutEffect:Ss,useMemo:As,useReducer:hs,useRef:bs,useState:function(){return hs(us)},useDebugValue:Es,useDeferredValue:function(e){var t=hs(us),n=t[0],r=t[1];return Cs((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=hs(us)[0];return[bs().current,e]},useMutableSource:gs,useOpaqueIdentifier:function(){return hs(us)[0]},unstable_isNewReconciler:!1},Ds={readContext:so,useCallback:Ts,useContext:so,useEffect:Cs,useImperativeHandle:Os,useLayoutEffect:Ss,useMemo:As,useReducer:ds,useRef:bs,useState:function(){return ds(us)},useDebugValue:Es,useDeferredValue:function(e){var t=ds(us),n=t[0],r=t[1];return Cs((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ds(us)[0];return[bs().current,e]},useMutableSource:gs,useOpaqueIdentifier:function(){return ds(us)[0]},unstable_isNewReconciler:!1},js=x.ReactCurrentOwner,Ns=!1;function Is(e,t,n,r){t.child=null===e?To(t,null,n,r):Eo(t,e.child,n,r)}function Fs(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=as(e,t,n,r,o,i),null===e||Ns?(t.flags|=1,Is(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function Bs(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!==typeof s||Wl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Hs(e,t,s,r,i,o))}return s=e.child,0===(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?oa(e,t,o):(t.flags|=1,(e=Ul(s,r)).ref=t.ref,e.return=t,t.child=e)}function Hs(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Ns=!1,0===(o&i))return t.lanes=e.lanes,oa(e,t,o);0!==(16384&e.flags)&&(Ns=!0)}return Vs(e,t,n,r,o)}function Zs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},kl(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},kl(t,e),null;t.memoizedState={baseLanes:0},kl(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,kl(t,r);return Is(e,t,i,n),t.child}function zs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Vs(e,t,n,r,i){var o=vi(n)?gi:fi.current;return o=mi(t,o),oo(t,i),n=as(e,t,n,r,o,i),null===e||Ns?(t.flags|=1,Is(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function Ws(e,t,n,r,i){if(vi(n)){var o=!0;xi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),ko(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=so(c):c=mi(t,c=vi(n)?gi:fi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&xo(t,s,r,c),ao=!1;var d=t.memoizedState;s.state=d,po(t,r,s,i),l=t.memoizedState,a!==r||d!==l||pi.current||ao?("function"===typeof u&&(vo(t,n,u,r),l=t.memoizedState),(a=ao||bo(t,n,a,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4)):("function"===typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,co(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Xi(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=so(l):l=mi(t,l=vi(n)?gi:fi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&xo(t,s,r,l),ao=!1,d=t.memoizedState,s.state=d,po(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||pi.current||ao?("function"===typeof f&&(vo(t,n,f,r),p=t.memoizedState),(c=ao||bo(t,n,c,r,d,p,l))?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Us(e,t,n,r,o,i)}function Us(e,t,n,r,i,o){zs(e,t);var s=0!==(64&t.flags);if(!r&&!s)return i&&ki(t,n,!1),oa(e,t,o);r=t.stateNode,js.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,a,o)):Is(e,t,a,o),t.memoizedState=r.state,i&&ki(t,n,!0),t.child}function Gs(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Mo(e,t.containerInfo)}var qs,Ks,Ys,Xs={dehydrated:null,retryLane:0};function Js(e,t,n){var r,i=t.pendingProps,o=Io.current,s=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),hi(Io,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,s?(e=Qs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xs,e):"number"===typeof i.unstable_expectedLoadTime?(e=Qs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xs,t.lanes=33554432,e):((n=Kl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=ta(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Xs,i):(n=ea(e,t,i.children,n),t.memoizedState=null,n))}function Qs(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Kl(t,i,0,null),n=ql(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ea(e,t,n,r){var i=e.child;return e=i.sibling,n=Ul(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ta(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0===(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ul(s,a),null!==e?r=Ul(e,r):(r=ql(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function na(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function ra(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function ia(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Is(e,t,r.children,n),0!==(2&(r=Io.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&na(e,n);else if(19===e.tag)na(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Io,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ra(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ra(t,!0,n,null,o,t.lastEffect);break;case"together":ra(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function oa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ha|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ul(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ul(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function sa(e,t){if(!Zo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function aa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(t.type)&&yi(),null;case 3:return Do(),ui(pi),ui(fi),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Go(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:No(t);var o=Po(Ro.current);if(n=t.type,null!==e&&null!=t.stateNode)Ks(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Po($o.current),Go(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Jr]=t,r[Qr]=a,n){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(e=0;e<Or.length;e++)$r(Or[e],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":ee(r,a),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},$r("invalid",r);break;case"textarea":le(r,a),$r("invalid",r)}for(var c in Se(n,a),e=null,a)a.hasOwnProperty(c)&&(o=a[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&$r("scroll",r));switch(n){case"input":Y(r),re(r,a,!0);break;case"textarea":Y(r),ue(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Qr]=r,qs(e,t),t.stateNode=e,c=_e(n,r),n){case"dialog":$r("cancel",e),$r("close",e),o=r;break;case"iframe":case"object":case"embed":$r("load",e),o=r;break;case"video":case"audio":for(o=0;o<Or.length;o++)$r(Or[o],e);o=r;break;case"source":$r("error",e),o=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),o=r;break;case"details":$r("toggle",e),o=r;break;case"input":ee(e,r),o=Q(e,r),$r("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),$r("invalid",e);break;case"textarea":le(e,r),o=ae(e,r),$r("invalid",e);break;default:o=r}Se(n,o);var u=o;for(a in u)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?ke(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ve(e,h):"children"===a?"string"===typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"===typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&$r("scroll",e):null!=h&&w(e,a,h,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Br)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ys(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=Po(Ro.current),Po($o.current),Go(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ui(Io),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Go(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Io.current)?0===Ia&&(Ia=3):(0!==Ia&&3!==Ia||(Ia=4),null===Pa||0===(134217727&Ha)&&0===(134217727&Za)||yl(Pa,Da))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ui(Io),null===(r=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(c=r.rendering))if(a)sa(r,!1);else{if(0!==Ia||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fo(e))){for(t.flags|=64,sa(r,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(Io,1&Io.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ua&&(t.flags|=64,a=!0,sa(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Fo(c))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),sa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Zo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ua&&1073741824!==n&&(t.flags|=64,a=!0,sa(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Io.current,hi(Io,a?1&t|2:1&t),n):null;case 23:case 24:return Cl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function la(e){switch(e.tag){case 1:vi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ui(pi),ui(fi),Yo(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return No(e),null;case 13:return ui(Io),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Io),null;case 4:return Do(),null;case 10:return ro(e),null;case 23:case 24:return Cl(),null;default:return null}}function ca(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}qs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ks=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po($o.current);var s,a=null;switch(n){case"input":o=Q(e,o),r=Q(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(h in Se(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var u=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(h,n)),n=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(h,u)):"children"===h?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&$r("scroll",e),a||c===u||(a=[])):"object"===typeof u&&null!==u&&u.$$typeof===D?u.toString():(a=a||[]).push(h,u))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Ys=function(e,t,n,r){n!==r&&(t.flags|=4)};var ha="function"===typeof WeakMap?WeakMap:Map;function da(e,t,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ya||(Ya=!0,Xa=r),ua(0,t)},n}function fa(e,t,n){(n=uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ua(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ja?Ja=new Set([this]):Ja.add(this),ua(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pa="function"===typeof WeakSet?WeakSet:Set;function ga(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bl(e,n)}else t.current=null}function ma(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(s(163))}function va(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Nl(n,e),jl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&go(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}go(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&kt(n)))))}throw Error(s(163))}function ya(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=xe("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ba(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(Ci,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Nl(t,n);else{r=t;try{i()}catch(o){Bl(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ga(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Bl(t,o)}break;case 5:ga(t);break;case 4:_a(e,t)}}function wa(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function xa(e){return 5===e.tag||3===e.tag||4===e.tag}function ka(e){e:{for(var t=e.return;null!==t;){if(xa(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||xa(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ca(e,n,t):Sa(e,n,t)}function Ca(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(Ca(e,t,n),e=e.sibling;null!==e;)Ca(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function _a(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,c=l;;)if(ba(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ba(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Oa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?ke(n,l):"dangerouslySetInnerHTML"===a?ve(n,l):"children"===a?ye(n,l):w(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,kt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wa=zi(),ya(t.child,!0)),void Ea(t);case 19:return void Ea(t);case 23:case 24:return void ya(t,null!==t.memoizedState)}throw Error(s(163))}function Ea(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pa),t.forEach((function(t){var r=Zl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ta(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Aa=Math.ceil,$a=x.ReactCurrentDispatcher,La=x.ReactCurrentOwner,Ra=0,Pa=null,Ma=null,Da=0,ja=0,Na=ci(0),Ia=0,Fa=null,Ba=0,Ha=0,Za=0,za=0,Va=null,Wa=0,Ua=1/0;function Ga(){Ua=zi()+500}var qa,Ka=null,Ya=!1,Xa=null,Ja=null,Qa=!1,el=null,tl=90,nl=[],rl=[],il=null,ol=0,sl=null,al=-1,ll=0,cl=0,ul=null,hl=!1;function dl(){return 0!==(48&Ra)?zi():-1!==al?al:al=zi()}function fl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Vi()?1:2;if(0===ll&&(ll=Ba),0!==Yi.transition){0!==cl&&(cl=null!==Va?Va.pendingLanes:0),e=ll;var t=4186112&~cl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Vi(),0!==(4&Ra)&&98===e?e=Bt(12,ll):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function pl(e,t,n){if(50<ol)throw ol=0,sl=null,Error(s(185));if(null===(e=gl(e,t)))return null;zt(e,t,n),e===Pa&&(Za|=t,4===Ia&&yl(e,Da));var r=Vi();1===t?0!==(8&Ra)&&0===(48&Ra)?bl(e):(ml(e,n),0===Ra&&(Ga(),qi())):(0===(4&Ra)||98!==r&&99!==r||(null===il?il=new Set([e]):il.add(e)),ml(e,n)),Va=e}function gl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ml(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Vt(a),c=1<<l,u=o[l];if(-1===u){if(0===(c&r)||0!==(c&i)){u=t,Nt(c);var h=jt;o[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);a&=~c}if(r=It(e,e===Pa?Da:0),t=jt,0===r)null!==n&&(n!==Ni&&Ei(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ni&&Ei(n)}15===t?(n=bl.bind(null,e),null===Fi?(Fi=[n],Bi=Oi(Ri,Ki)):Fi.push(n),n=Ni):14===t?n=Gi(99,bl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Gi(n,vl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function vl(e){if(al=-1,cl=ll=0,0!==(48&Ra))throw Error(s(327));var t=e.callbackNode;if(Dl()&&e.callbackNode!==t)return null;var n=It(e,e===Pa?Da:0);if(0===n)return null;var r=n,i=Ra;Ra|=16;var o=Ol();for(Pa===e&&Da===r||(Ga(),Sl(e,r));;)try{Al();break}catch(l){_l(e,l)}if(no(),$a.current=o,Ra=i,null!==Ma?r=0:(Pa=null,Da=0,r=Ia),0!==(Ba&Za))Sl(e,0);else if(0!==r){if(2===r&&(Ra|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=El(e,n))),1===r)throw t=Fa,Sl(e,0),yl(e,n),ml(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:Rl(e);break;case 3:if(yl(e,n),(62914560&n)===n&&10<(r=Wa+500-zi())){if(0!==It(e,0))break;if(((i=e.suspendedLanes)&n)!==n){dl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Rl.bind(null,e),r);break}Rl(e);break;case 4:if(yl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Vt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Aa(n/1960))-n)){e.timeoutHandle=Wr(Rl.bind(null,e),n);break}Rl(e);break;default:throw Error(s(329))}}return ml(e,zi()),e.callbackNode===t?vl.bind(null,e):null}function yl(e,t){for(t&=~za,t&=~Za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function bl(e){if(0!==(48&Ra))throw Error(s(327));if(Dl(),e===Pa&&0!==(e.expiredLanes&Da)){var t=Da,n=El(e,t);0!==(Ba&Za)&&(n=El(e,t=It(e,t)))}else n=El(e,t=It(e,0));if(0!==e.tag&&2===n&&(Ra|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=El(e,t))),1===n)throw n=Fa,Sl(e,0),yl(e,t),ml(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rl(e),ml(e,zi()),null}function wl(e,t){var n=Ra;Ra|=1;try{return e(t)}finally{0===(Ra=n)&&(Ga(),qi())}}function xl(e,t){var n=Ra;Ra&=-2,Ra|=8;try{return e(t)}finally{0===(Ra=n)&&(Ga(),qi())}}function kl(e,t){hi(Na,ja),ja|=t,Ba|=t}function Cl(){ja=Na.current,ui(Na)}function Sl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ur(n)),null!==Ma)for(n=Ma.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Do(),ui(pi),ui(fi),Yo();break;case 5:No(r);break;case 4:Do();break;case 13:case 19:ui(Io);break;case 10:ro(r);break;case 23:case 24:Cl()}n=n.return}Pa=e,Ma=Ul(e.current,null),Da=ja=Ba=t,Ia=0,Fa=null,za=Za=Ha=0}function _l(e,t){for(;;){var n=Ma;try{if(no(),Xo.current=Rs,rs){for(var r=es.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}rs=!1}if(Qo=0,ns=ts=es=null,is=!1,La.current=null,null===n||null===n.return){Ia=1,Fa=t,Ma=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Da,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!==(1&Io.current),d=s;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var g=d.memoizedProps;f=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!h)}}if(f){var m=d.updateQueue;if(null===m){var v=new Set;v.add(c),d.updateQueue=v}else m.add(c);if(0===(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=uo(-1,1);y.tag=2,ho(a,y)}a.lanes|=1;break e}l=void 0,a=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ha,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(a)){l.add(a);var w=Hl.bind(null,o,c,a);c.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((G(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ia&&(Ia=2),l=ca(l,a),d=s;do{switch(d.tag){case 3:o=l,d.flags|=4096,t&=-t,d.lanes|=t,fo(d,da(0,o,t));break e;case 1:o=l;var x=d.type,k=d.stateNode;if(0===(64&d.flags)&&("function"===typeof x.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ja||!Ja.has(k)))){d.flags|=4096,t&=-t,d.lanes|=t,fo(d,fa(d,o,t));break e}}d=d.return}while(null!==d)}Ll(n)}catch(C){t=C,Ma===n&&null!==n&&(Ma=n=n.return);continue}break}}function Ol(){var e=$a.current;return $a.current=Rs,null===e?Rs:e}function El(e,t){var n=Ra;Ra|=16;var r=Ol();for(Pa===e&&Da===t||Sl(e,t);;)try{Tl();break}catch(i){_l(e,i)}if(no(),Ra=n,$a.current=r,null!==Ma)throw Error(s(261));return Pa=null,Da=0,Ia}function Tl(){for(;null!==Ma;)$l(Ma)}function Al(){for(;null!==Ma&&!Ti();)$l(Ma)}function $l(e){var t=qa(e.alternate,e,ja);e.memoizedProps=e.pendingProps,null===t?Ll(e):Ma=t,La.current=null}function Ll(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=aa(n,t,ja)))return void(Ma=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&ja)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=la(t)))return n.flags&=2047,void(Ma=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ma=t);Ma=t=e}while(null!==t);0===Ia&&(Ia=5)}function Rl(e){var t=Vi();return Ui(99,Pl.bind(null,e,t)),null}function Pl(e,t){do{Dl()}while(null!==el);if(0!==(48&Ra))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-Vt(o),u=1<<c;i[c]=0,a[c]=-1,l[c]=-1,o&=~u}if(null!==il&&0===(24&r)&&il.has(e)&&il.delete(e),e===Pa&&(Ma=Pa=null,Da=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ra,Ra|=32,La.current=null,Hr=Kt,vr(a=mr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(O){l=null;break e}var h=0,d=-1,f=-1,p=0,g=0,m=a,v=null;t:for(;;){for(var y;m!==l||0!==o&&3!==m.nodeType||(d=h+o),m!==c||0!==u&&3!==m.nodeType||(f=h+u),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)v=m,m=y;for(;;){if(m===a)break t;if(v===l&&++p===o&&(d=h),v===c&&++g===u&&(f=h),null!==(y=m.nextSibling))break;v=(m=v).parentNode}m=y}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Zr={focusedElem:a,selectionRange:l},Kt=!1,ul=null,hl=!1,Ka=r;do{try{Ml()}catch(O){if(null===Ka)throw Error(s(330));Bl(Ka,O),Ka=Ka.nextEffect}}while(null!==Ka);ul=null,Ka=r;do{try{for(a=e;null!==Ka;){var b=Ka.flags;if(16&b&&ye(Ka.stateNode,""),128&b){var w=Ka.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:ka(Ka),Ka.flags&=-3;break;case 6:ka(Ka),Ka.flags&=-3,Oa(Ka.alternate,Ka);break;case 1024:Ka.flags&=-1025;break;case 1028:Ka.flags&=-1025,Oa(Ka.alternate,Ka);break;case 4:Oa(Ka.alternate,Ka);break;case 8:_a(a,l=Ka);var k=l.alternate;wa(l),null!==k&&wa(k)}Ka=Ka.nextEffect}}catch(O){if(null===Ka)throw Error(s(330));Bl(Ka,O),Ka=Ka.nextEffect}}while(null!==Ka);if(x=Zr,w=mr(),b=x.focusedElem,a=x.selectionRange,w!==b&&b&&b.ownerDocument&&gr(b.ownerDocument.documentElement,b)){null!==a&&vr(b)&&(w=a.start,void 0===(x=a.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,k=Math.min(a.start,l),a=void 0===a.end?k:Math.min(a.end,l),!x.extend&&k>a&&(l=a,a=k,k=l),l=pr(b,k),o=pr(b,a),l&&o&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),k>a?(x.addRange(w),x.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Kt=!!Hr,Zr=Hr=null,e.current=n,Ka=r;do{try{for(b=e;null!==Ka;){var C=Ka.flags;if(36&C&&va(b,Ka.alternate,Ka),128&C){w=void 0;var S=Ka.ref;if(null!==S){var _=Ka.stateNode;Ka.tag,w=_,"function"===typeof S?S(w):S.current=w}}Ka=Ka.nextEffect}}catch(O){if(null===Ka)throw Error(s(330));Bl(Ka,O),Ka=Ka.nextEffect}}while(null!==Ka);Ka=null,Ii(),Ra=i}else e.current=n;if(Qa)Qa=!1,el=e,tl=t;else for(Ka=r;null!==Ka;)t=Ka.nextEffect,Ka.nextEffect=null,8&Ka.flags&&((C=Ka).sibling=null,C.stateNode=null),Ka=t;if(0===(r=e.pendingLanes)&&(Ja=null),1===r?e===sl?ol++:(ol=0,sl=e):ol=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(Ci,n,void 0,64===(64&n.current.flags))}catch(O){}if(ml(e,zi()),Ya)throw Ya=!1,e=Xa,Xa=null,e;return 0!==(8&Ra)||qi(),null}function Ml(){for(;null!==Ka;){var e=Ka.alternate;hl||null===ul||(0!==(8&Ka.flags)?et(Ka,ul)&&(hl=!0):13===Ka.tag&&Ta(e,Ka)&&et(Ka,ul)&&(hl=!0));var t=Ka.flags;0!==(256&t)&&ma(e,Ka),0===(512&t)||Qa||(Qa=!0,Gi(97,(function(){return Dl(),null}))),Ka=Ka.nextEffect}}function Dl(){if(90!==tl){var e=97<tl?97:tl;return tl=90,Ui(e,Il)}return!1}function jl(e,t){nl.push(t,e),Qa||(Qa=!0,Gi(97,(function(){return Dl(),null})))}function Nl(e,t){rl.push(t,e),Qa||(Qa=!0,Gi(97,(function(){return Dl(),null})))}function Il(){if(null===el)return!1;var e=el;if(el=null,0!==(48&Ra))throw Error(s(331));var t=Ra;Ra|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"===typeof a)try{a()}catch(c){if(null===o)throw Error(s(330));Bl(o,c)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(null===o)throw Error(s(330));Bl(o,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ra=t,qi(),!0}function Fl(e,t,n){ho(e,t=da(0,t=ca(n,t),1)),t=dl(),null!==(e=gl(e,1))&&(zt(e,1,t),ml(e,t))}function Bl(e,t){if(3===e.tag)Fl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ja||!Ja.has(r))){var i=fa(n,e=ca(t,e),1);if(ho(n,i),i=dl(),null!==(n=gl(n,1)))zt(n,1,i),ml(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ja||!Ja.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Hl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=dl(),e.pingedLanes|=e.suspendedLanes&n,Pa===e&&(Da&n)===n&&(4===Ia||3===Ia&&(62914560&Da)===Da&&500>zi()-Wa?Sl(e,0):za|=n),ml(e,t)}function Zl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Vi()?1:2:(0===ll&&(ll=Ba),0===(t=Ht(62914560&~ll))&&(t=4194304))),n=dl(),null!==(e=gl(e,t))&&(zt(e,t,n),ml(e,n))}function zl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vl(e,t,n,r){return new zl(e,t,n,r)}function Wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ul(e,t){var n=e.alternate;return null===n?((n=Vl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gl(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Wl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return ql(n.children,i,o,t);case j:a=8,i|=16;break;case _:a=8,i|=1;break;case O:return(e=Vl(12,n,t,8|i)).elementType=O,e.type=O,e.lanes=o,e;case $:return(e=Vl(13,n,t,i)).type=$,e.elementType=$,e.lanes=o,e;case L:return(e=Vl(19,n,t,i)).elementType=L,e.lanes=o,e;case N:return Kl(n,i,o,t);case I:return(e=Vl(24,n,t,i)).elementType=I,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case T:a=9;break e;case A:a=11;break e;case R:a=14;break e;case P:a=16,r=null;break e;case M:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Vl(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function ql(e,t,n,r){return(e=Vl(7,e,r,t)).lanes=n,e}function Kl(e,t,n,r){return(e=Vl(23,e,r,t)).elementType=N,e.lanes=n,e}function Yl(e,t,n){return(e=Vl(6,e,null,t)).lanes=n,e}function Xl(e,t,n){return(t=Vl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zt(0),this.expirationTimes=Zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zt(0),this.mutableSourceEagerHydrationData=null}function Ql(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=dl(),a=fl(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(vi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var c=n.type;if(vi(c)){n=wi(n,c,l);break e}}n=l}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ho(i,t),pl(i,a,o),a}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Jl(e,t,null!=n&&!0===n.hydrate),t=Vl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,lo(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function sc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=tc(s);a.call(e)}}ec(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=tc(s);l.call(e)}}xl((function(){ec(t,s,e,i)}))}return tc(s)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(s(200));return Ql(e,t,null,n)}qa=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Ns=!0;else{if(0===(n&r)){switch(Ns=!1,t.tag){case 3:Gs(t),qo();break;case 5:jo(t);break;case 1:vi(t.type)&&xi(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Js(e,t,n):(hi(Io,1&Io.current),null!==(t=oa(e,t,n))?t.sibling:null);hi(Io,1&Io.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ia(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Io,Io.current),r)break;return null;case 23:case 24:return t.lanes=0,Zs(e,t,n)}return oa(e,t,n)}Ns=0!==(16384&e.flags)}else Ns=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,fi.current),oo(t,n),i=as(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;xi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,lo(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&vo(t,r,a,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,ko(t,r,e,n),t=Us(null,t,r,!0,o,n)}else t.tag=0,Is(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Wl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Vs(null,t,i,e,n);break e;case 1:t=Ws(null,t,i,e,n);break e;case 11:t=Fs(null,t,i,e,n);break e;case 14:t=Bs(null,t,i,Xi(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vs(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ws(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Gs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)qo(),t=oa(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Ho=qr(t.stateNode.containerInfo.firstChild),Bo=t,o=Zo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ko.push(o);for(n=To(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Is(e,t,r,n),qo();t=t.child}return t;case 5:return jo(t),null===e&&Wo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,Vr(r,i)?a=null:null!==o&&Vr(r,o)&&(t.flags|=16),zs(e,t),Is(e,t,a,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Js(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Eo(t,null,r,n):Is(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fs(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Is(e,t,t.pendingProps,n),t.child;case 8:case 12:return Is(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var l=t.type._context;if(hi(Ji,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0===(o=ur(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!pi.current){t=oa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===l.tag&&((u=uo(-1,n&-n)).tag=2,ho(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),io(l.return,n),c.lanes|=n;break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Is(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=so(i,o.unstable_observedBits)),t.flags|=1,Is(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Bs(e,t,i,o=Xi(i.type,o),r,n);case 15:return Hs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,xi(t)):e=!1,oo(t,n),wo(t,r,i),ko(t,r,i,n),Us(null,t,r,!0,e,n);case 19:return ia(e,t,n);case 23:case 24:return Zs(e,t,n)}throw Error(s(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pl(e,4,dl()),rc(e,4))},nt=function(e){13===e.tag&&(pl(e,67108864,dl()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=dl(),n=fl(e);pl(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ee=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(s(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Pe=wl,Me=function(e,t,n,r,i){var o=Ra;Ra|=4;try{return Ui(98,e.bind(null,t,n,r,i))}finally{0===(Ra=o)&&(Ga(),qi())}},De=function(){0===(49&Ra)&&(function(){if(null!==il){var e=il;il=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ml(e,zi())}))}qi()}(),Dl())},je=function(e,t){var n=Ra;Ra|=2;try{return e(t)}finally{0===(Ra=n)&&(Ga(),qi())}};var lc={Events:[ri,ii,oi,Le,Re,Dl,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Ci=hc.inject(uc),Si=hc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lc,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ra;if(0!==(48&n))return e(t);Ra|=1;try{if(e)return Ui(99,e.bind(null,t))}finally{Ra=n,qi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(s(200));return sc(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(s(200));return sc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(s(40));return!!e._reactRootContainer&&(xl((function(){sc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wl,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return sc(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),s=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var b=y.prototype=new v;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var _=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return s=s(l=e),e=""===r?"."+O(l,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),E(s,t,n,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+O(a=e[c],c);l+=E(a,t,n,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=E(a=a.value,t,n,u=r+O(a,c++),s);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return E(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var $={current:null};function L(){var e=$.current;if(null===e)throw Error(f(321));return e}var R={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(f(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var o=r({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)x.call(t,u)&&!k.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+y;try{m(!0,e)?x.postMessage(null):(g=!1,m=null)}catch(n){throw x.postMessage(null),n}}else g=!1},n=function(e){m=e,g||(g=!0,x.postMessage(null))},r=function(e,n){v=d((function(){e(t.unstable_now())}),n)},i=function(){f(v),v=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>_(s,n))void 0!==l&&0>_(l,s)?(e[r]=l,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>_(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],E=[],T=1,A=null,$=3,L=!1,R=!1,P=!1;function M(e){for(var t=C(E);null!==t;){if(null===t.callback)S(E);else{if(!(t.startTime<=e))break;S(E),t.sortIndex=t.expirationTime,k(O,t)}t=C(E)}}function D(e){if(P=!1,M(e),!R)if(null!==C(O))R=!0,n(j);else{var t=C(E);null!==t&&r(D,t.startTime-e)}}function j(e,n){R=!1,P&&(P=!1,i()),L=!0;var o=$;try{for(M(n),A=C(O);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=A.callback;if("function"===typeof s){A.callback=null,$=A.priorityLevel;var a=s(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?A.callback=a:A===C(O)&&S(O),M(n)}else S(O);A=C(O)}if(null!==A)var l=!0;else{var c=C(E);null!==c&&r(D,c.startTime-n),l=!1}return l}finally{A=null,$=o,L=!1}}var N=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||L||(R=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return $},t.unstable_getFirstCallbackNode=function(){return C(O)},t.unstable_next=function(e){switch($){case 1:case 2:case 3:var t=3;break;default:t=$}var n=$;$=t;try{return e()}finally{$=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=$;$=e;try{return t()}finally{$=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:T++,callback:o,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,k(E,e),null===C(O)&&e===C(E)&&(P?i():P=!0,r(D,s-a))):(e.sortIndex=l,k(O,e),R||L||(R=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=$;return function(){var n=$;$=t;try{return e.apply(this,arguments)}finally{$=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},8416:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,l,"next",e)}function l(e){r(s,i,o,a,l,"throw",e)}a(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},7277:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(1120),i=n(8814),o=n(1002),s=n(7326);function a(e,t){if(t&&("object"===(0,o.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,s.Z)(e)}function l(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),s=new _(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=k(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=h(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var d={};function f(){}function p(){}function g(){}var m={};c(m,s,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==t&&n.call(y,s)&&(m=y);var b=g.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(o,s,a,l){var c=h(e[o],e,s);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,l)}),(function(e){i("throw",e,a,l)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,l)}))}l(c.arg)}var o;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=h(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=g,c(b,"constructor",g),c(g,"constructor",p),p.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),c(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new x(u(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(b),c(b,l,"Generator"),c(b,s,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(3878);var i=n(181),o=n(5267);function s(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(907);var i=n(9199),o=n(181);function s(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},8737:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1120),i=n(9611);var o=n(8814);function s(e,t,n){return s=(0,o.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&(0,i.Z)(o,n.prototype),o},s.apply(null,arguments)}function a(e){var t="function"===typeof Map?new Map:void 0;return a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return s(e,arguments,(0,r.Z)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(o,e)},a(e)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){s[e]=function(){return r[e]}}));return s.default=function(){return r},n.d(o,s),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{61:"a38a8a27",91:"d264d94b",95:"44dcce5e",114:"f87915d1",136:"f00b252c",152:"6baad145",201:"5a2cd73c",230:"0c8aff82",258:"b70d8235",304:"36458bfe",341:"27fbc01b",423:"9e92c709",438:"83cc2bcd",472:"9df05204",505:"37ad35a2",530:"823c9345",542:"3d13bc35",558:"a1ed5a1f",560:"8830bae2",566:"4abacdaf",572:"5a8c1359",578:"5f07e307",582:"25812f13",651:"2862af22",658:"2f9655a4",661:"80c335c4",737:"db23d7d1",789:"f0c5171c",880:"0a7662e3",897:"439a0632",899:"9fbf6046",906:"50a82561",913:"6f5c8a81",941:"5f4c5de5",981:"b737baa4",988:"e67dfda8"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="playground-showcase:";n.l=function(r,i,o,s){if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var d=function(t,n){a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="./",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkplayground_showcase=self.webpackChunkplayground_showcase||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e,t=n(2791),r=n(4164),i=n(3433),o=n(5671),s=n(3144),a=n(136),l=n(7277),c=n(9439),u=n(8737);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var d,f="popstate";function p(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function g(e){return{usr:e.state,key:e.key}}function m(e,t,n,r){return void 0===n&&(n=null),h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function v(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,s=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),s&&"#"!==s&&(n+="#"===s.charAt(0)?s:"#"+s),n}function y(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function b(t,n,r,i){void 0===i&&(i={});var o=i,s=o.window,a=void 0===s?document.defaultView:s,l=o.v5Compat,c=void 0!==l&&l,u=a.history,h=e.Pop,d=null;function p(){h=e.Pop,d&&d({action:h,location:v.location})}var v={get action(){return h},get location(){return t(a,u)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(f,p),d=e,function(){a.removeEventListener(f,p),d=null}},createHref:function(e){return n(a,e)},push:function(t,n){h=e.Push;var i=m(v.location,t,n);r&&r(i,t);var o=g(i),s=v.createHref(i);try{u.pushState(o,"",s)}catch(l){a.location.assign(s)}c&&d&&d({action:h,location:i})},replace:function(t,n){h=e.Replace;var i=m(v.location,t,n);r&&r(i,t);var o=g(i),s=v.createHref(i);u.replaceState(o,"",s),c&&d&&d({action:h,location:i})},go:function(e){return u.go(e)}};return v}function w(e,t,n){void 0===n&&(n="/");var r=E(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=x(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,s=0;null==o&&s<i.length;++s)o=_(i[s],r);return o}function x(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(T(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=R([r,o.relativePath]),a=n.concat(o);e.children&&e.children.length>0&&(T(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),x(e.children,t,a,s)),(null!=e.path||e.index)&&t.push({path:s,score:S(s,e.index),routesMeta:a})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(d||(d={}));var k=/^:\w+$/,C=function(e){return"*"===e};function S(e,t){var n=e.split("/"),r=n.length;return n.some(C)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!C(e)})).reduce((function(e,t){return e+(k.test(t)?3:""===t?1:10)}),r)}function _(e,t){for(var n=e.routesMeta,r={},i="/",o=[],s=0;s<n.length;++s){var a=n[s],l=s===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=O({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);var h=a.route;o.push({params:r,pathname:R([i,u.pathname]),pathnameBase:P(R([i,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(i=R([i,u.pathnameBase]))}return o}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);A("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,c.Z)(n,2),i=r[0],o=r[1],s=t.match(i);if(!s)return null;var a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=u[n]||"";l=a.slice(0,a.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return A(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(u[n]||"",t),e}),{}),pathname:a,pathnameBase:l,pattern:e}}function E(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function T(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function A(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function $(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=y(e):(T(!(i=h({},e)).pathname||!i.pathname.includes("?"),$("?","pathname","search",i)),T(!i.pathname||!i.pathname.includes("#"),$("#","pathname","hash",i)),T(!i.search||!i.search.includes("#"),$("#","search","hash",i)));var o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(r||null==a)o=n;else{var l=t.length-1;if(a.startsWith("..")){for(var c=a.split("/");".."===c[0];)c.shift(),l-=1;i.pathname=c.join("/")}o=l>=0?t[l]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,s=n.hash,a=void 0===s?"":s,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:M(o),hash:D(a)}}(i,o),d=a&&"/"!==a&&a.endsWith("/"),f=(s||"."===a)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}var R=function(e){return e.join("/").replace(/\/\/+/g,"/")},P=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},M=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},D=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},j=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}((0,u.Z)(Error));var N=(0,s.Z)((function e(t,n,r){(0,o.Z)(this,e),this.status=t,this.statusText=n||"",this.data=r}));function I(e){return e instanceof N}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}var B="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},H=t.useState,Z=t.useEffect,z=t.useLayoutEffect,V=t.useDebugValue;function W(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!B(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement;var U=t.createContext(null);var G=t.createContext(null);var q=t.createContext(null);var K=t.createContext(null);var Y=t.createContext(null);var X=t.createContext(null);var J=t.createContext({outlet:null,matches:[]});var Q=t.createContext(null);function ee(){return null!=t.useContext(X)}function te(){return ee()||T(!1),t.useContext(X).location}function ne(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function re(){ee()||T(!1);var e=t.useContext(Y),n=e.basename,r=e.navigator,i=t.useContext(J).matches,o=te().pathname,s=JSON.stringify(ne(i).map((function(e){return e.pathnameBase}))),a=t.useRef(!1);return t.useEffect((function(){a.current=!0})),t.useCallback((function(e,t){if(void 0===t&&(t={}),a.current)if("number"!==typeof e){var i=L(e,JSON.parse(s),o,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:R([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,s,o])}var ie=t.createContext(null);function oe(){var e=function(){var e,n=t.useContext(Q),r=he(ae.UseRouteError),i=t.useContext(J),o=i.matches[i.matches.length-1];if(n)return n;return i||T(!1),!o.route.id&&T(!1),null==(e=r.errors)?void 0:e[o.route.id]}(),n=I(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:s},"errorElement")," props on\xa0",t.createElement("code",{style:s},"<Route>")))}var se,ae,le=function(e){(0,a.Z)(r,e);var n=(0,l.Z)(r);function r(e){var t;return(0,o.Z)(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return(0,s.Z)(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Q.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function ce(e){var n=e.routeContext,r=e.match,i=e.children,o=t.useContext(U);return o&&r.route.errorElement&&(o._deepestRenderedBoundaryId=r.route.id),t.createElement(J.Provider,{value:n},i)}function ue(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,o=null==r?void 0:r.errors;if(null!=o){var s=i.findIndex((function(e){return e.route.id&&(null==o?void 0:o[e.route.id])}));s>=0||T(!1),i=i.slice(0,Math.min(i.length,s+1))}return i.reduceRight((function(e,s,a){var l=s.route.id?null==o?void 0:o[s.route.id]:null,c=r?s.route.errorElement||t.createElement(oe,null):null,u=function(){return t.createElement(ce,{match:s,routeContext:{outlet:e,matches:n.concat(i.slice(0,a+1))}},l?c:void 0!==s.route.element?s.route.element:e)};return r&&(s.route.errorElement||0===a)?t.createElement(le,{location:r.location,component:c,error:l,children:u()}):u()}),null)}function he(e){var n=t.useContext(q);return n||T(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(se||(se={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(ae||(ae={}));var de;function fe(e){var n=e.to,r=e.replace,i=e.state,o=e.relative;ee()||T(!1);var s=t.useContext(q),a=re();return t.useEffect((function(){s&&"idle"!==s.navigation.state||a(n,{replace:r,state:i,relative:o})})),null}function pe(e){return function(e){var n=t.useContext(J).outlet;return n?t.createElement(ie.Provider,{value:e},n):n}(e.context)}function ge(e){T(!1)}function me(n){var r=n.basename,i=void 0===r?"/":r,o=n.children,s=void 0===o?null:o,a=n.location,l=n.navigationType,c=void 0===l?e.Pop:l,u=n.navigator,h=n.static,d=void 0!==h&&h;ee()&&T(!1);var f=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:f,navigator:u,static:d}}),[f,u,d]);"string"===typeof a&&(a=y(a));var g=a,m=g.pathname,v=void 0===m?"/":m,b=g.search,w=void 0===b?"":b,x=g.hash,k=void 0===x?"":x,C=g.state,S=void 0===C?null:C,_=g.key,O=void 0===_?"default":_,A=t.useMemo((function(){var e=E(v,f);return null==e?null:{pathname:e,search:w,hash:k,state:S,key:O}}),[f,v,w,k,S,O]);return null==A?null:t.createElement(Y.Provider,{value:p},t.createElement(X.Provider,{children:s,value:{location:A,navigationType:c}}))}function ve(n){var r=n.children,i=n.location,o=t.useContext(G);return function(n,r){ee()||T(!1);var i,o=t.useContext(q),s=t.useContext(J).matches,a=s[s.length-1],l=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,te());if(r){var h,d="string"===typeof r?y(r):r;"/"===c||(null==(h=d.pathname)?void 0:h.startsWith(c))||T(!1),i=d}else i=u;var f=i.pathname||"/",p=w(n,{pathname:"/"===c?f:f.slice(c.length)||"/"}),g=ue(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:R([c,e.pathname]),pathnameBase:"/"===e.pathnameBase?c:R([c,e.pathnameBase])})})),s,o||void 0);return r?t.createElement(X.Provider,{value:{location:F({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},g):g}(o&&!r?o.router.routes:be(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(de||(de={}));var ye=new Promise((function(){}));t.Component;function be(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,o){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==ge&&T(!1),e.props.index&&e.props.children&&T(!1);var s=[].concat((0,i.Z)(n),[o]),a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(a.children=be(e.props.children,s)),r.push(a)}else r.push.apply(r,be(e.props.children,n))})),r}var we=n(184);var xe=function(){return(0,we.jsx)("div",{className:"App",children:(0,we.jsx)(pe,{})})};function ke(e){var n,r=e.basename,i=e.children,o=e.window,s=t.useRef();null==s.current&&(s.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),b((function(e,t){var n=y(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,o=n.search,s=void 0===o?"":o,a=n.hash;return m("",{pathname:i,search:s,hash:void 0===a?"":a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,o=i.indexOf("#");r=-1===o?i:i.slice(0,o)}return r+"#"+("string"===typeof t?t:v(t))}),(function(e,t){p("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var a=s.current,l=t.useState({action:a.action,location:a.location}),u=(0,c.Z)(l,2),h=u[0],d=u[1];return t.useLayoutEffect((function(){return a.listen(d)}),[a]),t.createElement(me,{basename:r,children:i,location:h.location,navigationType:h.action,navigator:a})}var Ce,Se;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ce||(Ce={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Se||(Se={}));var _e,Oe=n(8703),Ee=n.n(Oe),Te=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,i=(0,t.useRef)((function(e){}));(0,t.useEffect)((function(){i.current=n}),[n]),(0,t.useEffect)((function(){if(r&&r.addEventListener){var t=function(e){return i.current(e)};return r.addEventListener(e,t),function(){r.removeEventListener(e,t)}}}),[e,r])},Ae={"Simple button":"\n<db-button>\n  Test-Button\n</db-button>\n","Simple select":'\n<db-select label="Pick a option">\n  <option>SUPER</option>\n  <option selected>AWESOME</option>\n  <option>SELECTION</option>\n  <option>OPTIONS</option>\n</db-select>\n',"Simple pagination":'\n<db-pagination currentpage="8" pages="9" count="3"></db-pagination>\n',"Advanced page":'\n<db-mainnavigation>\n  <db-link href="#" rel="index" aria-current="page">\n    Startseite\n  </db-link>\n  <db-link href="#" rel="offers">\n    Auftr\xe4ge\n  </db-link>\n</db-mainnavigation>\n\n<db-headline variant="1">Headline 1</db-headline>\n\n<db-expander summary="I\'m the summary">\n  <p>I\'m the content</p>\n</db-expander>\n<db-pagination currentpage="8" pages="9" count="3"></db-pagination>\n'},$e=n(5675),Le=n.n($e),Re=n(8399),Pe=(n(6209),n(1941),n(27),{CUSTOM_ELEMENT_HANDLING:{tagNameCheck:/^db-/,attributeNameCheck:/\w/,allowCustomizedBuiltInElements:!0}}),Me=function(e){var t,n=e.markup;return(0,we.jsx)("div",{className:"preview",dangerouslySetInnerHTML:(t=n,{__html:t})})},De=function(){var e=(0,t.useState)(localStorage.getItem("markup")||"Select component from above or write your own markup containing web-components"),n=(0,c.Z)(e,2),r=n[0],i=n[1],o=(0,t.useState)(""),s=(0,c.Z)(o,2),a=s[0],l=s[1],u=Object.keys(Ae);return Te("dbChange",(function(e){var t,n=null===(t=e.target)||void 0===t?void 0:t.value,r=Ae[n];r&&i(r),r&&l(r)})),(0,t.useEffect)((function(){var e=Ee().sanitize(r,Pe);l(e),localStorage.setItem("markup",e)}),[r]),(0,t.useEffect)((function(){Le().require("ace/ext/language_tools").addCompleter(function(){var e=["db-brand","db-breadcrumb","db-button","db-card","db-cards","db-checkbox","db-dropdown","db-expander","db-footer","db-header","db-headline","db-icon","db-image","db-input","db-language-switcher","db-link","db-linklist","db-mainnavigation","db-meta","db-metanavigation","db-notification","db-overflow-menu","db-page","db-pagination","db-progress","db-radio","db-select","db-sidenavi","db-tab","db-tab-bar","db-table","db-tag","db-textarea","db-toggle"];return{getCompletions:function(t,n,r,i,o){o(null,e.map((function(e){return{caption:e,value:e,meta:"db-ui"}})))}}}())}),[]),(0,we.jsxs)(we.Fragment,{children:[(0,we.jsxs)("div",{className:"grid-container",children:[(0,we.jsx)("div",{children:(0,we.jsxs)("db-select",{label:"Web-Component",name:"select-name-semitransparent",children:[(0,we.jsx)("option",{selected:!0,children:"---"}),u.map((function(e,t){return(0,we.jsx)("option",{children:e},"option".concat(t))}))]})}),(0,we.jsx)("div",{children:(0,we.jsx)("db-button",{variant:"secondary-outline",onClick:function(){return i("")},children:"Delete Local Storage"})})]}),(0,we.jsxs)("div",{className:"grid-split-container",children:[(0,we.jsx)("div",{className:"grid-split-left",children:(0,we.jsx)(Re.ZP,{mode:"html",theme:"monokai",onChange:function(e){return i(e)},name:"ace-editor",value:r||"",fontSize:16,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,height:"100%",width:"100%",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,showLineNumbers:!0}})}),(0,we.jsx)("div",{className:"grid-split-right",children:(0,we.jsx)(Me,{markup:a})})]})]})},je=n(1479),Ne=function(e){return e.replace(/([A-Z])/g,(function(e){return"-".concat(e[0].toLowerCase())}))},Ie=function(e,t,n){var r=t.className||t.class,i=n.className||n.class,o=He(e),s=He(r?r.split(" "):[]),a=He(i?i.split(" "):[]),l=[];return o.forEach((function(e){s.has(e)?(l.push(e),s.delete(e)):a.has(e)||l.push(e)})),s.forEach((function(e){return l.push(e)})),l.join(" ")},Fe=function(e){if("undefined"===typeof document)return!0;var t="on"+e,n=t in document;if(!n){var r=document.createElement("div");r.setAttribute(t,"return;"),n="function"===typeof r[t]}return n},Be=function(e,t,n){var r=e.__events||(e.__events={}),i=r[t];i&&e.removeEventListener(t,i),e.addEventListener(t,r[t]=function(e){n&&n.call(this,e)})},He=function(e){var t=new Map;return e.forEach((function(e){return t.set(e,e)})),t},Ze=function(e,t){"function"===typeof e?e(t):null!=e&&(e.current=t)},ze=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){Ze(t,e)}))}},Ve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},We=function(e,t,n,r){void 0!==r&&r();var i=e.toLowerCase().split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(""),c=function(t){(0,a.Z)(c,t);var r=(0,l.Z)(c);function c(e){var t;return(0,o.Z)(this,c),(t=r.call(this,e)).setComponentElRef=function(e){t.componentEl=e},t}return(0,s.Z)(c,[{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Element){var r=Ie(e.classList,t,n);""!==r&&(e.className=r),Object.keys(t).forEach((function(n){if("children"!==n&&"style"!==n&&"ref"!==n&&"class"!==n&&"className"!==n&&"forwardedRef"!==n)if(0===n.indexOf("on")&&n[2]===n[2].toUpperCase()){var r=n.substring(2),i=r[0].toLowerCase()+r.substring(1);Fe(i)||Be(e,i,t[n])}else e[n]=t[n],"string"===typeof t[n]&&e.setAttribute(Ne(n),t[n])}))}}(this.componentEl,this.props,e)}},{key:"render",value:function(){var t=this.props,r=t.children,i=t.forwardedRef,o=t.style,s=(t.className,t.ref,Ve(t,["children","forwardedRef","style","className","ref"])),a=Object.keys(s).reduce((function(e,t){var n=s[t];if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){var r=t.substring(2).toLowerCase();"undefined"!==typeof document&&Fe(r)&&(e[t]=n)}else{var i=typeof n;"string"!==i&&"boolean"!==i&&"number"!==i||(e[Ne(t)]=n)}return e}),{});n&&(a=n(this.props,a));var l=Object.assign(Object.assign({},a),{ref:ze(i,this.setComponentElRef),style:o});return(0,je.createElement)(e,l,r)}}],[{key:"displayName",get:function(){return i}}]),c}(je.Component);return t&&(c.contextType=t),function(e,t){var n=function(t,n){return je.createElement(e,Object.assign({},t,{forwardedRef:n}))};return n.displayName=t,je.forwardRef(n)}(c,i)},Ue=n(824);!function(){if("undefined"!==typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}(),"undefined"===typeof window?Promise.resolve():(0,Ue.p)().then((function(){return(0,Ue.b)([["db-card",[[4,"db-card",{alt:[513],header:[513],content:[513],image:[513],illustration:[513],uiCoreIllustrationPath:[513,"illustration-path"],variant:[513]}]]],["db-chip",[[4,"db-chip",{datatype:[513],disabled:[516],icon:[513],iconafter:[513],input_id:[513],name:[513],variant:[513]}]]],["db-link",[[4,"db-link",{current:[513],href:[513],hreflang:[513],icon:[513],iconVariant:[513,"icon-variant"],icononly:[516],media:[513],rel:[513],target:[513],type:[513],text:[513]}]]],["db-table",[[2,"db-table",{tabledata:[1],align:[513],verticalalign:[513],bodyalign:[513],bodyverticalalign:[513],border:[513],density:[513],fontsize:[513],stripes:[513],sticky:[513]}]]],["db-tag",[[4,"db-tag",{icon:[513],iconafter:[513],small:[516],variant:[513]}]]],["github-version-switcher",[[1,"github-version-switcher",{owner:[1],repo:[1],groups:[32],currentBranch:[32],cleanOwner:[32],cleanRepo:[32]}]]],["db-accordion",[[4,"db-accordion",{emphasis:[4],size:[1],summary:[1]}]]],["db-brand",[[4,"db-brand",{siteNameLink:[516,"site-name-link"],alt:[513],anchorRef:[513,"href"],anchorTitle:[513,"title"],anchorRelation:[513,"rel"],src:[513]}]]],["db-breadcrumb",[[4,"db-breadcrumb",{data:[513],ariaLabel:[513,"aria-label"]}]]],["db-cards",[[4,"db-cards"]]],["db-checkbox",[[2,"db-checkbox",{autofocus:[516],checked:[516],disabled:[516],input_id:[513],label:[513],name:[513],required:[516],value:[513],indeterminate:[4],setIndeterminate:[64]}]]],["db-dropdown",[[4,"db-dropdown",{data:[513],opposite:[516],summary:[513]}]]],["db-footer",[[4,"db-footer",{border:[4],copyright:[4],mobile:[4]}]]],["db-header",[[4,"db-header",{mobile:[4]}]]],["db-image",[[2,"db-image",{src:[513],modernformat:[1],srcset:[1],alt:[513],width:[514],height:[514],loading:[1],caption:[1],responsivemediaquery:[1],ariaid:[1]}]]],["db-input",[[6,"db-input",{ariainvalid:[513],ariarequired:[513],autocomplete:[513],autofocus:[516],description:[513],dirname:[513],disabled:[516],input_id:[513],label:[513],list:[513],maxlength:[514],minlength:[514],name:[513],pattern:[513],placeholder:[513],readonly:[516],required:[516],size:[514],type:[513],value:[513],variant:[513]}]]],["db-language-switcher",[[4,"db-language-switcher",{ariaSelectedIndex:[514,"aria-selected-index"],data:[513]}]]],["db-linklist",[[4,"db-linklist",{data:[513]}]]],["db-mainnavigation",[[4,"db-mainnavigation",{siteName:[513,"site-name"],data:[513]}]]],["db-meta",[[1,"db-meta"]]],["db-metanavigation",[[4,"db-metanavigation",{data:[513]}]]],["db-notification",[[4,"db-notification",{role:[513],type:[513]}]]],["db-notifications",[[4,"db-notifications",{arialive:[513],variant:[513]}]]],["db-overflow-menu",[[4,"db-overflow-menu",{data:[513],opposite:[516],summary:[513]}]]],["db-page",[[4,"db-page"]]],["db-pagination",[[0,"db-pagination",{ellipsisstart:[516],ellipsisend:[516],currentpage:[514],pages:[514],count:[514],titleprevious:[513],titlenext:[513],titlepagination:[513],textprevious:[513],textnext:[513],arialabel:[513],ariaid:[1]}]]],["db-progress",[[2,"db-progress",{value:[514],max:[514],htmlid:[1],percentagesign:[1],circle:[4],indeterminate:[4]}]]],["db-radio",[[2,"db-radio",{autofocus:[516],checked:[516],disabled:[516],input_id:[513],label:[513],name:[513],required:[516],value:[513]}]]],["db-sidenavi",[[4,"db-sidenavi",{data:[513]}]]],["db-tab",[[4,"db-tab",{active:[516],label:[513],name:[513]}]]],["db-tab-bar",[[4,"db-tab-bar"]]],["db-textarea",[[6,"db-textarea",{ariainvalid:[513],ariarequired:[513],autofocus:[516],cols:[514],description:[513],dirname:[513],disabled:[516],input_id:[513],label:[513],maxlength:[514],minlength:[514],name:[513],placeholder:[513],readonly:[516],required:[516],rows:[514],variant:[513],wrap:[513],value:[513],valueSize:[32]}]]],["db-toggle",[[4,"db-toggle",{htmlid:[1],disabled:[516],checked:[516]}]]],["db-headline",[[4,"db-headline",{variant:[1]}]]],["db-select",[[6,"db-select",{ariainvalid:[516],disabled:[516],input_id:[513],label:[513],multiple:[516],name:[513],required:[516],size:[514],value:[1],variant:[513]}]]],["db-button_2",[[4,"db-button",{ariaexpanded:[513],ariapressed:[513],disabled:[516],formaction:[513],formenctype:[513],formmethod:[513],formnovalidate:[516],formtarget:[513],icon:[513],iconafter:[513],icononly:[516],name:[513],tooltip:[513],type:[513],value:[513],variant:[513],size:[513]}],[1,"db-icon",{icon:[1],variant:[1]}]]]],_e)}));var Ge=We("db-brand"),qe=We("db-button"),Ke=We("db-footer"),Ye=We("db-header"),Xe=We("db-page");var Je=function(){var e=re();return(0,we.jsxs)("div",{children:[(0,we.jsx)(qe,{variant:"primary",onClick:function(){return e("dnd")},children:"Drag & Drop Editor"}),(0,we.jsx)(qe,{variant:"secondary-outline",onClick:function(){return e("editor")},children:"Developer Editor"})]})},Qe=n(2164),et=n.n(Qe),tt=(n(9442),["account","add","add-circle","alarm","alarm-add","alert","alert-on","alert-off","calendar","check-circle","credit-card","delete","discount","document","done","download","edit","filter","generic-card","giftcard","heart","heart-on","help","info","legal","log-out","minus","print","remove","schedule","search","send","settings","share","shopping-bag","shopping-basket","shopping-cart","star","star-on","swap-horizontal","swap-vertical","upload","visibility","visibility-off","website","zoom-in","zoom-out"]),nt="Elements",rt={type:"select",label:"Variant",name:"variant",options:[{id:"semitransparent",name:"semitransparent"},{id:"white",name:"white"},{id:"solid",name:"solid"},{id:"outline",name:"outline"}]},it={key:"db-link",value:{label:"Link",media:'<img src="icons-patterns/link.svg" width="70" height="55" alt="" style="margin:auto;" />',category:nt,content:{type:"text",tagName:"db-link",content:"Link",traits:["href",{type:"select",label:"Target",name:"target",options:[{id:"_blank",name:"_blank"},{id:"_self",name:"_self"}]}]},attributes:{href:"#",target:"_blank"}}},ot="Components",st="<db-icon icon='logo' variant='24-outline'/>",at=[{key:"db-button",value:{label:"Button",media:'<img src="icons-patterns/button.svg" width="70" height="55" alt="" style="margin:auto;" />',category:nt,content:{type:"text",tagName:"db-button",content:"Button",traits:[{type:"select",label:"Variant",name:"variant",options:[{id:"primary",name:"primary"},{id:"secondary-outline",name:"secondary-outline"},{id:"secondary-solid",name:"secondary-solid"},{id:"tertiary-plain",name:"tertiary-plain"},{id:"brand-primary",name:"brand-primary"}]},{type:"select",label:"Icon",name:"icon",options:tt.filter((function(e){return!!e})).map((function(e){return{id:e,name:e}}))}]}}},{key:"db-input",value:{label:"Input",media:'<img src="icons-patterns/input.svg" width="70" height="55" alt="" style="margin:auto;" />',category:nt,content:{type:"text",tagName:"db-input",content:"",traits:[rt]}}},{key:"db-checkbox",value:{label:"Checkbox",media:'<img src="icons-patterns/checkbox.svg" width="70" height="55" alt="" style="margin:auto;" />',category:nt,content:{type:"db-checkbox",tagName:"db-checkbox",content:"",traits:["label"],attributes:{label:"Checkbox"}}}},{key:"db-icon",value:{label:"Icon",media:"<db-icon icon='logo' variant='24-outline'/>",category:nt,content:{type:"db-icon",tagName:"db-icon",content:"",traits:[{type:"select",label:"Icon",name:"icon",options:tt.filter((function(e){return!!e})).map((function(e){return{id:e,name:e}}))},{type:"select",label:"Icon size",name:"variant",options:[{id:"20-outline",name:"20 / outline"},{id:"24-outline",name:"24 / outline"},{id:"32-outline",name:"32 / outline"},{id:"48-outline",name:"48 / outline"},{id:"64-outline",name:"64 / outline"},{id:"20-filled",name:"20 / filled"},{id:"24-filled",name:"24 / filled"},{id:"32-filled",name:"32 / filled"},{id:"48-filled",name:"48 / filled"},{id:"64-filled",name:"64 / filled"}]}],attributes:{icon:"account"}}}},it,{key:"db-progress",value:{label:"Progress",media:'<img src="icons-patterns/loader.svg" width="70" height="55" alt="" style="margin:auto;" />',category:nt,content:{type:"db-progress",tagName:"db-progress",content:"",attributes:{value:"60",circle:"true",max:"100"},traits:[{type:"checkbox",label:"indeterminate",name:"indeterminate"},{type:"checkbox",label:"circle",name:"circle"},{type:"number",placeholder:"0-100",label:"value",name:"value",min:0,max:100,step:5},{type:"number",placeholder:"0-100",label:"max",name:"max",min:5,max:100,step:5}]}}},{key:"db-radio",value:{label:"Radio",media:'<img src="icons-patterns/radio.svg" width="70" height="55" alt="" style="margin:auto;" />',category:nt,content:{type:"db-radio",tagName:"db-radio",content:"",traits:["label","name"],attributes:{label:"Radio",name:"radio"}}}},{key:"db-select",value:{label:"Select",media:'<img src="icons-patterns/select.svg" width="70" height="55" alt="" style="margin:auto;" />',category:nt,content:{type:"db-select",tagName:"db-select",content:"<option selected>Option 1</option>\n  <option>Option 2</option>\n  <option>Option 3</option>",traits:[rt]}}},{key:"db-tag",value:{label:"Tag",media:'<img src="icons-patterns/tag.svg" width="70" height="55" alt="" style="margin:auto;" />',category:nt,content:{type:"text",tagName:"db-tag",content:"TAG",traits:[{type:"select",label:"Color",name:"color",options:[{id:"blue",name:"blue"},{id:"red",name:"red"},{id:"green",name:"green"},{id:"grey",name:"grey"},{id:"black",name:"black"},{id:"yellow",name:"yellow"}]}]}}},{key:"db-textarea",value:{label:"Textarea",media:'<img src="icons-patterns/textarea.svg" width="70" height="55" alt="" style="margin:auto;" />',category:nt,content:{type:"text",tagName:"db-textarea",content:"",traits:[rt]}}},{key:"db-toggle",value:{label:"Toggle",media:'<img src="icons-patterns/toggle.svg" width="70" height="55" alt="" style="margin:auto;" />',category:nt,content:{type:"text",tagName:"db-toggle",content:"Toggle"}}},{key:"db-metanavigation",value:{label:"Metanavigation",media:st,category:ot,content:{type:"db-metanavigation",tagName:"db-metanavigation",content:'<db-link icon="settings" href="#">\n      Einstellungen\n    </db-link>\n    <db-link icon="chat" icononly href="#">\n      Nachrichten\n    </db-link>'}}},{key:"db-linklist",value:{label:"Linklist",media:st,category:ot,content:{type:"db-linklist",tagName:"db-linklist",content:' <li>\n    <db-link href="https://www.bahn.de/">www.bahn.de</db-link>\n  </li>\n  <li>\n    <db-link href="https://www.dbsystel.de/">www.dbsystel.de</db-link>\n  </li>'}}}],lt=function(){return(0,t.useEffect)((function(){var e=et().init({container:"#gjs",height:"100vh",fromElement:!0,canvas:{styles:["./enterprise/db-ui-core.css","./enterprise/db-ui-core.vars.css","./grapes.css","./db-page.css"]},plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{blocks:[],blocksBasicOpts:{blocks:["column1","column2","column3"]},navbarOpts:!1,formsOpts:!1,countdownOpts:!1}}});at.forEach((function(t){e.BlockManager.add(t.key,t.value)}))})),(0,we.jsx)("div",{id:"gjs",children:(0,we.jsx)("div",{id:"app",className:"grapes-container",children:(0,we.jsxs)(Xe,{children:[(0,we.jsx)(Ye,{slot:"header",children:(0,we.jsx)(Ge,{src:"./images/db_logo.svg",children:"DB-UI Elements"})}),(0,we.jsxs)("div",{children:[(0,we.jsx)("h1",{children:"Playground"}),(0,we.jsx)("span",{children:"Pick some components from the right side :)"})]}),(0,we.jsx)(Ke,{slot:"footer",copyright:!0,border:!0})]})})})};r.render((0,we.jsx)(t.StrictMode,{children:(0,we.jsx)(ke,{children:(0,we.jsxs)(ve,{children:[(0,we.jsxs)(ge,{path:"/",element:(0,we.jsx)(xe,{}),children:[(0,we.jsx)(ge,{path:"dnd",element:(0,we.jsx)(lt,{})}),(0,we.jsx)(ge,{path:"editor",element:(0,we.jsx)(De,{})}),(0,we.jsx)(ge,{path:"",element:(0,we.jsx)(Je,{})})]}),(0,we.jsx)(ge,{path:"/*",element:(0,we.jsx)(fe,{to:"/"})})]})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.d7ef46b7.js.map