{"version":3,"sources":["../_patterns/02-components/dialog/dialog-polyfill.plugin.js","../_patterns/02-components/dialog/focus-restore.dialog.plugin.js","plugins/details-element-polyfill.plugin.js"],"names":[],"mappings":"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","file":"plugins.min.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.dialogPolyfill = factory());\n}(this, (function () { 'use strict';\n\n  // nb. This is for IE10 and lower _only_.\n  var supportCustomEvent = window.CustomEvent;\n  if (!supportCustomEvent || typeof supportCustomEvent === 'object') {\n    supportCustomEvent = function CustomEvent(event, x) {\n      x = x || {};\n      var ev = document.createEvent('CustomEvent');\n      ev.initCustomEvent(event, !!x.bubbles, !!x.cancelable, x.detail || null);\n      return ev;\n    };\n    supportCustomEvent.prototype = window.Event.prototype;\n  }\n\n  /**\n   * Dispatches the passed event to both an \"on<type>\" handler as well as via the\n   * normal dispatch operation. Does not bubble.\n   *\n   * @param {!EventTarget} target\n   * @param {!Event} event\n   * @return {boolean}\n   */\n  function safeDispatchEvent(target, event) {\n    var check = 'on' + event.type.toLowerCase();\n    if (typeof target[check] === 'function') {\n      target[check](event);\n    }\n    return target.dispatchEvent(event);\n  }\n\n  /**\n   * @param {Element} el to check for stacking context\n   * @return {boolean} whether this el or its parents creates a stacking context\n   */\n  function createsStackingContext(el) {\n    while (el && el !== document.body) {\n      var s = window.getComputedStyle(el);\n      var invalid = function(k, ok) {\n        return !(s[k] === undefined || s[k] === ok);\n      };\n\n      if (s.opacity < 1 ||\n          invalid('zIndex', 'auto') ||\n          invalid('transform', 'none') ||\n          invalid('mixBlendMode', 'normal') ||\n          invalid('filter', 'none') ||\n          invalid('perspective', 'none') ||\n          s['isolation'] === 'isolate' ||\n          s.position === 'fixed' ||\n          s.webkitOverflowScrolling === 'touch') {\n        return true;\n      }\n      el = el.parentElement;\n    }\n    return false;\n  }\n\n  /**\n   * Finds the nearest <dialog> from the passed element.\n   *\n   * @param {Element} el to search from\n   * @return {HTMLDialogElement} dialog found\n   */\n  function findNearestDialog(el) {\n    while (el) {\n      if (el.localName === 'dialog') {\n        return /** @type {HTMLDialogElement} */ (el);\n      }\n      el = el.parentElement;\n    }\n    return null;\n  }\n\n  /**\n   * Blur the specified element, as long as it's not the HTML body element.\n   * This works around an IE9/10 bug - blurring the body causes Windows to\n   * blur the whole application.\n   *\n   * @param {Element} el to blur\n   */\n  function safeBlur(el) {\n    // Find the actual focused element when the active element is inside a shadow root\n    while (el && el.shadowRoot && el.shadowRoot.activeElement) {\n      el = el.shadowRoot.activeElement;\n    }\n\n    if (el && el.blur && el !== document.body) {\n      el.blur();\n    }\n  }\n\n  /**\n   * @param {!NodeList} nodeList to search\n   * @param {Node} node to find\n   * @return {boolean} whether node is inside nodeList\n   */\n  function inNodeList(nodeList, node) {\n    for (var i = 0; i < nodeList.length; ++i) {\n      if (nodeList[i] === node) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * @param {HTMLFormElement} el to check\n   * @return {boolean} whether this form has method=\"dialog\"\n   */\n  function isFormMethodDialog(el) {\n    if (!el || !el.hasAttribute('method')) {\n      return false;\n    }\n    return el.getAttribute('method').toLowerCase() === 'dialog';\n  }\n\n  /**\n   * @param {!DocumentFragment|!Element} hostElement\n   * @return {?Element}\n   */\n  function findFocusableElementWithin(hostElement) {\n    // Note that this is 'any focusable area'. This list is probably not exhaustive, but the\n    // alternative involves stepping through and trying to focus everything.\n    var opts = ['button', 'input', 'keygen', 'select', 'textarea'];\n    var query = opts.map(function(el) {\n      return el + ':not([disabled])';\n    });\n    // TODO(samthor): tabindex values that are not numeric are not focusable.\n    query.push('[tabindex]:not([disabled]):not([tabindex=\"\"])');  // tabindex != \"\", not disabled\n    var target = hostElement.querySelector(query.join(', '));\n\n    if (!target && 'attachShadow' in Element.prototype) {\n      // If we haven't found a focusable target, see if the host element contains an element\n      // which has a shadowRoot.\n      // Recursively search for the first focusable item in shadow roots.\n      var elems = hostElement.querySelectorAll('*');\n      for (var i = 0; i < elems.length; i++) {\n        if (elems[i].tagName && elems[i].shadowRoot) {\n          target = findFocusableElementWithin(elems[i].shadowRoot);\n          if (target) {\n            break;\n          }\n        }\n      }\n    }\n    return target;\n  }\n\n  /**\n   * Determines if an element is attached to the DOM.\n   * @param {Element} element to check\n   * @return {Boolean} whether the element is in DOM\n   */\n  function isConnected(element) {\n    return element.isConnected || document.body.contains(element);\n  }\n\n  /**\n   * @param {!HTMLDialogElement} dialog to upgrade\n   * @constructor\n   */\n  function dialogPolyfillInfo(dialog) {\n    this.dialog_ = dialog;\n    this.replacedStyleTop_ = false;\n    this.openAsModal_ = false;\n\n    // Set a11y role. Browsers that support dialog implicitly know this already.\n    if (!dialog.hasAttribute('role')) {\n      dialog.setAttribute('role', 'dialog');\n    }\n\n    dialog.show = this.show.bind(this);\n    dialog.showModal = this.showModal.bind(this);\n    dialog.close = this.close.bind(this);\n\n    if (!('returnValue' in dialog)) {\n      dialog.returnValue = '';\n    }\n\n    if ('MutationObserver' in window) {\n      var mo = new MutationObserver(this.maybeHideModal.bind(this));\n      mo.observe(dialog, {attributes: true, attributeFilter: ['open']});\n    } else {\n      // IE10 and below support. Note that DOMNodeRemoved etc fire _before_ removal. They also\n      // seem to fire even if the element was removed as part of a parent removal. Use the removed\n      // events to force downgrade (useful if removed/immediately added).\n      var removed = false;\n      var cb = function() {\n        removed ? this.downgradeModal() : this.maybeHideModal();\n        removed = false;\n      }.bind(this);\n      var timeout;\n      var delayModel = function(ev) {\n        if (ev.target !== dialog) { return; }  // not for a child element\n        var cand = 'DOMNodeRemoved';\n        removed |= (ev.type.substr(0, cand.length) === cand);\n        window.clearTimeout(timeout);\n        timeout = window.setTimeout(cb, 0);\n      };\n      ['DOMAttrModified', 'DOMNodeRemoved', 'DOMNodeRemovedFromDocument'].forEach(function(name) {\n        dialog.addEventListener(name, delayModel);\n      });\n    }\n    // Note that the DOM is observed inside DialogManager while any dialog\n    // is being displayed as a modal, to catch modal removal from the DOM.\n\n    Object.defineProperty(dialog, 'open', {\n      set: this.setOpen.bind(this),\n      get: dialog.hasAttribute.bind(dialog, 'open')\n    });\n\n    this.backdrop_ = document.createElement('div');\n    this.backdrop_.className = 'backdrop';\n    this.backdrop_.addEventListener('mouseup'  , this.backdropMouseEvent_.bind(this));\n    this.backdrop_.addEventListener('mousedown', this.backdropMouseEvent_.bind(this));\n    this.backdrop_.addEventListener('click'    , this.backdropMouseEvent_.bind(this));\n  }\n\n  dialogPolyfillInfo.prototype = /** @type {HTMLDialogElement.prototype} */ ({\n\n    get dialog() {\n      return this.dialog_;\n    },\n\n    /**\n     * Maybe remove this dialog from the modal top layer. This is called when\n     * a modal dialog may no longer be tenable, e.g., when the dialog is no\n     * longer open or is no longer part of the DOM.\n     */\n    maybeHideModal: function() {\n      if (this.dialog_.hasAttribute('open') && isConnected(this.dialog_)) { return; }\n      this.downgradeModal();\n    },\n\n    /**\n     * Remove this dialog from the modal top layer, leaving it as a non-modal.\n     */\n    downgradeModal: function() {\n      if (!this.openAsModal_) { return; }\n      this.openAsModal_ = false;\n      this.dialog_.style.zIndex = '';\n\n      // This won't match the native <dialog> exactly because if the user set top on a centered\n      // polyfill dialog, that top gets thrown away when the dialog is closed. Not sure it's\n      // possible to polyfill this perfectly.\n      if (this.replacedStyleTop_) {\n        this.dialog_.style.top = '';\n        this.replacedStyleTop_ = false;\n      }\n\n      // Clear the backdrop and remove from the manager.\n      this.backdrop_.parentNode && this.backdrop_.parentNode.removeChild(this.backdrop_);\n      dialogPolyfill.dm.removeDialog(this);\n    },\n\n    /**\n     * @param {boolean} value whether to open or close this dialog\n     */\n    setOpen: function(value) {\n      if (value) {\n        this.dialog_.hasAttribute('open') || this.dialog_.setAttribute('open', '');\n      } else {\n        this.dialog_.removeAttribute('open');\n        this.maybeHideModal();  // nb. redundant with MutationObserver\n      }\n    },\n\n    /**\n     * Handles mouse events ('mouseup', 'mousedown', 'click') on the fake .backdrop element, redirecting them as if\n     * they were on the dialog itself.\n     *\n     * @param {!Event} e to redirect\n     */\n    backdropMouseEvent_: function(e) {\n      if (!this.dialog_.hasAttribute('tabindex')) {\n        // Clicking on the backdrop should move the implicit cursor, even if dialog cannot be\n        // focused. Create a fake thing to focus on. If the backdrop was _before_ the dialog, this\n        // would not be needed - clicks would move the implicit cursor there.\n        var fake = document.createElement('div');\n        this.dialog_.insertBefore(fake, this.dialog_.firstChild);\n        fake.tabIndex = -1;\n        fake.focus();\n        this.dialog_.removeChild(fake);\n      } else {\n        this.dialog_.focus();\n      }\n\n      var redirectedEvent = document.createEvent('MouseEvents');\n      redirectedEvent.initMouseEvent(e.type, e.bubbles, e.cancelable, window,\n          e.detail, e.screenX, e.screenY, e.clientX, e.clientY, e.ctrlKey,\n          e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);\n      this.dialog_.dispatchEvent(redirectedEvent);\n      e.stopPropagation();\n    },\n\n    /**\n     * Focuses on the first focusable element within the dialog. This will always blur the current\n     * focus, even if nothing within the dialog is found.\n     */\n    focus_: function() {\n      // Find element with `autofocus` attribute, or fall back to the first form/tabindex control.\n      var target = this.dialog_.querySelector('[autofocus]:not([disabled])');\n      if (!target && this.dialog_.tabIndex >= 0) {\n        target = this.dialog_;\n      }\n      if (!target) {\n        target = findFocusableElementWithin(this.dialog_);\n      }\n      safeBlur(document.activeElement);\n      target && target.focus();\n    },\n\n    /**\n     * Sets the zIndex for the backdrop and dialog.\n     *\n     * @param {number} dialogZ\n     * @param {number} backdropZ\n     */\n    updateZIndex: function(dialogZ, backdropZ) {\n      if (dialogZ < backdropZ) {\n        throw new Error('dialogZ should never be < backdropZ');\n      }\n      this.dialog_.style.zIndex = dialogZ;\n      this.backdrop_.style.zIndex = backdropZ;\n    },\n\n    /**\n     * Shows the dialog. If the dialog is already open, this does nothing.\n     */\n    show: function() {\n      if (!this.dialog_.open) {\n        this.setOpen(true);\n        this.focus_();\n      }\n    },\n\n    /**\n     * Show this dialog modally.\n     */\n    showModal: function() {\n      if (this.dialog_.hasAttribute('open')) {\n        throw new Error('Failed to execute \\'showModal\\' on dialog: The element is already open, and therefore cannot be opened modally.');\n      }\n      if (!isConnected(this.dialog_)) {\n        throw new Error('Failed to execute \\'showModal\\' on dialog: The element is not in a Document.');\n      }\n      if (!dialogPolyfill.dm.pushDialog(this)) {\n        throw new Error('Failed to execute \\'showModal\\' on dialog: There are too many open modal dialogs.');\n      }\n\n      if (createsStackingContext(this.dialog_.parentElement)) {\n        console.warn('A dialog is being shown inside a stacking context. ' +\n            'This may cause it to be unusable. For more information, see this link: ' +\n            'https://github.com/GoogleChrome/dialog-polyfill/#stacking-context');\n      }\n\n      this.setOpen(true);\n      this.openAsModal_ = true;\n\n      // Optionally center vertically, relative to the current viewport.\n      if (dialogPolyfill.needsCentering(this.dialog_)) {\n        dialogPolyfill.reposition(this.dialog_);\n        this.replacedStyleTop_ = true;\n      } else {\n        this.replacedStyleTop_ = false;\n      }\n\n      // Insert backdrop.\n      this.dialog_.parentNode.insertBefore(this.backdrop_, this.dialog_.nextSibling);\n\n      // Focus on whatever inside the dialog.\n      this.focus_();\n    },\n\n    /**\n     * Closes this HTMLDialogElement. This is optional vs clearing the open\n     * attribute, however this fires a 'close' event.\n     *\n     * @param {string=} opt_returnValue to use as the returnValue\n     */\n    close: function(opt_returnValue) {\n      if (!this.dialog_.hasAttribute('open')) {\n        throw new Error('Failed to execute \\'close\\' on dialog: The element does not have an \\'open\\' attribute, and therefore cannot be closed.');\n      }\n      this.setOpen(false);\n\n      // Leave returnValue untouched in case it was set directly on the element\n      if (opt_returnValue !== undefined) {\n        this.dialog_.returnValue = opt_returnValue;\n      }\n\n      // Triggering \"close\" event for any attached listeners on the <dialog>.\n      var closeEvent = new supportCustomEvent('close', {\n        bubbles: false,\n        cancelable: false\n      });\n      safeDispatchEvent(this.dialog_, closeEvent);\n    }\n\n  });\n\n  var dialogPolyfill = {};\n\n  dialogPolyfill.reposition = function(element) {\n    var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n    var topValue = scrollTop + (window.innerHeight - element.offsetHeight) / 2;\n    element.style.top = Math.max(scrollTop, topValue) + 'px';\n  };\n\n  dialogPolyfill.isInlinePositionSetByStylesheet = function(element) {\n    for (var i = 0; i < document.styleSheets.length; ++i) {\n      var styleSheet = document.styleSheets[i];\n      var cssRules = null;\n      // Some browsers throw on cssRules.\n      try {\n        cssRules = styleSheet.cssRules;\n      } catch (e) {}\n      if (!cssRules) { continue; }\n      for (var j = 0; j < cssRules.length; ++j) {\n        var rule = cssRules[j];\n        var selectedNodes = null;\n        // Ignore errors on invalid selector texts.\n        try {\n          selectedNodes = document.querySelectorAll(rule.selectorText);\n        } catch(e) {}\n        if (!selectedNodes || !inNodeList(selectedNodes, element)) {\n          continue;\n        }\n        var cssTop = rule.style.getPropertyValue('top');\n        var cssBottom = rule.style.getPropertyValue('bottom');\n        if ((cssTop && cssTop !== 'auto') || (cssBottom && cssBottom !== 'auto')) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  dialogPolyfill.needsCentering = function(dialog) {\n    var computedStyle = window.getComputedStyle(dialog);\n    if (computedStyle.position !== 'absolute') {\n      return false;\n    }\n\n    // We must determine whether the top/bottom specified value is non-auto.  In\n    // WebKit/Blink, checking computedStyle.top == 'auto' is sufficient, but\n    // Firefox returns the used value. So we do this crazy thing instead: check\n    // the inline style and then go through CSS rules.\n    if ((dialog.style.top !== 'auto' && dialog.style.top !== '') ||\n        (dialog.style.bottom !== 'auto' && dialog.style.bottom !== '')) {\n      return false;\n    }\n    return !dialogPolyfill.isInlinePositionSetByStylesheet(dialog);\n  };\n\n  /**\n   * @param {!Element} element to force upgrade\n   */\n  dialogPolyfill.forceRegisterDialog = function(element) {\n    if (window.HTMLDialogElement || element.showModal) {\n      console.warn('This browser already supports <dialog>, the polyfill ' +\n          'may not work correctly', element);\n    }\n    if (element.localName !== 'dialog') {\n      throw new Error('Failed to register dialog: The element is not a dialog.');\n    }\n    new dialogPolyfillInfo(/** @type {!HTMLDialogElement} */ (element));\n  };\n\n  /**\n   * @param {!Element} element to upgrade, if necessary\n   */\n  dialogPolyfill.registerDialog = function(element) {\n    if (!element.showModal) {\n      dialogPolyfill.forceRegisterDialog(element);\n    }\n  };\n\n  /**\n   * @constructor\n   */\n  dialogPolyfill.DialogManager = function() {\n    /** @type {!Array<!dialogPolyfillInfo>} */\n    this.pendingDialogStack = [];\n\n    var checkDOM = this.checkDOM_.bind(this);\n\n    // The overlay is used to simulate how a modal dialog blocks the document.\n    // The blocking dialog is positioned on top of the overlay, and the rest of\n    // the dialogs on the pending dialog stack are positioned below it. In the\n    // actual implementation, the modal dialog stacking is controlled by the\n    // top layer, where z-index has no effect.\n    this.overlay = document.createElement('div');\n    this.overlay.className = '_dialog_overlay';\n    this.overlay.addEventListener('click', function(e) {\n      this.forwardTab_ = undefined;\n      e.stopPropagation();\n      checkDOM([]);  // sanity-check DOM\n    }.bind(this));\n\n    this.handleKey_ = this.handleKey_.bind(this);\n    this.handleFocus_ = this.handleFocus_.bind(this);\n\n    this.zIndexLow_ = 100000;\n    this.zIndexHigh_ = 100000 + 150;\n\n    this.forwardTab_ = undefined;\n\n    if ('MutationObserver' in window) {\n      this.mo_ = new MutationObserver(function(records) {\n        var removed = [];\n        records.forEach(function(rec) {\n          for (var i = 0, c; c = rec.removedNodes[i]; ++i) {\n            if (!(c instanceof Element)) {\n              continue;\n            } else if (c.localName === 'dialog') {\n              removed.push(c);\n            }\n            removed = removed.concat(c.querySelectorAll('dialog'));\n          }\n        });\n        removed.length && checkDOM(removed);\n      });\n    }\n  };\n\n  /**\n   * Called on the first modal dialog being shown. Adds the overlay and related\n   * handlers.\n   */\n  dialogPolyfill.DialogManager.prototype.blockDocument = function() {\n    document.documentElement.addEventListener('focus', this.handleFocus_, true);\n    document.addEventListener('keydown', this.handleKey_);\n    this.mo_ && this.mo_.observe(document, {childList: true, subtree: true});\n  };\n\n  /**\n   * Called on the first modal dialog being removed, i.e., when no more modal\n   * dialogs are visible.\n   */\n  dialogPolyfill.DialogManager.prototype.unblockDocument = function() {\n    document.documentElement.removeEventListener('focus', this.handleFocus_, true);\n    document.removeEventListener('keydown', this.handleKey_);\n    this.mo_ && this.mo_.disconnect();\n  };\n\n  /**\n   * Updates the stacking of all known dialogs.\n   */\n  dialogPolyfill.DialogManager.prototype.updateStacking = function() {\n    var zIndex = this.zIndexHigh_;\n\n    for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n      dpi.updateZIndex(--zIndex, --zIndex);\n      if (i === 0) {\n        this.overlay.style.zIndex = --zIndex;\n      }\n    }\n\n    // Make the overlay a sibling of the dialog itself.\n    var last = this.pendingDialogStack[0];\n    if (last) {\n      var p = last.dialog.parentNode || document.body;\n      p.appendChild(this.overlay);\n    } else if (this.overlay.parentNode) {\n      this.overlay.parentNode.removeChild(this.overlay);\n    }\n  };\n\n  /**\n   * @param {Element} candidate to check if contained or is the top-most modal dialog\n   * @return {boolean} whether candidate is contained in top dialog\n   */\n  dialogPolyfill.DialogManager.prototype.containedByTopDialog_ = function(candidate) {\n    while (candidate = findNearestDialog(candidate)) {\n      for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n        if (dpi.dialog === candidate) {\n          return i === 0;  // only valid if top-most\n        }\n      }\n      candidate = candidate.parentElement;\n    }\n    return false;\n  };\n\n  dialogPolyfill.DialogManager.prototype.handleFocus_ = function(event) {\n    var target = event.composedPath ? event.composedPath()[0] : event.target;\n\n    if (this.containedByTopDialog_(target)) { return; }\n\n    if (document.activeElement === document.documentElement) { return; }\n\n    event.preventDefault();\n    event.stopPropagation();\n    safeBlur(/** @type {Element} */ (target));\n\n    if (this.forwardTab_ === undefined) { return; }  // move focus only from a tab key\n\n    var dpi = this.pendingDialogStack[0];\n    var dialog = dpi.dialog;\n    var position = dialog.compareDocumentPosition(target);\n    if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n      if (this.forwardTab_) {\n        // forward\n        dpi.focus_();\n      } else if (target !== document.documentElement) {\n        // backwards if we're not already focused on <html>\n        document.documentElement.focus();\n      }\n    }\n\n    return false;\n  };\n\n  dialogPolyfill.DialogManager.prototype.handleKey_ = function(event) {\n    this.forwardTab_ = undefined;\n    if (event.keyCode === 27) {\n      event.preventDefault();\n      event.stopPropagation();\n      var cancelEvent = new supportCustomEvent('cancel', {\n        bubbles: false,\n        cancelable: true\n      });\n      var dpi = this.pendingDialogStack[0];\n      if (dpi && safeDispatchEvent(dpi.dialog, cancelEvent)) {\n        dpi.dialog.close();\n      }\n    } else if (event.keyCode === 9) {\n      this.forwardTab_ = !event.shiftKey;\n    }\n  };\n\n  /**\n   * Finds and downgrades any known modal dialogs that are no longer displayed. Dialogs that are\n   * removed and immediately readded don't stay modal, they become normal.\n   *\n   * @param {!Array<!HTMLDialogElement>} removed that have definitely been removed\n   */\n  dialogPolyfill.DialogManager.prototype.checkDOM_ = function(removed) {\n    // This operates on a clone because it may cause it to change. Each change also calls\n    // updateStacking, which only actually needs to happen once. But who removes many modal dialogs\n    // at a time?!\n    var clone = this.pendingDialogStack.slice();\n    clone.forEach(function(dpi) {\n      if (removed.indexOf(dpi.dialog) !== -1) {\n        dpi.downgradeModal();\n      } else {\n        dpi.maybeHideModal();\n      }\n    });\n  };\n\n  /**\n   * @param {!dialogPolyfillInfo} dpi\n   * @return {boolean} whether the dialog was allowed\n   */\n  dialogPolyfill.DialogManager.prototype.pushDialog = function(dpi) {\n    var allowed = (this.zIndexHigh_ - this.zIndexLow_) / 2 - 1;\n    if (this.pendingDialogStack.length >= allowed) {\n      return false;\n    }\n    if (this.pendingDialogStack.unshift(dpi) === 1) {\n      this.blockDocument();\n    }\n    this.updateStacking();\n    return true;\n  };\n\n  /**\n   * @param {!dialogPolyfillInfo} dpi\n   */\n  dialogPolyfill.DialogManager.prototype.removeDialog = function(dpi) {\n    var index = this.pendingDialogStack.indexOf(dpi);\n    if (index === -1) { return; }\n\n    this.pendingDialogStack.splice(index, 1);\n    if (this.pendingDialogStack.length === 0) {\n      this.unblockDocument();\n    }\n    this.updateStacking();\n  };\n\n  dialogPolyfill.dm = new dialogPolyfill.DialogManager();\n  dialogPolyfill.formSubmitter = null;\n  dialogPolyfill.useValue = null;\n\n  /**\n   * Installs global handlers, such as click listers and native method overrides. These are needed\n   * even if a no dialog is registered, as they deal with <form method=\"dialog\">.\n   */\n  if (window.HTMLDialogElement === undefined) {\n\n    /**\n     * If HTMLFormElement translates method=\"DIALOG\" into 'get', then replace the descriptor with\n     * one that returns the correct value.\n     */\n    var testForm = document.createElement('form');\n    testForm.setAttribute('method', 'dialog');\n    if (testForm.method !== 'dialog') {\n      var methodDescriptor = Object.getOwnPropertyDescriptor(HTMLFormElement.prototype, 'method');\n      if (methodDescriptor) {\n        // nb. Some older iOS and older PhantomJS fail to return the descriptor. Don't do anything\n        // and don't bother to update the element.\n        var realGet = methodDescriptor.get;\n        methodDescriptor.get = function() {\n          if (isFormMethodDialog(this)) {\n            return 'dialog';\n          }\n          return realGet.call(this);\n        };\n        var realSet = methodDescriptor.set;\n        /** @this {HTMLElement} */\n        methodDescriptor.set = function(v) {\n          if (typeof v === 'string' && v.toLowerCase() === 'dialog') {\n            return this.setAttribute('method', v);\n          }\n          return realSet.call(this, v);\n        };\n        Object.defineProperty(HTMLFormElement.prototype, 'method', methodDescriptor);\n      }\n    }\n\n    /**\n     * Global 'click' handler, to capture the <input type=\"submit\"> or <button> element which has\n     * submitted a <form method=\"dialog\">. Needed as Safari and others don't report this inside\n     * document.activeElement.\n     */\n    document.addEventListener('click', function(ev) {\n      dialogPolyfill.formSubmitter = null;\n      dialogPolyfill.useValue = null;\n      if (ev.defaultPrevented) { return; }  // e.g. a submit which prevents default submission\n\n      var target = /** @type {Element} */ (ev.target);\n      if (!target || !isFormMethodDialog(target.form)) { return; }\n\n      var valid = (target.type === 'submit' && ['button', 'input'].indexOf(target.localName) > -1);\n      if (!valid) {\n        if (!(target.localName === 'input' && target.type === 'image')) { return; }\n        // this is a <input type=\"image\">, which can submit forms\n        dialogPolyfill.useValue = ev.offsetX + ',' + ev.offsetY;\n      }\n\n      var dialog = findNearestDialog(target);\n      if (!dialog) { return; }\n\n      dialogPolyfill.formSubmitter = target;\n\n    }, false);\n\n    /**\n     * Replace the native HTMLFormElement.submit() method, as it won't fire the\n     * submit event and give us a chance to respond.\n     */\n    var nativeFormSubmit = HTMLFormElement.prototype.submit;\n    var replacementFormSubmit = function () {\n      if (!isFormMethodDialog(this)) {\n        return nativeFormSubmit.call(this);\n      }\n      var dialog = findNearestDialog(this);\n      dialog && dialog.close();\n    };\n    HTMLFormElement.prototype.submit = replacementFormSubmit;\n\n    /**\n     * Global form 'dialog' method handler. Closes a dialog correctly on submit\n     * and possibly sets its return value.\n     */\n    document.addEventListener('submit', function(ev) {\n      if (ev.defaultPrevented) { return; }  // e.g. a submit which prevents default submission\n\n      var form = /** @type {HTMLFormElement} */ (ev.target);\n      if (!isFormMethodDialog(form)) { return; }\n      ev.preventDefault();\n\n      var dialog = findNearestDialog(form);\n      if (!dialog) { return; }\n\n      // Forms can only be submitted via .submit() or a click (?), but anyway: sanity-check that\n      // the submitter is correct before using its value as .returnValue.\n      var s = dialogPolyfill.formSubmitter;\n      if (s && s.form === form) {\n        dialog.close(dialogPolyfill.useValue || s.value);\n      } else {\n        dialog.close();\n      }\n      dialogPolyfill.formSubmitter = null;\n\n    }, false);\n  }\n\n  return dialogPolyfill;\n\n})));\n","/**\n * Updates the passed dialog to retain focus and restore it when the dialog is closed. Won't\n * upgrade a dialog more than once. Supports IE11+ and is a no-op otherwise.\n * @param {!HTMLDialogElement} dialog to upgrade\n */\nvar registerFocusRestoreDialog = (function() {\n  if (!window.WeakMap || !window.MutationObserver) {\n    return function() {};\n  }\n  var registered = new WeakMap();\n\n  // store previous focused node centrally\n  var previousFocus = null;\n  document.addEventListener('focusout', function(ev) {\n    previousFocus = ev.target;\n  }, true);\n\n  return function registerFocusRestoreDialog(dialog) {\n    if (dialog.localName !== 'dialog') {\n      throw new Error('Failed to upgrade focus on dialog: The element is not a dialog.');\n    }\n    if (registered.has(dialog)) { return; }\n    registered.set(dialog, null);\n\n    // replace showModal method directly, to save focus\n    var realShowModal = dialog.showModal;\n    dialog.showModal = function() {\n      var savedFocus = document.activeElement;\n      if (savedFocus === document || savedFocus === document.body) {\n        // some browsers read activeElement as body\n        savedFocus = previousFocus;\n      }\n      registered.set(dialog, savedFocus);\n      realShowModal.call(this);\n    };\n\n    // watch for 'open' change and clear saved\n    var mo = new MutationObserver(function() {\n      if (!dialog.hasAttribute('open')) {\n        registered.set(dialog, null);\n      } else {\n        // if open was cleared/set in the same frame, then the dialog will still be a modal (Y)\n      }\n    });\n    mo.observe(dialog, {attributes: true, attributeFilter: ['open']});\n\n    // on close, try to focus saved, if possible\n    dialog.addEventListener('close', function(ev) {\n      if (dialog.hasAttribute('open')) {\n        return;  // in native, this fires the frame later\n      }\n      var savedFocus = registered.get(dialog);\n      if (document.contains(savedFocus)) {\n        var wasFocus = document.activeElement;\n        savedFocus.focus();\n        if (document.activeElement !== savedFocus) {\n          wasFocus.focus();  // restore focus, we couldn't focus saved\n        }\n      }\n      savedFocus = null;\n    });\n\n    // FIXME: If a modal dialog is readded to the page (either remove/add or .appendChild), it will\n    // be a non-modal. It will still have its 'close' handler called and try to focus on the saved\n    // element.\n    //\n    // These could basically be solved if 'close' yielded whether it was a modal or non-modal\n    // being closed. But it doesn't. It could also be solved by a permanent MutationObserver, as is\n    // done inside the polyfill.\n  }\n}());","/*\nDetails Element Polyfill 2.4.0\nCopyright  2019 Javan Makhmali\n */\n(function() {\n  \"use strict\";\n  var element = document.createElement(\"details\");\n  var elementIsNative = typeof HTMLDetailsElement != \"undefined\" && element instanceof HTMLDetailsElement;\n  var support = {\n    open: \"open\" in element || elementIsNative,\n    toggle: \"ontoggle\" in element\n  };\n  var styles = '\\ndetails, summary {\\n  display: block;\\n}\\ndetails:not([open]) > *:not(summary) {\\n  display: none;\\n}\\nsummary::before {\\n  content: \"\";\\n  padding-right: 0.3rem;\\n  font-size: 0.6rem;\\n  cursor: default;\\n}\\n[open] > summary::before {\\n  content: \"\";\\n}\\n';\n  var _ref = [], forEach = _ref.forEach, slice = _ref.slice;\n  if (!support.open) {\n    polyfillStyles();\n    polyfillProperties();\n    polyfillToggle();\n    polyfillAccessibility();\n  }\n  if (support.open && !support.toggle) {\n    polyfillToggleEvent();\n  }\n  function polyfillStyles() {\n    document.head.insertAdjacentHTML(\"afterbegin\", \"<style>\" + styles + \"</style>\");\n  }\n  function polyfillProperties() {\n    var prototype = document.createElement(\"details\").constructor.prototype;\n    var setAttribute = prototype.setAttribute, removeAttribute = prototype.removeAttribute;\n    var open = Object.getOwnPropertyDescriptor(prototype, \"open\");\n    Object.defineProperties(prototype, {\n      open: {\n        get: function get() {\n          if (this.tagName == \"DETAILS\") {\n            return this.hasAttribute(\"open\");\n          } else {\n            if (open && open.get) {\n              return open.get.call(this);\n            }\n          }\n        },\n        set: function set(value) {\n          if (this.tagName == \"DETAILS\") {\n            return value ? this.setAttribute(\"open\", \"\") : this.removeAttribute(\"open\");\n          } else {\n            if (open && open.set) {\n              return open.set.call(this, value);\n            }\n          }\n        }\n      },\n      setAttribute: {\n        value: function value(name, _value) {\n          var _this = this;\n          var call = function call() {\n            return setAttribute.call(_this, name, _value);\n          };\n          if (name == \"open\" && this.tagName == \"DETAILS\") {\n            var wasOpen = this.hasAttribute(\"open\");\n            var result = call();\n            if (!wasOpen) {\n              var summary = this.querySelector(\"summary\");\n              if (summary) summary.setAttribute(\"aria-expanded\", true);\n              triggerToggle(this);\n            }\n            return result;\n          }\n          return call();\n        }\n      },\n      removeAttribute: {\n        value: function value(name) {\n          var _this2 = this;\n          var call = function call() {\n            return removeAttribute.call(_this2, name);\n          };\n          if (name == \"open\" && this.tagName == \"DETAILS\") {\n            var wasOpen = this.hasAttribute(\"open\");\n            var result = call();\n            if (wasOpen) {\n              var summary = this.querySelector(\"summary\");\n              if (summary) summary.setAttribute(\"aria-expanded\", false);\n              triggerToggle(this);\n            }\n            return result;\n          }\n          return call();\n        }\n      }\n    });\n  }\n  function polyfillToggle() {\n    onTogglingTrigger(function(element) {\n      element.hasAttribute(\"open\") ? element.removeAttribute(\"open\") : element.setAttribute(\"open\", \"\");\n    });\n  }\n  function polyfillToggleEvent() {\n    if (window.MutationObserver) {\n      new MutationObserver(function(mutations) {\n        forEach.call(mutations, function(mutation) {\n          var target = mutation.target, attributeName = mutation.attributeName;\n          if (target.tagName == \"DETAILS\" && attributeName == \"open\") {\n            triggerToggle(target);\n          }\n        });\n      }).observe(document.documentElement, {\n        attributes: true,\n        subtree: true\n      });\n    } else {\n      onTogglingTrigger(function(element) {\n        var wasOpen = element.getAttribute(\"open\");\n        setTimeout(function() {\n          var isOpen = element.getAttribute(\"open\");\n          if (wasOpen != isOpen) {\n            triggerToggle(element);\n          }\n        }, 1);\n      });\n    }\n  }\n  function polyfillAccessibility() {\n    setAccessibilityAttributes(document);\n    if (window.MutationObserver) {\n      new MutationObserver(function(mutations) {\n        forEach.call(mutations, function(mutation) {\n          forEach.call(mutation.addedNodes, setAccessibilityAttributes);\n        });\n      }).observe(document.documentElement, {\n        subtree: true,\n        childList: true\n      });\n    } else {\n      document.addEventListener(\"DOMNodeInserted\", function(event) {\n        setAccessibilityAttributes(event.target);\n      });\n    }\n  }\n  function setAccessibilityAttributes(root) {\n    findElementsWithTagName(root, \"SUMMARY\").forEach(function(summary) {\n      var details = findClosestElementWithTagName(summary, \"DETAILS\");\n      summary.setAttribute(\"aria-expanded\", details.hasAttribute(\"open\"));\n      if (!summary.hasAttribute(\"tabindex\")) summary.setAttribute(\"tabindex\", \"0\");\n      if (!summary.hasAttribute(\"role\")) summary.setAttribute(\"role\", \"button\");\n    });\n  }\n  function eventIsSignificant(event) {\n    return !(event.defaultPrevented || event.ctrlKey || event.metaKey || event.shiftKey || event.target.isContentEditable);\n  }\n  function onTogglingTrigger(callback) {\n    addEventListener(\"click\", function(event) {\n      if (eventIsSignificant(event)) {\n        if (event.which <= 1) {\n          var element = findClosestElementWithTagName(event.target, \"SUMMARY\");\n          if (element && element.parentNode && element.parentNode.tagName == \"DETAILS\") {\n            callback(element.parentNode);\n          }\n        }\n      }\n    }, false);\n    addEventListener(\"keydown\", function(event) {\n      if (eventIsSignificant(event)) {\n        if (event.keyCode == 13 || event.keyCode == 32) {\n          var element = findClosestElementWithTagName(event.target, \"SUMMARY\");\n          if (element && element.parentNode && element.parentNode.tagName == \"DETAILS\") {\n            callback(element.parentNode);\n            event.preventDefault();\n          }\n        }\n      }\n    }, false);\n  }\n  function triggerToggle(element) {\n    var event = document.createEvent(\"Event\");\n    event.initEvent(\"toggle\", false, false);\n    element.dispatchEvent(event);\n  }\n  function findElementsWithTagName(root, tagName) {\n    return (root.tagName == tagName ? [ root ] : []).concat(typeof root.getElementsByTagName == \"function\" ? slice.call(root.getElementsByTagName(tagName)) : []);\n  }\n  function findClosestElementWithTagName(element, tagName) {\n    if (typeof element.closest == \"function\") {\n      return element.closest(tagName);\n    } else {\n      while (element) {\n        if (element.tagName == tagName) {\n          return element;\n        } else {\n          element = element.parentNode;\n        }\n      }\n    }\n  }\n})();\n"]}